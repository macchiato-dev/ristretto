# Rollup Files

This contains files for running rollup.

This sets up the [browser build of Rollup](https://rollupjs.org/faqs/#how-do-i-run-rollup-itself-in-a-browser), which is used both in a browser and in Deno.

The contents is downloaded from npm and placed in here and checked by the build.

`rollup.browser.js`

```js
/*
  @license
	Rollup.js v4.5.1
	Tue, 21 Nov 2023 20:12:39 GMT - commit a083019c7f0c18a1c17260ab1239b12400984a88

	https://github.com/rollup/rollup

	Released under the MIT License.
*/
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).rollup={})}(this,(function(e){var t="undefined"!=typeof document?document.currentScript:null,n="4.5.1";"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self;function s(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var i={exports:{}};!function(e,t){!function(e){const t=",".charCodeAt(0),n=";".charCodeAt(0),s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=new Uint8Array(64),r=new Uint8Array(128);for(let e=0;e<s.length;e++){const t=s.charCodeAt(e);i[e]=t,r[t]=e}const o="undefined"!=typeof TextDecoder?new TextDecoder:"undefined"!=typeof Buffer?{decode:e=>Buffer.from(e.buffer,e.byteOffset,e.byteLength).toString()}:{decode(e){let t="";for(let n=0;n<e.length;n++)t+=String.fromCharCode(e[n]);return t}};function a(e){const t=new Int32Array(5),n=[];let s=0;do{const i=l(e,s),r=[];let o=!0,a=0;t[0]=0;for(let n=s;n<i;n++){let s;n=c(e,n,t,0);const l=t[0];l<a&&(o=!1),a=l,d(e,n,i)?(n=c(e,n,t,1),n=c(e,n,t,2),n=c(e,n,t,3),d(e,n,i)?(n=c(e,n,t,4),s=[l,t[1],t[2],t[3],t[4]]):s=[l,t[1],t[2],t[3]]):s=[l],r.push(s)}o||u(r),n.push(r),s=i+1}while(s<=e.length);return n}function l(e,t){const n=e.indexOf(";",t);return-1===n?e.length:n}function c(e,t,n,s){let i=0,o=0,a=0;do{const n=e.charCodeAt(t++);a=r[n],i|=(31&a)<<o,o+=5}while(32&a);const l=1&i;return i>>>=1,l&&(i=-2147483648|-i),n[s]+=i,t}function d(e,n,s){return!(n>=s)&&e.charCodeAt(n)!==t}function u(e){e.sort(h)}function h(e,t){return e[0]-t[0]}function p(e){const s=new Int32Array(5),i=16384,r=i-36,a=new Uint8Array(i),l=a.subarray(0,r);let c=0,d="";for(let u=0;u<e.length;u++){const h=e[u];if(u>0&&(c===i&&(d+=o.decode(a),c=0),a[c++]=n),0!==h.length){s[0]=0;for(let e=0;e<h.length;e++){const n=h[e];c>r&&(d+=o.decode(l),a.copyWithin(0,r,c),c-=r),e>0&&(a[c++]=t),c=f(a,c,s,n,0),1!==n.length&&(c=f(a,c,s,n,1),c=f(a,c,s,n,2),c=f(a,c,s,n,3),4!==n.length&&(c=f(a,c,s,n,4)))}}}return d+o.decode(a.subarray(0,c))}function f(e,t,n,s,r){const o=s[r];let a=o-n[r];n[r]=o,a=a<0?-a<<1|1:a<<1;do{let n=31&a;a>>>=5,a>0&&(n|=32),e[t++]=i[n]}while(a>0);return t}e.decode=a,e.encode=p,Object.defineProperty(e,"__esModule",{value:!0})}(t)}(0,i.exports);var r=i.exports;class o{constructor(e){this.bits=e instanceof o?e.bits.slice():[]}add(e){this.bits[e>>5]|=1<<(31&e)}has(e){return!!(this.bits[e>>5]&1<<(31&e))}}let a=class e{constructor(e,t,n){this.start=e,this.end=t,this.original=n,this.intro="",this.outro="",this.content=n,this.storeName=!1,this.edited=!1,this.previous=null,this.next=null}appendLeft(e){this.outro+=e}appendRight(e){this.intro=this.intro+e}clone(){const t=new e(this.start,this.end,this.original);return t.intro=this.intro,t.outro=this.outro,t.content=this.content,t.storeName=this.storeName,t.edited=this.edited,t}contains(e){return this.start<e&&e<this.end}eachNext(e){let t=this;for(;t;)e(t),t=t.next}eachPrevious(e){let t=this;for(;t;)e(t),t=t.previous}edit(e,t,n){return this.content=e,n||(this.intro="",this.outro=""),this.storeName=t,this.edited=!0,this}prependLeft(e){this.outro=e+this.outro}prependRight(e){this.intro=e+this.intro}split(t){const n=t-this.start,s=this.original.slice(0,n),i=this.original.slice(n);this.original=s;const r=new e(t,this.end,i);return r.outro=this.outro,this.outro="",this.end=t,this.edited?(r.edit("",!1),this.content=""):this.content=s,r.next=this.next,r.next&&(r.next.previous=r),r.previous=this,this.next=r,r}toString(){return this.intro+this.content+this.outro}trimEnd(e){if(this.outro=this.outro.replace(e,""),this.outro.length)return!0;const t=this.content.replace(e,"");return t.length?(t!==this.content&&(this.split(this.start+t.length).edit("",void 0,!0),this.edited&&this.edit(t,this.storeName,!0)),!0):(this.edit("",void 0,!0),this.intro=this.intro.replace(e,""),!!this.intro.length||void 0)}trimStart(e){if(this.intro=this.intro.replace(e,""),this.intro.length)return!0;const t=this.content.replace(e,"");if(t.length){if(t!==this.content){const e=this.split(this.end-t.length);this.edited&&e.edit(t,this.storeName,!0),this.edit("",void 0,!0)}return!0}return this.edit("",void 0,!0),this.outro=this.outro.replace(e,""),!!this.outro.length||void 0}};function l(){return"undefined"!=typeof window&&"function"==typeof window.btoa?e=>window.btoa(unescape(encodeURIComponent(e))):"function"==typeof Buffer?e=>Buffer.from(e,"utf-8").toString("base64"):()=>{throw new Error("Unsupported environment: `window.btoa` or `Buffer` should be supported.")}}const c=l();class d{constructor(e){this.version=3,this.file=e.file,this.sources=e.sources,this.sourcesContent=e.sourcesContent,this.names=e.names,this.mappings=r.encode(e.mappings),void 0!==e.x_google_ignoreList&&(this.x_google_ignoreList=e.x_google_ignoreList)}toString(){return JSON.stringify(this)}toUrl(){return"data:application/json;charset=utf-8;base64,"+c(this.toString())}}function u(e,t){const n=e.split(/[/\\]/),s=t.split(/[/\\]/);for(n.pop();n[0]===s[0];)n.shift(),s.shift();if(n.length){let e=n.length;for(;e--;)n[e]=".."}return n.concat(s).join("/")}const h=Object.prototype.toString;function p(e){return"[object Object]"===h.call(e)}function f(e){const t=e.split("\n"),n=[];for(let e=0,s=0;e<t.length;e++)n.push(s),s+=t[e].length+1;return function(e){let t=0,s=n.length;for(;t<s;){const i=t+s>>1;e<n[i]?s=i:t=i+1}const i=t-1;return{line:i,column:e-n[i]}}}const m=/\w/;class g{constructor(e){this.hires=e,this.generatedCodeLine=0,this.generatedCodeColumn=0,this.raw=[],this.rawSegments=this.raw[this.generatedCodeLine]=[],this.pending=null}addEdit(e,t,n,s){if(t.length){let i=t.indexOf("\n",0),r=-1;for(;i>=0;){const o=[this.generatedCodeColumn,e,n.line,n.column];s>=0&&o.push(s),this.rawSegments.push(o),this.generatedCodeLine+=1,this.raw[this.generatedCodeLine]=this.rawSegments=[],this.generatedCodeColumn=0,r=i,i=t.indexOf("\n",i+1)}const o=[this.generatedCodeColumn,e,n.line,n.column];s>=0&&o.push(s),this.rawSegments.push(o),this.advance(t.slice(r+1))}else this.pending&&(this.rawSegments.push(this.pending),this.advance(t));this.pending=null}addUneditedChunk(e,t,n,s,i){let r=t.start,o=!0,a=!1;for(;r<t.end;){if(this.hires||o||i.has(r)){const t=[this.generatedCodeColumn,e,s.line,s.column];"boundary"===this.hires?m.test(n[r])?a||(this.rawSegments.push(t),a=!0):(this.rawSegments.push(t),a=!1):this.rawSegments.push(t)}"\n"===n[r]?(s.line+=1,s.column=0,this.generatedCodeLine+=1,this.raw[this.generatedCodeLine]=this.rawSegments=[],this.generatedCodeColumn=0,o=!0):(s.column+=1,this.generatedCodeColumn+=1,o=!1),r+=1}this.pending=null}advance(e){if(!e)return;const t=e.split("\n");if(t.length>1){for(let e=0;e<t.length-1;e++)this.generatedCodeLine++,this.raw[this.generatedCodeLine]=this.rawSegments=[];this.generatedCodeColumn=0}this.generatedCodeColumn+=t[t.length-1].length}}const y="\n",b={insertLeft:!1,insertRight:!1,storeName:!1};class E{constructor(e,t={}){const n=new a(0,e.length,e);Object.defineProperties(this,{original:{writable:!0,value:e},outro:{writable:!0,value:""},intro:{writable:!0,value:""},firstChunk:{writable:!0,value:n},lastChunk:{writable:!0,value:n},lastSearchedChunk:{writable:!0,value:n},byStart:{writable:!0,value:{}},byEnd:{writable:!0,value:{}},filename:{writable:!0,value:t.filename},indentExclusionRanges:{writable:!0,value:t.indentExclusionRanges},sourcemapLocations:{writable:!0,value:new o},storedNames:{writable:!0,value:{}},indentStr:{writable:!0,value:void 0},ignoreList:{writable:!0,value:t.ignoreList}}),this.byStart[0]=n,this.byEnd[e.length]=n}addSourcemapLocation(e){this.sourcemapLocations.add(e)}append(e){if("string"!=typeof e)throw new TypeError("outro content must be a string");return this.outro+=e,this}appendLeft(e,t){if("string"!=typeof t)throw new TypeError("inserted content must be a string");this._split(e);const n=this.byEnd[e];return n?n.appendLeft(t):this.intro+=t,this}appendRight(e,t){if("string"!=typeof t)throw new TypeError("inserted content must be a string");this._split(e);const n=this.byStart[e];return n?n.appendRight(t):this.outro+=t,this}clone(){const e=new E(this.original,{filename:this.filename});let t=this.firstChunk,n=e.firstChunk=e.lastSearchedChunk=t.clone();for(;t;){e.byStart[n.start]=n,e.byEnd[n.end]=n;const s=t.next,i=s&&s.clone();i&&(n.next=i,i.previous=n,n=i),t=s}return e.lastChunk=n,this.indentExclusionRanges&&(e.indentExclusionRanges=this.indentExclusionRanges.slice()),e.sourcemapLocations=new o(this.sourcemapLocations),e.intro=this.intro,e.outro=this.outro,e}generateDecodedMap(e){e=e||{};const t=Object.keys(this.storedNames),n=new g(e.hires),s=f(this.original);return this.intro&&n.advance(this.intro),this.firstChunk.eachNext((e=>{const i=s(e.start);e.intro.length&&n.advance(e.intro),e.edited?n.addEdit(0,e.content,i,e.storeName?t.indexOf(e.original):-1):n.addUneditedChunk(0,e,this.original,i,this.sourcemapLocations),e.outro.length&&n.advance(e.outro)})),{file:e.file?e.file.split(/[/\\]/).pop():void 0,sources:[e.source?u(e.file||"",e.source):e.file||""],sourcesContent:e.includeContent?[this.original]:void 0,names:t,mappings:n.raw,x_google_ignoreList:this.ignoreList?[0]:void 0}}generateMap(e){return new d(this.generateDecodedMap(e))}_ensureindentStr(){void 0===this.indentStr&&(this.indentStr=function(e){const t=e.split("\n"),n=t.filter((e=>/^\t+/.test(e))),s=t.filter((e=>/^ {2,}/.test(e)));if(0===n.length&&0===s.length)return null;if(n.length>=s.length)return"\t";const i=s.reduce(((e,t)=>{const n=/^ +/.exec(t)[0].length;return Math.min(n,e)}),1/0);return new Array(i+1).join(" ")}(this.original))}_getRawIndentString(){return this._ensureindentStr(),this.indentStr}getIndentString(){return this._ensureindentStr(),null===this.indentStr?"\t":this.indentStr}indent(e,t){const n=/^[^\r\n]/gm;if(p(e)&&(t=e,e=void 0),void 0===e&&(this._ensureindentStr(),e=this.indentStr||"\t"),""===e)return this;const s={};if((t=t||{}).exclude){("number"==typeof t.exclude[0]?[t.exclude]:t.exclude).forEach((e=>{for(let t=e[0];t<e[1];t+=1)s[t]=!0}))}let i=!1!==t.indentStart;const r=t=>i?`${e}${t}`:(i=!0,t);this.intro=this.intro.replace(n,r);let o=0,a=this.firstChunk;for(;a;){const t=a.end;if(a.edited)s[o]||(a.content=a.content.replace(n,r),a.content.length&&(i="\n"===a.content[a.content.length-1]));else for(o=a.start;o<t;){if(!s[o]){const t=this.original[o];"\n"===t?i=!0:"\r"!==t&&i&&(i=!1,o===a.start||(this._splitChunk(a,o),a=a.next),a.prependRight(e))}o+=1}o=a.end,a=a.next}return this.outro=this.outro.replace(n,r),this}insert(){throw new Error("magicString.insert(...) is deprecated. Use prependRight(...) or appendLeft(...)")}insertLeft(e,t){return b.insertLeft||(console.warn("magicString.insertLeft(...) is deprecated. Use magicString.appendLeft(...) instead"),b.insertLeft=!0),this.appendLeft(e,t)}insertRight(e,t){return b.insertRight||(console.warn("magicString.insertRight(...) is deprecated. Use magicString.prependRight(...) instead"),b.insertRight=!0),this.prependRight(e,t)}move(e,t,n){if(n>=e&&n<=t)throw new Error("Cannot move a selection inside itself");this._split(e),this._split(t),this._split(n);const s=this.byStart[e],i=this.byEnd[t],r=s.previous,o=i.next,a=this.byStart[n];if(!a&&i===this.lastChunk)return this;const l=a?a.previous:this.lastChunk;return r&&(r.next=o),o&&(o.previous=r),l&&(l.next=s),a&&(a.previous=i),s.previous||(this.firstChunk=i.next),i.next||(this.lastChunk=s.previous,this.lastChunk.next=null),s.previous=l,i.next=a||null,l||(this.firstChunk=s),a||(this.lastChunk=i),this}overwrite(e,t,n,s){return s=s||{},this.update(e,t,n,{...s,overwrite:!s.contentOnly})}update(e,t,n,s){if("string"!=typeof n)throw new TypeError("replacement content must be a string");for(;e<0;)e+=this.original.length;for(;t<0;)t+=this.original.length;if(t>this.original.length)throw new Error("end is out of bounds");if(e===t)throw new Error("Cannot overwrite a zero-length range – use appendLeft or prependRight instead");this._split(e),this._split(t),!0===s&&(b.storeName||(console.warn("The final argument to magicString.overwrite(...) should be an options object. See https://github.com/rich-harris/magic-string"),b.storeName=!0),s={storeName:!0});const i=void 0!==s&&s.storeName,r=void 0!==s&&s.overwrite;if(i){const n=this.original.slice(e,t);Object.defineProperty(this.storedNames,n,{writable:!0,value:!0,enumerable:!0})}const o=this.byStart[e],l=this.byEnd[t];if(o){let e=o;for(;e!==l;){if(e.next!==this.byStart[e.end])throw new Error("Cannot overwrite across a split point");e=e.next,e.edit("",!1)}o.edit(n,i,!r)}else{const s=new a(e,t,"").edit(n,i);l.next=s,s.previous=l}return this}prepend(e){if("string"!=typeof e)throw new TypeError("outro content must be a string");return this.intro=e+this.intro,this}prependLeft(e,t){if("string"!=typeof t)throw new TypeError("inserted content must be a string");this._split(e);const n=this.byEnd[e];return n?n.prependLeft(t):this.intro=t+this.intro,this}prependRight(e,t){if("string"!=typeof t)throw new TypeError("inserted content must be a string");this._split(e);const n=this.byStart[e];return n?n.prependRight(t):this.outro=t+this.outro,this}remove(e,t){for(;e<0;)e+=this.original.length;for(;t<0;)t+=this.original.length;if(e===t)return this;if(e<0||t>this.original.length)throw new Error("Character is out of bounds");if(e>t)throw new Error("end must be greater than start");this._split(e),this._split(t);let n=this.byStart[e];for(;n;)n.intro="",n.outro="",n.edit(""),n=t>n.end?this.byStart[n.end]:null;return this}lastChar(){if(this.outro.length)return this.outro[this.outro.length-1];let e=this.lastChunk;do{if(e.outro.length)return e.outro[e.outro.length-1];if(e.content.length)return e.content[e.content.length-1];if(e.intro.length)return e.intro[e.intro.length-1]}while(e=e.previous);return this.intro.length?this.intro[this.intro.length-1]:""}lastLine(){let e=this.outro.lastIndexOf(y);if(-1!==e)return this.outro.substr(e+1);let t=this.outro,n=this.lastChunk;do{if(n.outro.length>0){if(e=n.outro.lastIndexOf(y),-1!==e)return n.outro.substr(e+1)+t;t=n.outro+t}if(n.content.length>0){if(e=n.content.lastIndexOf(y),-1!==e)return n.content.substr(e+1)+t;t=n.content+t}if(n.intro.length>0){if(e=n.intro.lastIndexOf(y),-1!==e)return n.intro.substr(e+1)+t;t=n.intro+t}}while(n=n.previous);return e=this.intro.lastIndexOf(y),-1!==e?this.intro.substr(e+1)+t:this.intro+t}slice(e=0,t=this.original.length){for(;e<0;)e+=this.original.length;for(;t<0;)t+=this.original.length;let n="",s=this.firstChunk;for(;s&&(s.start>e||s.end<=e);){if(s.start<t&&s.end>=t)return n;s=s.next}if(s&&s.edited&&s.start!==e)throw new Error(`Cannot use replaced character ${e} as slice start anchor.`);const i=s;for(;s;){!s.intro||i===s&&s.start!==e||(n+=s.intro);const r=s.start<t&&s.end>=t;if(r&&s.edited&&s.end!==t)throw new Error(`Cannot use replaced character ${t} as slice end anchor.`);const o=i===s?e-s.start:0,a=r?s.content.length+t-s.end:s.content.length;if(n+=s.content.slice(o,a),!s.outro||r&&s.end!==t||(n+=s.outro),r)break;s=s.next}return n}snip(e,t){const n=this.clone();return n.remove(0,e),n.remove(t,n.original.length),n}_split(e){if(this.byStart[e]||this.byEnd[e])return;let t=this.lastSearchedChunk;const n=e>t.end;for(;t;){if(t.contains(e))return this._splitChunk(t,e);t=n?this.byStart[t.end]:this.byEnd[t.start]}}_splitChunk(e,t){if(e.edited&&e.content.length){const n=f(this.original)(t);throw new Error(`Cannot split a chunk that has already been edited (${n.line}:${n.column} – "${e.original}")`)}const n=e.split(t);return this.byEnd[t]=e,this.byStart[t]=n,this.byEnd[n.end]=n,e===this.lastChunk&&(this.lastChunk=n),this.lastSearchedChunk=e,!0}toString(){let e=this.intro,t=this.firstChunk;for(;t;)e+=t.toString(),t=t.next;return e+this.outro}isEmpty(){let e=this.firstChunk;do{if(e.intro.length&&e.intro.trim()||e.content.length&&e.content.trim()||e.outro.length&&e.outro.trim())return!1}while(e=e.next);return!0}length(){let e=this.firstChunk,t=0;do{t+=e.intro.length+e.content.length+e.outro.length}while(e=e.next);return t}trimLines(){return this.trim("[\\r\\n]")}trim(e){return this.trimStart(e).trimEnd(e)}trimEndAborted(e){const t=new RegExp((e||"\\s")+"+$");if(this.outro=this.outro.replace(t,""),this.outro.length)return!0;let n=this.lastChunk;do{const e=n.end,s=n.trimEnd(t);if(n.end!==e&&(this.lastChunk===n&&(this.lastChunk=n.next),this.byEnd[n.end]=n,this.byStart[n.next.start]=n.next,this.byEnd[n.next.end]=n.next),s)return!0;n=n.previous}while(n);return!1}trimEnd(e){return this.trimEndAborted(e),this}trimStartAborted(e){const t=new RegExp("^"+(e||"\\s")+"+");if(this.intro=this.intro.replace(t,""),this.intro.length)return!0;let n=this.firstChunk;do{const e=n.end,s=n.trimStart(t);if(n.end!==e&&(n===this.lastChunk&&(this.lastChunk=n.next),this.byEnd[n.end]=n,this.byStart[n.next.start]=n.next,this.byEnd[n.next.end]=n.next),s)return!0;n=n.next}while(n);return!1}trimStart(e){return this.trimStartAborted(e),this}hasChanged(){return this.original!==this.toString()}_replaceRegexp(e,t){function n(e,n){return"string"==typeof t?t.replace(/\$(\$|&|\d+)/g,((t,n)=>{if("$"===n)return"$";if("&"===n)return e[0];return+n<e.length?e[+n]:`$${n}`})):t(...e,e.index,n,e.groups)}if(e.global){(function(e,t){let n;const s=[];for(;n=e.exec(t);)s.push(n);return s})(e,this.original).forEach((e=>{null!=e.index&&this.overwrite(e.index,e.index+e[0].length,n(e,this.original))}))}else{const t=this.original.match(e);t&&null!=t.index&&this.overwrite(t.index,t.index+t[0].length,n(t,this.original))}return this}_replaceString(e,t){const{original:n}=this,s=n.indexOf(e);return-1!==s&&this.overwrite(s,s+e.length,t),this}replace(e,t){return"string"==typeof e?this._replaceString(e,t):this._replaceRegexp(e,t)}_replaceAllString(e,t){const{original:n}=this,s=e.length;for(let i=n.indexOf(e);-1!==i;i=n.indexOf(e,i+s))this.overwrite(i,i+s,t);return this}replaceAll(e,t){if("string"==typeof e)return this._replaceAllString(e,t);if(!e.global)throw new TypeError("MagicString.prototype.replaceAll called with a non-global RegExp argument");return this._replaceRegexp(e,t)}}const x=Object.prototype.hasOwnProperty;let $=class e{constructor(e={}){this.intro=e.intro||"",this.separator=void 0!==e.separator?e.separator:"\n",this.sources=[],this.uniqueSources=[],this.uniqueSourceIndexByFilename={}}addSource(e){if(e instanceof E)return this.addSource({content:e,filename:e.filename,separator:this.separator});if(!p(e)||!e.content)throw new Error("bundle.addSource() takes an object with a `content` property, which should be an instance of MagicString, and an optional `filename`");if(["filename","ignoreList","indentExclusionRanges","separator"].forEach((t=>{x.call(e,t)||(e[t]=e.content[t])})),void 0===e.separator&&(e.separator=this.separator),e.filename)if(x.call(this.uniqueSourceIndexByFilename,e.filename)){const t=this.uniqueSources[this.uniqueSourceIndexByFilename[e.filename]];if(e.content.original!==t.content)throw new Error(`Illegal source: same filename (${e.filename}), different contents`)}else this.uniqueSourceIndexByFilename[e.filename]=this.uniqueSources.length,this.uniqueSources.push({filename:e.filename,content:e.content.original});return this.sources.push(e),this}append(e,t){return this.addSource({content:new E(e),separator:t&&t.separator||""}),this}clone(){const t=new e({intro:this.intro,separator:this.separator});return this.sources.forEach((e=>{t.addSource({filename:e.filename,content:e.content.clone(),separator:e.separator})})),t}generateDecodedMap(e={}){const t=[];let n;this.sources.forEach((e=>{Object.keys(e.content.storedNames).forEach((e=>{~t.indexOf(e)||t.push(e)}))}));const s=new g(e.hires);return this.intro&&s.advance(this.intro),this.sources.forEach(((e,i)=>{i>0&&s.advance(this.separator);const r=e.filename?this.uniqueSourceIndexByFilename[e.filename]:-1,o=e.content,a=f(o.original);o.intro&&s.advance(o.intro),o.firstChunk.eachNext((n=>{const i=a(n.start);n.intro.length&&s.advance(n.intro),e.filename?n.edited?s.addEdit(r,n.content,i,n.storeName?t.indexOf(n.original):-1):s.addUneditedChunk(r,n,o.original,i,o.sourcemapLocations):s.advance(n.content),n.outro.length&&s.advance(n.outro)})),o.outro&&s.advance(o.outro),e.ignoreList&&-1!==r&&(void 0===n&&(n=[]),n.push(r))})),{file:e.file?e.file.split(/[/\\]/).pop():void 0,sources:this.uniqueSources.map((t=>e.file?u(e.file,t.filename):t.filename)),sourcesContent:this.uniqueSources.map((t=>e.includeContent?t.content:null)),names:t,mappings:s.raw,x_google_ignoreList:n}}generateMap(e){return new d(this.generateDecodedMap(e))}getIndentString(){const e={};return this.sources.forEach((t=>{const n=t.content._getRawIndentString();null!==n&&(e[n]||(e[n]=0),e[n]+=1)})),Object.keys(e).sort(((t,n)=>e[t]-e[n]))[0]||"\t"}indent(e){if(arguments.length||(e=this.getIndentString()),""===e)return this;let t=!this.intro||"\n"===this.intro.slice(-1);return this.sources.forEach(((n,s)=>{const i=void 0!==n.separator?n.separator:this.separator,r=t||s>0&&/\r?\n$/.test(i);n.content.indent(e,{exclude:n.indentExclusionRanges,indentStart:r}),t="\n"===n.content.lastChar()})),this.intro&&(this.intro=e+this.intro.replace(/^[^\n]/gm,((t,n)=>n>0?e+t:t))),this}prepend(e){return this.intro=e+this.intro,this}toString(){const e=this.sources.map(((e,t)=>{const n=void 0!==e.separator?e.separator:this.separator;return(t>0?n:"")+e.content.toString()})).join("");return this.intro+e}isEmpty(){return(!this.intro.length||!this.intro.trim())&&!this.sources.some((e=>!e.content.isEmpty()))}length(){return this.sources.reduce(((e,t)=>e+t.content.length()),this.intro.length)}trimLines(){return this.trim("[\\r\\n]")}trim(e){return this.trimStart(e).trimEnd(e)}trimStart(e){const t=new RegExp("^"+(e||"\\s")+"+");if(this.intro=this.intro.replace(t,""),!this.intro){let t,n=0;do{if(t=this.sources[n++],!t)break}while(!t.content.trimStartAborted(e))}return this}trimEnd(e){const t=new RegExp((e||"\\s")+"+$");let n,s=this.sources.length-1;do{if(n=this.sources[s--],!n){this.intro=this.intro.replace(t,"");break}}while(!n.content.trimEndAborted(e));return this}};const A=/^(?:\/|(?:[A-Za-z]:)?[/\\|])/,S=/^\.?\.\//,w=/\\/g,v=/[/\\]/,I=/\.[^.]+$/;function P(e){return A.test(e)}function k(e){return S.test(e)}function N(e){return e.replace(w,"/")}function C(e){return e.split(v).pop()||""}function M(e){const t=/[/\\][^/\\]*$/.exec(e);if(!t)return".";return e.slice(0,-t[0].length)||"/"}function O(e){const t=I.exec(C(e));return t?t[0]:""}function D(e,t){const n=e.split(v).filter(Boolean),s=t.split(v).filter(Boolean);for("."===n[0]&&n.shift(),"."===s[0]&&s.shift();n[0]&&s[0]&&n[0]===s[0];)n.shift(),s.shift();for(;".."===s[0]&&n.length>0;)s.shift(),n.pop();for(;n.pop();)s.unshift("..");return s.join("/")}function R(...e){const t=e.shift();if(!t)return"/";let n=t.split(v);for(const t of e)if(P(t))n=t.split(v);else{const e=t.split(v);for(;"."===e[0]||".."===e[0];){".."===e.shift()&&n.pop()}n.push(...e)}return n.join("/")}const L=/[\n\r'\\\u2028\u2029]/,_=/([\n\r'\u2028\u2029])/g,B=/\\/g;function T(e){return L.test(e)?e.replace(B,"\\\\").replace(_,"\\$1"):e}function z(e){const t=C(e);return t.slice(0,Math.max(0,t.length-O(e).length))}function V(e){return P(e)?D(R(),e):e}function F(e){return"/"===e[0]||"."===e[0]&&("/"===e[1]||"."===e[1])||P(e)}const j=/^(\.\.\/)*\.\.$/;function U(e,t,n,s){for(;t.startsWith("../");)t=t.slice(3),e="_/"+e;let i=N(D(M(e),t));if(n&&i.endsWith(".js")&&(i=i.slice(0,-3)),s){if(""===i)return"../"+C(t);if(j.test(i))return[...i.split("/"),"..",C(t)].join("/")}return i?i.startsWith("..")?i:"./"+i:"."}class G{constructor(e,t,n){this.options=t,this.inputBase=n,this.defaultVariableName="",this.namespaceVariableName="",this.variableName="",this.fileName=null,this.importAttributes=null,this.id=e.id,this.moduleInfo=e.info,this.renormalizeRenderPath=e.renormalizeRenderPath,this.suggestedVariableName=e.suggestedVariableName}getFileName(){if(this.fileName)return this.fileName;const{paths:e}=this.options;return this.fileName=("function"==typeof e?e(this.id):e[this.id])||(this.renormalizeRenderPath?N(D(this.inputBase,this.id)):this.id)}getImportAttributes(e){return this.importAttributes||=function(e,{getObject:t}){if(!e)return null;const n=Object.entries(e).map((([e,t])=>[e,`'${t}'`]));if(n.length>0)return t(n,{lineBreakIndent:null});return null}("es"===this.options.format&&this.options.externalImportAttributes&&this.moduleInfo.attributes,e)}getImportPath(e){return T(this.renormalizeRenderPath?U(e,this.getFileName(),"amd"===this.options.format,!1):this.getFileName())}}function W(e,t,n){const s=e.get(t);if(void 0!==s)return s;const i=n();return e.set(t,i),i}function H(){return new Set}function q(){return[]}const K=Symbol("Unknown Key"),Y=Symbol("Unknown Non-Accessor Key"),X=Symbol("Unknown Integer"),J=Symbol("Symbol.toStringTag"),Z=[],Q=[K],ee=[Y],te=[X],ne=Symbol("Entities");class se{constructor(){this.entityPaths=Object.create(null,{[ne]:{value:new Set}})}trackEntityAtPathAndGetIfTracked(e,t){const n=this.getEntities(e);return!!n.has(t)||(n.add(t),!1)}withTrackedEntityAtPath(e,t,n,s){const i=this.getEntities(e);if(i.has(t))return s;i.add(t);const r=n();return i.delete(t),r}getEntities(e){let t=this.entityPaths;for(const n of e)t=t[n]=t[n]||Object.create(null,{[ne]:{value:new Set}});return t[ne]}}const ie=new se;class re{constructor(){this.entityPaths=Object.create(null,{[ne]:{value:new Map}})}trackEntityAtPathAndGetIfTracked(e,t,n){let s=this.entityPaths;for(const t of e)s=s[t]=s[t]||Object.create(null,{[ne]:{value:new Map}});const i=W(s[ne],t,H);return!!i.has(n)||(i.add(n),!1)}}function oe(e,t){return 0!=(e&t)}function ae(e,t,n){return e&~t|-n&t}const le=Symbol("Unknown Value"),ce=Symbol("Unknown Truthy Value");class de{constructor(){this.flags=0}get included(){return oe(this.flags,1)}set included(e){this.flags=ae(this.flags,1,e)}deoptimizeArgumentsOnInteractionAtPath(e,t,n){pe(e)}deoptimizePath(e){}getLiteralValueAtPath(e,t,n){return le}getReturnExpressionWhenCalledAtPath(e,t,n,s){return he}hasEffectsOnInteractionAtPath(e,t,n){return!0}include(e,t,n){this.included=!0}includeCallArguments(e,t){for(const n of t)n.include(e,!1)}shouldBeIncluded(e){return!0}}const ue=new class extends de{},he=[ue,!1],pe=e=>{for(const t of e.args)t?.deoptimizePath(Q)},fe={args:[null],type:0},me={args:[null,ue],type:1},ge={args:[null],type:2,withNew:!1};class ye extends de{constructor(e){super(),this.name=e,this.alwaysRendered=!1,this.forbiddenNames=null,this.initReached=!1,this.isId=!1,this.isReassigned=!1,this.kind=null,this.renderBaseName=null,this.renderName=null}addReference(e){}forbidName(e){(this.forbiddenNames||=new Set).add(e)}getBaseVariableName(){return this.renderedLikeHoisted?.getBaseVariableName()||this.renderBaseName||this.renderName||this.name}getName(e,t){if(t?.(this))return this.name;if(this.renderedLikeHoisted)return this.renderedLikeHoisted.getName(e,t);const n=this.renderName||this.name;return this.renderBaseName?`${this.renderBaseName}${e(n)}`:n}hasEffectsOnInteractionAtPath(e,{type:t},n){return 0!==t||e.length>0}include(){this.included=!0,this.renderedLikeHoisted?.include()}renderLikeHoisted(e){this.renderedLikeHoisted=e}markCalledFromTryStatement(){}setRenderNames(e,t){this.renderBaseName=e,this.renderName=t}}class be extends ye{constructor(e,t){super(t),this.referenced=!1,this.module=e,this.isNamespace="*"===t}addReference(e){this.referenced=!0,"default"!==this.name&&"*"!==this.name||this.module.suggestName(e.name)}hasEffectsOnInteractionAtPath(e,{type:t}){return 0!==t||e.length>(this.isNamespace?1:0)}include(){super.include(),this.module.used=!0}}const Ee=Object.freeze(Object.create(null)),xe=Object.freeze({}),$e=Object.freeze([]),Ae=Object.freeze(new class extends Set{add(){throw new Error("Cannot add to empty set")}});var Se=new Set(["await","break","case","catch","class","const","continue","debugger","default","delete","do","else","enum","eval","export","extends","false","finally","for","function","if","implements","import","in","instanceof","interface","let","NaN","new","null","package","private","protected","public","return","static","super","switch","this","throw","true","try","typeof","undefined","var","void","while","with","yield"]);const we=/[^\w$]/g,ve=e=>(e=>/\d/.test(e[0]))(e)||Se.has(e)||"arguments"===e;function Ie(e){return e=e.replace(/-(\w)/g,((e,t)=>t.toUpperCase())).replace(we,"_"),ve(e)&&(e=`_${e}`),e||"_"}const Pe="warn",ke="info",Ne="debug",Ce={[Ne]:0,[ke]:1,silent:3,[Pe]:2};function Me(e,t){return e.start<=t&&t<e.end}function Oe(e,t,n){return function(e,t={}){const{offsetLine:n=0,offsetColumn:s=0}=t;let i=0;const r=e.split("\n").map(((e,t)=>{const n=i+e.length+1,s={start:i,end:n,line:t};return i=n,s}));let o=0;return function(t,i){if("string"==typeof t&&(t=e.indexOf(t,i??0)),-1===t)return;let a=r[o];const l=t>=a.end?1:-1;for(;a;){if(Me(a,t))return{line:n+a.line,column:s+t-a.start,character:t};o+=l,a=r[o]}}}(e,n)(t,n&&n.startIndex)}function De(e){return e.replace(/^\t+/,(e=>e.split("\t").join("  ")))}const Re=120,Le=10,_e="...";function Be(e,t,n){let s=e.split("\n");if(t>s.length)return"";const i=Math.max(De(s[t-1].slice(0,n)).length+Le+_e.length,Re),r=Math.max(0,t-3);let o=Math.min(t+2,s.length);for(s=s.slice(r,o);!/\S/.test(s[s.length-1]);)s.pop(),o-=1;const a=String(o).length;return s.map(((e,s)=>{const o=r+s+1===t;let l=String(s+r+1);for(;l.length<a;)l=` ${l}`;let c=De(e);if(c.length>i&&(c=`${c.slice(0,i-_e.length)}${_e}`),o){const t=function(e){let t="";for(;e--;)t+=" ";return t}(a+2+De(e.slice(0,n)).length)+"^";return`${l}: ${c}\n${t}`}return`${l}: ${c}`})).join("\n")}function Te(e,t){const n=e.length<=1,s=e.map((e=>`"${e}"`));let i=n?s[0]:`${s.slice(0,-1).join(", ")} and ${s.slice(-1)[0]}`;return t&&(i+=` ${n?t[0]:t[1]}`),i}function ze(e){return`https://rollupjs.org/${e}`}const Ve="troubleshooting/#error-name-is-not-exported-by-module",Fe="troubleshooting/#warning-sourcemap-is-likely-to-be-incorrect",je="configuration-options/#output-amd-id",Ue="configuration-options/#output-dir",Ge="configuration-options/#output-exports",We="configuration-options/#output-extend",He="configuration-options/#output-format",qe="configuration-options/#output-globals",Ke="configuration-options/#output-inlinedynamicimports",Ye="configuration-options/#output-interop",Xe="configuration-options/#output-manualchunks",Je="configuration-options/#output-name",Ze="configuration-options/#output-sourcemapfile";function Qe(e){throw e instanceof Error||(e=Object.assign(new Error(e.message),e),Object.defineProperty(e,"name",{value:"RollupError",writable:!0})),e}function et(e,t,n,s){if("object"==typeof t){const{line:n,column:i}=t;e.loc={column:i,file:s,line:n}}else{e.pos=t;const i=Oe(n,t,{offsetLine:1});if(!i)return;const{line:r,column:o}=i;e.loc={column:o,file:s,line:r}}if(void 0===e.frame){const{line:t,column:s}=e.loc;e.frame=Be(n,t,s)}}const tt="ADDON_ERROR",nt="ALREADY_CLOSED",st="ANONYMOUS_PLUGIN_CACHE",it="ASSET_NOT_FINALISED",rt="CANNOT_EMIT_FROM_OPTIONS_HOOK",ot="CHUNK_NOT_GENERATED",at="CIRCULAR_REEXPORT",lt="DEPRECATED_FEATURE",ct="DUPLICATE_PLUGIN_NAME",dt="FILE_NAME_CONFLICT",ut="ILLEGAL_IDENTIFIER_AS_NAME",ht="INVALID_CHUNK",pt="INVALID_EXPORT_OPTION",ft="INVALID_IMPORT_ATTRIBUTE",mt="INVALID_LOG_POSITION",gt="INVALID_OPTION",yt="INVALID_PLUGIN_HOOK",bt="INVALID_ROLLUP_PHASE",Et="INVALID_SETASSETSOURCE",xt="MISSING_EXPORT",$t="MISSING_GLOBAL_NAME",At="MISSING_IMPLICIT_DEPENDANT",St="MISSING_NAME_OPTION_FOR_IIFE_EXPORT",wt="MISSING_NODE_BUILTINS",vt="MISSING_OPTION",It="MIXED_EXPORTS",Pt="NO_TRANSFORM_MAP_OR_AST_WITHOUT_CODE",kt="OPTIMIZE_CHUNK_STATUS",Nt="PARSE_ERROR",Ct="PLUGIN_ERROR",Mt="SOURCEMAP_BROKEN",Ot="UNEXPECTED_NAMED_IMPORT",Dt="UNKNOWN_OPTION",Rt="UNRESOLVED_ENTRY",Lt="UNRESOLVED_IMPORT",_t="VALIDATION_ERROR";function Bt(){return{code:nt,message:'Bundle is already closed, no more calls to "generate" or "write" are allowed.'}}function Tt(e){return{code:"CANNOT_CALL_NAMESPACE",message:`Cannot call a namespace ("${e}").`}}function zt({fileName:e,code:t},{pos:n,message:s}){const i={code:"CHUNK_INVALID",message:`Chunk "${e}" is not valid JavaScript: ${s}.`};return et(i,n,t,e),i}function Vt(e){return{code:"CIRCULAR_DEPENDENCY",ids:e,message:`Circular dependency: ${e.map(V).join(" -> ")}`}}function Ft(e,t,{line:n,column:s}){return{code:"FIRST_SIDE_EFFECT",message:`First side effect in ${V(t)} is at (${n}:${s})\n${Be(e,n,s)}`}}function jt(e,t){return{code:"ILLEGAL_REASSIGNMENT",message:`Illegal reassignment of import "${e}" in "${V(t)}".`}}function Ut(e,t,n,s){return{code:"INCONSISTENT_IMPORT_ATTRIBUTES",message:`Module "${V(s)}" tried to import "${V(n)}" with ${Gt(t)} attributes, but it was already imported elsewhere with ${Gt(e)} attributes. Please ensure that import attributes for the same module are always consistent.`}}const Gt=e=>{const t=Object.entries(e);return 0===t.length?"no":t.map((([e,t])=>`"${e}": "${t}"`)).join(", ")};function Wt(e,t,n){return{code:"INVALID_ANNOTATION",id:t,message:`A comment\n\n"${e}"\n\nin "${V(t)}" contains an annotation that Rollup cannot interpret due to the position of the comment. The comment will be removed to avoid issues.`,url:ze("noSideEffects"===n?"configuration-options/#no-side-effects":"configuration-options/#pure")}}function Ht(e,t,n){return{code:pt,message:`"${e}" was specified for "output.exports", but entry module "${V(n)}" has the following exports: ${Te(t)}`,url:ze(Ge)}}function qt(e){return{code:ft,message:`Rollup could not statically analyze an import attribute of a dynamic import in "${V(e)}". Import attributes need to have string keys and values. The attribute will be removed.`}}function Kt(e,t,n,s){return{code:gt,message:`Invalid value ${void 0===s?"":`${JSON.stringify(s)} `}for option "${e}" - ${n}.`,url:ze(t)}}function Yt(e,t,n){const s=".json"===O(n);return{binding:e,code:xt,exporter:n,id:t,message:`"${e}" is not exported by "${V(n)}", imported by "${V(t)}".${s?" (Note that you need @rollup/plugin-json to import JSON files)":""}`,url:ze(Ve)}}function Xt(e){const t=[...e.implicitlyLoadedBefore].map((e=>V(e.id))).sort();return{code:At,message:`Module "${V(e.id)}" that should be implicitly loaded before ${Te(t)} is not included in the module graph. Either it was not imported by an included module or only via a tree-shaken dynamic import, or no imported bindings were used and it had otherwise no side-effects.`}}function Jt(e,t,n){return{code:kt,message:`${n}, there are\n${e} chunks, of which\n${t} are below minChunkSize.`}}function Zt(e){return{code:"REDECLARATION_ERROR",message:`Identifier "${e}" has already been declared`}}function Qt(e,t){let n=e.message.replace(/ \(\d+:\d+\)$/,"");return t.endsWith(".json")?n+=" (Note that you need @rollup/plugin-json to import JSON files)":t.endsWith(".js")||(n+=" (Note that you need plugins to import files that are not JavaScript)"),{cause:e,code:Nt,id:t,message:n,stack:e.stack}}function en(e,t,{hook:n,id:s}={}){const i=e.code;return e.pluginCode||null==i||"string"==typeof i&&i.startsWith("PLUGIN_")||(e.pluginCode=i),e.code=Ct,e.plugin=t,n&&(e.hook=n),s&&(e.id=s),e}function tn(e){return{code:Mt,message:`Multiple conflicting contents for sourcemap source ${e}`}}function nn(e,t,n){const s=n?"reexport":"import";return{code:Ot,exporter:e,message:`The named export "${t}" was ${s}ed from the external module "${V(e)}" even though its interop type is "defaultOnly". Either remove or change this ${s} or change the value of the "output.interop" option.`,url:ze(Ye)}}function sn(e){return{code:Ot,exporter:e,message:`There was a namespace "*" reexport from the external module "${V(e)}" even though its interop type is "defaultOnly". This will be ignored as namespace reexports only reexport named exports. If this is not intended, either remove or change this reexport or change the value of the "output.interop" option.`,url:ze(Ye)}}function rn(e){return{code:_t,message:e}}function on(e,t,n,s,i){!function(e,t,n,s,i,r){if(n||i){const n=function(e,t,n){return{code:lt,message:e,url:ze(t),...n?{plugin:n}:{}}}(e,t,r);if(i)return Qe(n);s(Pe,n)}}(e,t,n,s.onLog,s.strictDeprecations,i)}class an{constructor(e,t,n,s,i,r){this.options=e,this.id=t,this.renormalizeRenderPath=i,this.dynamicImporters=[],this.execIndex=1/0,this.exportedVariables=new Map,this.importers=[],this.reexported=!1,this.used=!1,this.declarations=new Map,this.mostCommonSuggestion=0,this.nameSuggestions=new Map,this.suggestedVariableName=Ie(t.split(/[/\\]/).pop());const{importers:o,dynamicImporters:a}=this;this.info={ast:null,attributes:r,code:null,dynamicallyImportedIdResolutions:$e,dynamicallyImportedIds:$e,get dynamicImporters(){return a.sort()},exportedBindings:null,exports:null,hasDefaultExport:null,id:t,implicitlyLoadedAfterOneOf:$e,implicitlyLoadedBefore:$e,importedIdResolutions:$e,importedIds:$e,get importers(){return o.sort()},isEntry:!1,isExternal:!0,isIncluded:null,meta:s,moduleSideEffects:n,syntheticNamedExports:!1}}getVariableForExportName(e){const t=this.declarations.get(e);if(t)return[t];const n=new be(this,e);return this.declarations.set(e,n),this.exportedVariables.set(n,e),[n]}suggestName(e){const t=(this.nameSuggestions.get(e)??0)+1;this.nameSuggestions.set(e,t),t>this.mostCommonSuggestion&&(this.mostCommonSuggestion=t,this.suggestedVariableName=e)}warnUnusedImports(){const e=[...this.declarations].filter((([e,t])=>"*"!==e&&!t.included&&!this.reexported&&!t.referenced)).map((([e])=>e));if(0===e.length)return;const t=new Set;for(const n of e)for(const e of this.declarations.get(n).module.importers)t.add(e);const n=[...t];var s,i,r;this.options.onLog(Pe,{code:"UNUSED_EXTERNAL_IMPORT",exporter:s=this.id,ids:r=n,message:`${Te(i=e,["is","are"])} imported from external module "${s}" but never used in ${Te(r.map((e=>V(e))))}.`,names:i})}}const ln={ArrayPattern(e,t){for(const n of t.elements)n&&ln[n.type](e,n)},AssignmentPattern(e,t){ln[t.left.type](e,t.left)},Identifier(e,t){e.push(t.name)},MemberExpression(){},ObjectPattern(e,t){for(const n of t.properties)"RestElement"===n.type?ln.RestElement(e,n):ln[n.value.type](e,n.value)},RestElement(e,t){ln[t.argument.type](e,t.argument)}},cn=function(e){const t=[];return ln[e.type](t,e),t};function dn(){return{brokenFlow:!1,hasBreak:!1,hasContinue:!1,includedCallArguments:new Set,includedLabels:new Set}}function un(){return{accessed:new se,assigned:new se,brokenFlow:!1,called:new re,hasBreak:!1,hasContinue:!1,ignore:{breaks:!1,continues:!1,labels:new Set,returnYield:!1,this:!1},includedLabels:new Set,instantiated:new re,replacedVariableInits:new Map}}function hn(e,t=null){return Object.create(t,e)}new Set("break case class catch const continue debugger default delete do else export extends finally for function if import in instanceof let new return super switch this throw try typeof var void while with yield enum await implements package protected static interface private public arguments Infinity NaN undefined null true false eval uneval isFinite isNaN parseFloat parseInt decodeURI decodeURIComponent encodeURI encodeURIComponent escape unescape Object Function Boolean Symbol Error EvalError InternalError RangeError ReferenceError SyntaxError TypeError URIError Number Math Date String RegExp Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array Map Set WeakMap WeakSet SIMD ArrayBuffer DataView JSON Promise Generator GeneratorFunction Reflect Proxy Intl".split(" ")).add("");const pn=new class extends de{getLiteralValueAtPath(){}},fn={value:{hasEffectsWhenCalled:null,returns:ue}},mn=new class extends de{getReturnExpressionWhenCalledAtPath(e){return 1===e.length?kn(Sn,e[0]):he}hasEffectsOnInteractionAtPath(e,t,n){return 0===t.type?e.length>1:2!==t.type||1!==e.length||Pn(Sn,e[0],t,n)}},gn={value:{hasEffectsWhenCalled:null,returns:mn}},yn=new class extends de{getReturnExpressionWhenCalledAtPath(e){return 1===e.length?kn(wn,e[0]):he}hasEffectsOnInteractionAtPath(e,t,n){return 0===t.type?e.length>1:2!==t.type||1!==e.length||Pn(wn,e[0],t,n)}},bn={value:{hasEffectsWhenCalled:null,returns:yn}},En=new class extends de{getReturnExpressionWhenCalledAtPath(e){return 1===e.length?kn(In,e[0]):he}hasEffectsOnInteractionAtPath(e,t,n){return 0===t.type?e.length>1:2!==t.type||1!==e.length||Pn(In,e[0],t,n)}},xn={value:{hasEffectsWhenCalled:null,returns:En}},$n={value:{hasEffectsWhenCalled({args:e},t){const n=e[2];return e.length<3||"symbol"==typeof n.getLiteralValueAtPath(Z,ie,{deoptimizeCache(){}})&&n.hasEffectsOnInteractionAtPath(Z,ge,t)},returns:En}},An=hn({hasOwnProperty:gn,isPrototypeOf:gn,propertyIsEnumerable:gn,toLocaleString:xn,toString:xn,valueOf:fn}),Sn=hn({valueOf:gn},An),wn=hn({toExponential:xn,toFixed:xn,toLocaleString:xn,toPrecision:xn,valueOf:bn},An),vn=hn({exec:fn,test:gn},An),In=hn({anchor:xn,at:fn,big:xn,blink:xn,bold:xn,charAt:xn,charCodeAt:bn,codePointAt:fn,concat:xn,endsWith:gn,fixed:xn,fontcolor:xn,fontsize:xn,includes:gn,indexOf:bn,italics:xn,lastIndexOf:bn,link:xn,localeCompare:bn,match:fn,matchAll:fn,normalize:xn,padEnd:xn,padStart:xn,repeat:xn,replace:$n,replaceAll:$n,search:bn,slice:xn,small:xn,split:fn,startsWith:gn,strike:xn,sub:xn,substr:xn,substring:xn,sup:xn,toLocaleLowerCase:xn,toLocaleUpperCase:xn,toLowerCase:xn,toString:xn,toUpperCase:xn,trim:xn,trimEnd:xn,trimLeft:xn,trimRight:xn,trimStart:xn,valueOf:xn},An);function Pn(e,t,n,s){return"string"!=typeof t||!e[t]||(e[t].hasEffectsWhenCalled?.(n,s)||!1)}function kn(e,t){return"string"==typeof t&&e[t]?[e[t].returns,!1]:he}const Nn=["var","let","const","init","get","set","constructor","method","-","+","!","~","typeof","void","delete","++","--","==","!=","===","!==","<","<=",">",">=","<<",">>",">>>","+","-","*","/","%","|","^","&","||","&&","in","instanceof","**","??","=","+=","-=","*=","/=","%=","<<=",">>=",">>>=","|=","^=","&=","**=","&&=","||=","??=","pure","noSideEffects"],Cn=(e,t)=>Mn(0,new Uint32Array(e),t),Mn=(e,t,n)=>{const s=t[e],i=On[s];if(!i)throw console.trace(),new Error(`Unknown node type: ${s}`);return i(e+1,t,n)},On=[(e,t,n)=>({type:"ArrayExpression",start:t[e++],end:t[e++],elements:Dn(e,t,n)}),(e,t,n)=>({type:"ArrayPattern",start:t[e++],end:t[e++],elements:Dn(e,t,n)}),(e,t,n)=>{const s=t[e++],i=t[e++],r=!!t[e++],o=!!t[e++],a=!!t[e++],l=Dn(t[e++],t,n),c=Mn(t[e++],t,n),d=Rn(e,t);return _n({type:"ArrowFunctionExpression",start:s,end:i,async:r,body:c,expression:a,generator:o,id:null,params:l},d,Tn)},(e,t,n)=>{const s=t[e++],i=t[e++],r=Nn[t[e++]],o=Mn(t[e++],t,n);return{type:"AssignmentExpression",start:s,end:i,left:Mn(e,t,n),operator:r,right:o}},(e,t,n)=>{const s=t[e++],i=t[e++],r=Mn(t[e++],t,n);return{type:"AssignmentPattern",start:s,end:i,left:Mn(e,t,n),right:r}},(e,t,n)=>{const s=t[e++],i=t[e++];return{type:"AwaitExpression",start:s,argument:Mn(e,t,n),end:i}},(e,t,n)=>{const s=t[e++],i=t[e++],r=Nn[t[e++]],o=Mn(t[e++],t,n);return{type:"BinaryExpression",start:s,end:i,left:Mn(e,t,n),operator:r,right:o}},(e,t,n)=>{const s=t[e++],i=t[e++];return{type:"BlockStatement",start:s,body:Dn(e,t,n),end:i}},(e,t,n)=>{const s=t[e++],i=t[e++],r=t[e++];return{type:"BreakStatement",start:s,end:i,label:r?Mn(r,t,n):null}},(e,t,n)=>{const s=t[e++],i=t[e++],r=!!t[e++],o=Mn(t[e++],t,n),a=Dn(t[e++],t,n),l=Rn(e,t);return _n({type:"CallExpression",start:s,end:i,arguments:a,callee:o,optional:r},l,Tn)},(e,t,n)=>{const s=t[e++],i=t[e++],r=t[e++];return{type:"CatchClause",start:s,end:i,body:Mn(t[e],t,n),param:r?Mn(r,t,n):null}},(e,t,n)=>({type:"ChainExpression",start:t[e++],end:t[e++],expression:Mn(e,t,n)}),(e,t,n)=>({type:"ClassBody",start:t[e++],end:t[e++],body:Dn(e,t,n)}),(e,t,n)=>{const s=t[e++],i=t[e++],r=t[e++],o=t[e++];return{type:"ClassDeclaration",start:s,end:i,body:Mn(t[e],t,n),id:r?Mn(r,t,n):null,superClass:o?Mn(o,t,n):null}},(e,t,n)=>{const s=t[e++],i=t[e++],r=t[e++],o=t[e++];return{type:"ClassExpression",start:s,end:i,body:Mn(t[e],t,n),id:r?Mn(r,t,n):null,superClass:o?Mn(o,t,n):null}},(e,t,n)=>{const s=t[e++],i=t[e++],r=Mn(t[e++],t,n);return{type:"ConditionalExpression",start:s,end:i,alternate:Mn(t[e++],t,n),consequent:r,test:Mn(e,t,n)}},(e,t,n)=>{const s=t[e++],i=t[e++],r=t[e];return{type:"ContinueStatement",start:s,end:i,label:r?Mn(r,t,n):null}},(e,t)=>({type:"DebuggerStatement",start:t[e++],end:t[e++]}),(e,t,n)=>{const s=t[e++],i=t[e++],r=Mn(t[e++],t,n);return{type:"DoWhileStatement",start:s,end:i,body:Mn(e,t,n),test:r}},(e,t)=>({type:"EmptyStatement",start:t[e++],end:t[e++]}),(e,t,n)=>{const s=t[e++],i=t[e++],r=t[e++],o=Mn(t[e++],t,n),a=Dn(t[e],t,n);return{type:"ExportAllDeclaration",start:s,end:i,exported:r?Mn(r,t,n):null,source:o,attributes:a}},(e,t,n)=>({type:"ExportDefaultDeclaration",start:t[e++],end:t[e++],declaration:Mn(e,t,n)}),(e,t,n)=>{const s=t[e++],i=t[e++],r=t[e++],o=t[e++],a=Dn(t[e++],t,n),l=Dn(e,t,n);return{type:"ExportNamedDeclaration",start:s,end:i,declaration:r?Mn(r,t,n):null,source:o?Mn(o,t,n):null,specifiers:l,attributes:a}},(e,t,n)=>{const s=t[e++],i=t[e++],r=t[e++],o=Mn(e,t,n);return{type:"ExportSpecifier",start:s,end:i,exported:r?Mn(r,t,n):o,local:o}},(e,t,n)=>{const s=t[e++],i=t[e++],r=t[e++];return{type:"ExpressionStatement",start:s,end:i,expression:Mn(e,t,n),...r?{directive:Bn(r,t,n)}:{}}},(e,t,n)=>{const s=t[e++],i=t[e++],r=Mn(t[e++],t,n);return{type:"ForInStatement",start:s,end:i,body:Mn(t[e++],t,n),left:Mn(e,t,n),right:r}},(e,t,n)=>{const s=t[e++],i=t[e++],r=!!t[e++],o=Mn(t[e++],t,n);return{type:"ForOfStatement",start:s,end:i,await:r,body:Mn(t[e++],t,n),left:Mn(e,t,n),right:o}},(e,t,n)=>{const s=t[e++],i=t[e++],r=t[e++],o=t[e++],a=t[e++];return{type:"ForStatement",start:s,end:i,body:Mn(t[e],t,n),init:r?Mn(r,t,n):null,test:o?Mn(o,t,n):null,update:a?Mn(a,t,n):null}},(e,t,n)=>{const s=t[e++],i=t[e++],r=!!t[e++],o=!!t[e++],a=t[e++],l=Dn(t[e++],t,n),c=Mn(t[e++],t,n),d=Rn(e,t);return _n({type:"FunctionDeclaration",start:s,end:i,async:r,body:c,expression:!1,generator:o,id:a?Mn(a,t,n):null,params:l},d,Tn)},(e,t,n)=>{const s=t[e++],i=t[e++],r=!!t[e++],o=!!t[e++],a=t[e++],l=Dn(t[e++],t,n),c=Mn(t[e++],t,n),d=Rn(e,t);return _n({type:"FunctionExpression",start:s,end:i,async:r,body:c,expression:!1,generator:o,id:a?Mn(a,t,n):null,params:l},d,Tn)},(e,t,n)=>({type:"Identifier",start:t[e++],end:t[e++],name:Bn(e,t,n)}),(e,t,n)=>{const s=t[e++],i=t[e++],r=Mn(t[e++],t,n),o=t[e++],a=Mn(e,t,n);return{type:"IfStatement",start:s,end:i,alternate:o?Mn(o,t,n):null,consequent:r,test:a}},(e,t,n)=>{const s=t[e++],i=t[e++],r=Mn(t[e++],t,n);return{type:"ImportAttribute",start:s,end:i,key:Mn(e,t,n),value:r}},(e,t,n)=>{const s=t[e++],i=t[e++],r=Mn(t[e++],t,n),o=Dn(t[e++],t,n);return{type:"ImportDeclaration",start:s,end:i,source:r,specifiers:Dn(e,t,n),attributes:o}},(e,t,n)=>({type:"ImportDefaultSpecifier",start:t[e++],end:t[e++],local:Mn(e,t,n)}),(e,t,n)=>{const s=t[e++],i=t[e++],r=t[e++];return{type:"ImportExpression",start:s,end:i,source:Mn(e,t,n),options:r?Mn(r,t,n):null}},(e,t,n)=>({type:"ImportNamespaceSpecifier",start:t[e++],end:t[e++],local:Mn(e,t,n)}),(e,t,n)=>{const s=t[e++],i=t[e++],r=t[e++],o=Mn(t[e],t,n);return{type:"ImportSpecifier",start:s,end:i,imported:r?Mn(r,t,n):o,local:o}},(e,t,n)=>({type:"LabeledStatement",start:t[e++],end:t[e++],body:Mn(t[e++],t,n),label:Mn(e,t,n)}),(e,t,n)=>{const s=t[e++],i=t[e++],r=t[e++];return{type:"Literal",start:s,end:i,raw:r?Bn(r,t,n):void 0,value:Bn(e,t,n)}},(e,t)=>{const n=t[e++],s=t[e++],i=!!t[e++];return{type:"Literal",start:n,end:s,raw:i?"true":"false",value:i}},(e,t,n)=>{const s=t[e++],i=t[e++],r=t[e++];return{type:"Literal",start:s,end:i,raw:r?Bn(r,t,n):void 0,value:new DataView(t.buffer).getFloat64(e<<2,!0)}},(e,t)=>({type:"Literal",start:t[e++],end:t[e++],raw:"null",value:null}),(e,t,n)=>{const s=t[e++],i=t[e++],r=Bn(t[e++],t,n),o=Bn(e,t,n);return{type:"Literal",start:s,end:i,raw:`/${r}/${o}`,regex:{flags:o,pattern:r},value:new RegExp(r,o)}},(e,t,n)=>{const s=t[e++],i=t[e++],r=Bn(t[e++],t,n);return{type:"Literal",start:s,end:i,bigint:r,raw:Bn(e,t,n),value:BigInt(r)}},(e,t,n)=>{const s=t[e++],i=t[e++],r=Nn[t[e++]],o=Mn(t[e++],t,n);return{type:"LogicalExpression",start:s,end:i,left:Mn(e,t,n),operator:r,right:o}},(e,t,n)=>{const s=t[e++],i=t[e++],r=!!t[e++],o=!!t[e++],a=Mn(t[e++],t,n);return{type:"MemberExpression",start:s,end:i,computed:o,object:Mn(e,t,n),optional:r,property:a}},(e,t,n)=>{const s=t[e++],i=t[e++],r=Mn(t[e++],t,n);return{type:"MetaProperty",start:s,end:i,meta:Mn(e,t,n),property:r}},(e,t,n)=>{const s=t[e++],i=t[e++],r=Nn[t[e++]],o=!!t[e++],a=!!t[e++],l=Mn(t[e++],t,n);return{type:"MethodDefinition",start:s,end:i,computed:o,key:Mn(e,t,n),kind:r,static:a,value:l}},(e,t,n)=>{const s=t[e++],i=t[e++],r=Mn(t[e++],t,n),o=t[e++],a=Rn(e,t);return _n({type:"NewExpression",start:s,end:i,arguments:o?Dn(o,t,n):[],callee:r},a,Tn)},(e,t,n)=>({type:"ObjectExpression",start:t[e++],end:t[e++],properties:Dn(e,t,n)}),(e,t,n)=>({type:"ObjectPattern",start:t[e++],end:t[e++],properties:Dn(e,t,n)}),(e,t,n)=>({type:"PrivateIdentifier",start:t[e++],end:t[e++],name:Bn(e,t,n)}),(e,t,n)=>{const s=t[e++],i=t[e++],r=Rn(t[e++],t),o=Dn(e,t,n);return _n({type:"Program",start:s,end:i,body:o,sourceType:"module"},r,zn)},(e,t,n)=>{const s=t[e++],i=t[e++],r=Nn[t[e++]],o=!!t[e++],a=!!t[e++],l=!!t[e++],c=Mn(t[e++],t,n),d=t[e];return{type:"Property",start:s,end:i,computed:a,key:c,kind:r,method:o,shorthand:l,value:d?Mn(d,t,n):{...c}}},(e,t,n)=>{const s=t[e++],i=t[e++],r=!!t[e++],o=!!t[e++],a=t[e++];return{type:"PropertyDefinition",start:s,end:i,computed:r,key:Mn(e,t,n),static:o,value:a?Mn(a,t,n):null}},(e,t,n)=>({type:"RestElement",start:t[e++],end:t[e++],argument:Mn(e,t,n)}),(e,t,n)=>{const s=t[e++],i=t[e++],r=t[e];return{type:"ReturnStatement",start:s,end:i,argument:r?Mn(r,t,n):null}},(e,t,n)=>({type:"SequenceExpression",start:t[e++],end:t[e++],expressions:Dn(e,t,n)}),(e,t,n)=>({type:"SpreadElement",start:t[e++],end:t[e++],argument:Mn(e,t,n)}),(e,t,n)=>({type:"StaticBlock",start:t[e++],end:t[e++],body:Dn(e,t,n)}),(e,t)=>({type:"Super",start:t[e++],end:t[e++]}),(e,t,n)=>{const s=t[e++],i=t[e++],r=t[e++];return{type:"SwitchCase",start:s,end:i,consequent:Dn(t[e],t,n),test:r?Mn(r,t,n):null}},(e,t,n)=>({type:"SwitchStatement",start:t[e++],end:t[e++],cases:Dn(t[e++],t,n),discriminant:Mn(e,t,n)}),(e,t,n)=>({type:"TaggedTemplateExpression",start:t[e++],end:t[e++],quasi:Mn(t[e++],t,n),tag:Mn(e,t,n)}),(e,t,n)=>{const s=t[e++],i=t[e++],r=!!t[e++],o=t[e++],a=Bn(e,t,n);return{type:"TemplateElement",start:s,end:i,tail:r,value:{cooked:o?Bn(o,t,n):null,raw:a}}},(e,t,n)=>({type:"TemplateLiteral",start:t[e++],end:t[e++],expressions:Dn(t[e++],t,n),quasis:Dn(e,t,n)}),(e,t)=>({type:"ThisExpression",start:t[e++],end:t[e++]}),(e,t,n)=>({type:"ThrowStatement",start:t[e++],end:t[e++],argument:Mn(e,t,n)}),(e,t,n)=>{const s=t[e++],i=t[e++],r=t[e++],o=t[e++];return{type:"TryStatement",start:s,end:i,block:Mn(e,t,n),finalizer:o?Mn(o,t,n):null,handler:r?Mn(r,t,n):null}},(e,t,n)=>{const s=t[e++],i=t[e++],r=Nn[t[e++]];return{type:"UnaryExpression",start:s,end:i,argument:Mn(e,t,n),operator:r,prefix:!0}},(e,t,n)=>{const s=t[e++],i=t[e++],r=!!t[e++],o=Nn[t[e++]];return{type:"UpdateExpression",start:s,end:i,argument:Mn(e,t,n),operator:o,prefix:r}},(e,t,n)=>{const s=t[e++],i=t[e++],r=Nn[t[e++]];return{type:"VariableDeclaration",start:s,end:i,declarations:Dn(e,t,n),kind:r}},(e,t,n)=>{const s=t[e++],i=t[e++],r=t[e++];return{type:"VariableDeclarator",start:s,end:i,id:Mn(e,t,n),init:r?Mn(r,t,n):null}},(e,t,n)=>({type:"WhileStatement",start:t[e++],end:t[e++],body:Mn(t[e++],t,n),test:Mn(e,t,n)}),(e,t,n)=>{const s=t[e++],i=t[e++],r=!!t[e++],o=t[e];return{type:"YieldExpression",start:s,end:i,argument:o?Mn(o,t,n):null,delegate:r}},(e,t,n)=>{const s=t[e++];Qe(function(e,t){return{code:Nt,message:e,pos:t}}(Bn(e,t,n),s))}],Dn=(e,t,n)=>{const s=t[e++],i=[];for(let r=0;r<s;r++){const s=t[e++];i.push(s?Mn(s,t,n):null)}return i},Rn=(e,t)=>{const n=t[e++],s=[];for(let i=0;i<n;i++)s.push(Ln(t[e++],t));return s},Ln=(e,t)=>{const n=t[e++];return{end:t[e++],start:n,type:Nn[t[e]]}},_n=(e,t,n)=>t.length>0?{...e,[n]:t}:e,Bn=(e,t,n)=>{const s=t[e++];return n(e<<2,s)},Tn="_rollupAnnotations",zn="_rollupRemoved",Vn={Literal:[],Program:["body"]};const Fn="variables";class jn extends de{get deoptimized(){return oe(this.flags,2)}set deoptimized(e){this.flags=ae(this.flags,2,e)}constructor(e,t,n,s=!1){super(),s&&(this.esTreeNode=e);const{type:i}=e;Vn[i]||=function(e){return Object.keys(e).filter((t=>"object"==typeof e[t]&&95!==t.charCodeAt(0)))}(e),this.parent=t,this.scope=n,this.createScope(n),this.parseNode(e),this.initialise(),this.scope.context.magicString.addSourcemapLocation(this.start),this.scope.context.magicString.addSourcemapLocation(this.end)}addExportedVariables(e,t){}bind(){for(const e of Vn[this.type]){const t=this[e];if(Array.isArray(t))for(const e of t)e?.bind();else t&&t.bind()}}createScope(e){this.scope=e}hasEffects(e){this.deoptimized||this.applyDeoptimizations();for(const t of Vn[this.type]){const n=this[t];if(null!==n)if(Array.isArray(n)){for(const t of n)if(t?.hasEffects(e))return!0}else if(n.hasEffects(e))return!0}return!1}hasEffectsAsAssignmentTarget(e,t){return this.hasEffects(e)||this.hasEffectsOnInteractionAtPath(Z,this.assignmentInteraction,e)}include(e,t,n){this.deoptimized||this.applyDeoptimizations(),this.included=!0;for(const n of Vn[this.type]){const s=this[n];if(null!==s)if(Array.isArray(s))for(const n of s)n?.include(e,t);else s.include(e,t)}}includeAsAssignmentTarget(e,t,n){this.include(e,t)}initialise(){}parseNode(e,t){for(const[n,s]of Object.entries(e))if(!this.hasOwnProperty(n))if(95===n.charCodeAt(0)){if(n===Tn){const e=s;this.annotations=e,this.scope.context.options.treeshake.annotations&&(this.annotationNoSideEffects=e.some((e=>"noSideEffects"===e.type)),this.annotationPure=e.some((e=>"pure"===e.type)))}else if(n===zn)for(const{start:e,end:t,type:n}of s)this.scope.context.magicString.remove(e,t),"pure"!==n&&"noSideEffects"!==n||this.scope.context.log(Pe,Wt(this.scope.context.code.slice(e,t),this.scope.context.module.id,n),e)}else if("object"!=typeof s||null===s)this[n]=s;else if(Array.isArray(s)){this[n]=[];for(const e of s)this[n].push(null===e?null:new(this.scope.context.getNodeConstructor(e.type))(e,this,this.scope,t?.includes(n)))}else this[n]=new(this.scope.context.getNodeConstructor(s.type))(s,this,this.scope,t?.includes(n))}removeAnnotations(e){if(this.annotations)for(const t of this.annotations)e.remove(t.start,t.end)}render(e,t){for(const n of Vn[this.type]){const s=this[n];if(null!==s)if(Array.isArray(s))for(const n of s)n?.render(e,t);else s.render(e,t)}}setAssignedValue(e){this.assignmentInteraction={args:[null,e],type:1}}shouldBeIncluded(e){return this.included||!e.brokenFlow&&this.hasEffects(un())}applyDeoptimizations(){this.deoptimized=!0;for(const e of Vn[this.type]){const t=this[e];if(null!==t)if(Array.isArray(t))for(const e of t)e?.deoptimizePath(Q);else t.deoptimizePath(Q)}this.scope.context.requestTreeshakingPass()}}class Un extends jn{deoptimizeArgumentsOnInteractionAtPath(e,t,n){t.length>0&&this.argument.deoptimizeArgumentsOnInteractionAtPath(e,[K,...t],n)}hasEffects(e){this.deoptimized||this.applyDeoptimizations();const{propertyReadSideEffects:t}=this.scope.context.options.treeshake;return this.argument.hasEffects(e)||t&&("always"===t||this.argument.hasEffectsOnInteractionAtPath(Q,fe,e))}applyDeoptimizations(){this.deoptimized=!0,this.argument.deoptimizePath([K,K]),this.scope.context.requestTreeshakingPass()}}class Gn extends de{constructor(e){super(),this.description=e}deoptimizeArgumentsOnInteractionAtPath({args:e,type:t},n){2===t&&0===n.length&&this.description.mutatesSelfAsArray&&e[0]?.deoptimizePath(te)}getReturnExpressionWhenCalledAtPath(e,{args:t}){return e.length>0?he:[this.description.returnsPrimitive||("self"===this.description.returns?t[0]||ue:this.description.returns()),!1]}hasEffectsOnInteractionAtPath(e,t,n){const{type:s}=t;if(e.length>(0===s?1:0))return!0;if(2===s){const{args:e}=t;if(!0===this.description.mutatesSelfAsArray&&e[0]?.hasEffectsOnInteractionAtPath(te,me,n))return!0;if(this.description.callsArgs)for(const t of this.description.callsArgs)if(e[t+1]?.hasEffectsOnInteractionAtPath(Z,ge,n))return!0}return!1}}const Wn=[new Gn({callsArgs:null,mutatesSelfAsArray:!1,returns:null,returnsPrimitive:mn})],Hn=[new Gn({callsArgs:null,mutatesSelfAsArray:!1,returns:null,returnsPrimitive:En})],qn=[new Gn({callsArgs:null,mutatesSelfAsArray:!1,returns:null,returnsPrimitive:yn})],Kn=[new Gn({callsArgs:null,mutatesSelfAsArray:!1,returns:null,returnsPrimitive:ue})],Yn=/^\d+$/;class Xn extends de{get hasLostTrack(){return oe(this.flags,2048)}set hasLostTrack(e){this.flags=ae(this.flags,2048,e)}get hasUnknownDeoptimizedInteger(){return oe(this.flags,4096)}set hasUnknownDeoptimizedInteger(e){this.flags=ae(this.flags,4096,e)}get hasUnknownDeoptimizedProperty(){return oe(this.flags,8192)}set hasUnknownDeoptimizedProperty(e){this.flags=ae(this.flags,8192,e)}constructor(e,t,n=!1){if(super(),this.prototypeExpression=t,this.immutable=n,this.additionalExpressionsToBeDeoptimized=new Set,this.allProperties=[],this.deoptimizedPaths=Object.create(null),this.expressionsToBeDeoptimizedByKey=Object.create(null),this.gettersByKey=Object.create(null),this.propertiesAndGettersByKey=Object.create(null),this.propertiesAndSettersByKey=Object.create(null),this.settersByKey=Object.create(null),this.unknownIntegerProps=[],this.unmatchableGetters=[],this.unmatchablePropertiesAndGetters=[],this.unmatchableSetters=[],Array.isArray(e))this.buildPropertyMaps(e);else{this.propertiesAndGettersByKey=this.propertiesAndSettersByKey=e;for(const t of Object.values(e))this.allProperties.push(...t)}}deoptimizeAllProperties(e){const t=this.hasLostTrack||this.hasUnknownDeoptimizedProperty;if(e?this.hasUnknownDeoptimizedProperty=!0:this.hasLostTrack=!0,!t){for(const e of[...Object.values(this.propertiesAndGettersByKey),...Object.values(this.settersByKey)])for(const t of e)t.deoptimizePath(Q);this.prototypeExpression?.deoptimizePath([K,K]),this.deoptimizeCachedEntities()}}deoptimizeArgumentsOnInteractionAtPath(e,t,n){const[s,...i]=t,{args:r,type:o}=e;if(this.hasLostTrack||(2===o||t.length>1)&&(this.hasUnknownDeoptimizedProperty||"string"==typeof s&&this.deoptimizedPaths[s]))return void pe(e);const[a,l,c]=2===o||t.length>1?[this.propertiesAndGettersByKey,this.propertiesAndGettersByKey,this.unmatchablePropertiesAndGetters]:0===o?[this.propertiesAndGettersByKey,this.gettersByKey,this.unmatchableGetters]:[this.propertiesAndSettersByKey,this.settersByKey,this.unmatchableSetters];if("string"==typeof s){if(a[s]){const t=l[s];if(t)for(const s of t)s.deoptimizeArgumentsOnInteractionAtPath(e,i,n);if(!this.immutable)for(const e of r)e&&this.additionalExpressionsToBeDeoptimized.add(e);return}for(const t of c)t.deoptimizeArgumentsOnInteractionAtPath(e,i,n);if(Yn.test(s))for(const t of this.unknownIntegerProps)t.deoptimizeArgumentsOnInteractionAtPath(e,i,n)}else{for(const t of[...Object.values(l),c])for(const s of t)s.deoptimizeArgumentsOnInteractionAtPath(e,i,n);for(const t of this.unknownIntegerProps)t.deoptimizeArgumentsOnInteractionAtPath(e,i,n)}if(!this.immutable)for(const e of r)e&&this.additionalExpressionsToBeDeoptimized.add(e);this.prototypeExpression?.deoptimizeArgumentsOnInteractionAtPath(e,t,n)}deoptimizeIntegerProperties(){if(!(this.hasLostTrack||this.hasUnknownDeoptimizedProperty||this.hasUnknownDeoptimizedInteger)){this.hasUnknownDeoptimizedInteger=!0;for(const[e,t]of Object.entries(this.propertiesAndGettersByKey))if(Yn.test(e))for(const e of t)e.deoptimizePath(Q);this.deoptimizeCachedIntegerEntities()}}deoptimizePath(e){if(this.hasLostTrack||this.immutable)return;const t=e[0];if(1===e.length){if("string"!=typeof t)return t===X?this.deoptimizeIntegerProperties():this.deoptimizeAllProperties(t===Y);if(!this.deoptimizedPaths[t]){this.deoptimizedPaths[t]=!0;const e=this.expressionsToBeDeoptimizedByKey[t];if(e)for(const t of e)t.deoptimizeCache()}}const n=1===e.length?Q:e.slice(1);for(const e of"string"==typeof t?[...this.propertiesAndGettersByKey[t]||this.unmatchablePropertiesAndGetters,...this.settersByKey[t]||this.unmatchableSetters]:this.allProperties)e.deoptimizePath(n);this.prototypeExpression?.deoptimizePath(1===e.length?[...e,K]:e)}getLiteralValueAtPath(e,t,n){if(0===e.length)return ce;const s=e[0],i=this.getMemberExpressionAndTrackDeopt(s,n);return i?i.getLiteralValueAtPath(e.slice(1),t,n):this.prototypeExpression?this.prototypeExpression.getLiteralValueAtPath(e,t,n):1!==e.length?le:void 0}getReturnExpressionWhenCalledAtPath(e,t,n,s){if(0===e.length)return he;const[i,...r]=e,o=this.getMemberExpressionAndTrackDeopt(i,s);return o?o.getReturnExpressionWhenCalledAtPath(r,t,n,s):this.prototypeExpression?this.prototypeExpression.getReturnExpressionWhenCalledAtPath(e,t,n,s):he}hasEffectsOnInteractionAtPath(e,t,n){const[s,...i]=e;if(i.length>0||2===t.type){const r=this.getMemberExpression(s);return r?r.hasEffectsOnInteractionAtPath(i,t,n):!this.prototypeExpression||this.prototypeExpression.hasEffectsOnInteractionAtPath(e,t,n)}if(s===Y)return!1;if(this.hasLostTrack)return!0;const[r,o,a]=0===t.type?[this.propertiesAndGettersByKey,this.gettersByKey,this.unmatchableGetters]:[this.propertiesAndSettersByKey,this.settersByKey,this.unmatchableSetters];if("string"==typeof s){if(r[s]){const e=o[s];if(e)for(const s of e)if(s.hasEffectsOnInteractionAtPath(i,t,n))return!0;return!1}for(const e of a)if(e.hasEffectsOnInteractionAtPath(i,t,n))return!0}else for(const e of[...Object.values(o),a])for(const s of e)if(s.hasEffectsOnInteractionAtPath(i,t,n))return!0;return!!this.prototypeExpression&&this.prototypeExpression.hasEffectsOnInteractionAtPath(e,t,n)}buildPropertyMaps(e){const{allProperties:t,propertiesAndGettersByKey:n,propertiesAndSettersByKey:s,settersByKey:i,gettersByKey:r,unknownIntegerProps:o,unmatchablePropertiesAndGetters:a,unmatchableGetters:l,unmatchableSetters:c}=this,d=[];for(let u=e.length-1;u>=0;u--){const{key:h,kind:p,property:f}=e[u];if(t.push(f),"string"==typeof h)"set"===p?s[h]||(s[h]=[f,...d],i[h]=[f,...c]):"get"===p?n[h]||(n[h]=[f,...a],r[h]=[f,...l]):(s[h]||(s[h]=[f,...d]),n[h]||(n[h]=[f,...a]));else{if(h===X){o.push(f);continue}"set"===p&&c.push(f),"get"===p&&l.push(f),"get"!==p&&d.push(f),"set"!==p&&a.push(f)}}}deoptimizeCachedEntities(){for(const e of Object.values(this.expressionsToBeDeoptimizedByKey))for(const t of e)t.deoptimizeCache();for(const e of this.additionalExpressionsToBeDeoptimized)e.deoptimizePath(Q)}deoptimizeCachedIntegerEntities(){for(const[e,t]of Object.entries(this.expressionsToBeDeoptimizedByKey))if(Yn.test(e))for(const e of t)e.deoptimizeCache();for(const e of this.additionalExpressionsToBeDeoptimized)e.deoptimizePath(te)}getMemberExpression(e){if(this.hasLostTrack||this.hasUnknownDeoptimizedProperty||"string"!=typeof e||this.hasUnknownDeoptimizedInteger&&Yn.test(e)||this.deoptimizedPaths[e])return ue;const t=this.propertiesAndGettersByKey[e];return 1===t?.length?t[0]:t||this.unmatchablePropertiesAndGetters.length>0||this.unknownIntegerProps.length>0&&Yn.test(e)?ue:null}getMemberExpressionAndTrackDeopt(e,t){if("string"!=typeof e)return ue;const n=this.getMemberExpression(e);if(n!==ue&&!this.immutable){(this.expressionsToBeDeoptimizedByKey[e]=this.expressionsToBeDeoptimizedByKey[e]||[]).push(t)}return n}}const Jn=e=>"string"==typeof e&&/^\d+$/.test(e),Zn=new class extends de{deoptimizeArgumentsOnInteractionAtPath(e,t){2!==e.type||1!==t.length||Jn(t[0])||pe(e)}getLiteralValueAtPath(e){return 1===e.length&&Jn(e[0])?void 0:le}hasEffectsOnInteractionAtPath(e,{type:t}){return e.length>1||2===t}},Qn=new Xn({__proto__:null,hasOwnProperty:Wn,isPrototypeOf:Wn,propertyIsEnumerable:Wn,toLocaleString:Hn,toString:Hn,valueOf:Kn},Zn,!0),es=[{key:X,kind:"init",property:ue},{key:"length",kind:"init",property:yn}],ts=[new Gn({callsArgs:[0],mutatesSelfAsArray:"deopt-only",returns:null,returnsPrimitive:mn})],ns=[new Gn({callsArgs:[0],mutatesSelfAsArray:"deopt-only",returns:null,returnsPrimitive:yn})],ss=[new Gn({callsArgs:null,mutatesSelfAsArray:!0,returns:()=>new Xn(es,hs),returnsPrimitive:null})],is=[new Gn({callsArgs:null,mutatesSelfAsArray:"deopt-only",returns:()=>new Xn(es,hs),returnsPrimitive:null})],rs=[new Gn({callsArgs:[0],mutatesSelfAsArray:"deopt-only",returns:()=>new Xn(es,hs),returnsPrimitive:null})],os=[new Gn({callsArgs:null,mutatesSelfAsArray:!0,returns:null,returnsPrimitive:yn})],as=[new Gn({callsArgs:null,mutatesSelfAsArray:!0,returns:null,returnsPrimitive:ue})],ls=[new Gn({callsArgs:null,mutatesSelfAsArray:"deopt-only",returns:null,returnsPrimitive:ue})],cs=[new Gn({callsArgs:[0],mutatesSelfAsArray:"deopt-only",returns:null,returnsPrimitive:ue})],ds=[new Gn({callsArgs:null,mutatesSelfAsArray:!0,returns:"self",returnsPrimitive:null})],us=[new Gn({callsArgs:[0],mutatesSelfAsArray:!0,returns:"self",returnsPrimitive:null})],hs=new Xn({__proto__:null,at:ls,concat:is,copyWithin:ds,entries:is,every:ts,fill:ds,filter:rs,find:cs,findIndex:ns,findLast:cs,findLastIndex:ns,flat:is,flatMap:rs,forEach:cs,includes:Wn,indexOf:qn,join:Hn,keys:Kn,lastIndexOf:qn,map:rs,pop:as,push:os,reduce:cs,reduceRight:cs,reverse:ds,shift:as,slice:is,some:ts,sort:us,splice:ss,toLocaleString:Hn,toString:Hn,unshift:os,values:ls},Qn,!0);class ps extends jn{constructor(){super(...arguments),this.objectEntity=null}deoptimizeArgumentsOnInteractionAtPath(e,t,n){this.getObjectEntity().deoptimizeArgumentsOnInteractionAtPath(e,t,n)}deoptimizePath(e){this.getObjectEntity().deoptimizePath(e)}getLiteralValueAtPath(e,t,n){return this.getObjectEntity().getLiteralValueAtPath(e,t,n)}getReturnExpressionWhenCalledAtPath(e,t,n,s){return this.getObjectEntity().getReturnExpressionWhenCalledAtPath(e,t,n,s)}hasEffectsOnInteractionAtPath(e,t,n){return this.getObjectEntity().hasEffectsOnInteractionAtPath(e,t,n)}applyDeoptimizations(){this.deoptimized=!0;let e=!1;for(let t=0;t<this.elements.length;t++){const n=this.elements[t];n&&(e||n instanceof Un)&&(e=!0,n.deoptimizePath(Q))}this.scope.context.requestTreeshakingPass()}getObjectEntity(){if(null!==this.objectEntity)return this.objectEntity;const e=[{key:"length",kind:"init",property:yn}];let t=!1;for(let n=0;n<this.elements.length;n++){const s=this.elements[n];t||s instanceof Un?s&&(t=!0,e.unshift({key:X,kind:"init",property:s})):s?e.push({key:String(n),kind:"init",property:s}):e.push({key:String(n),kind:"init",property:pn})}return this.objectEntity=new Xn(e,hs)}}class fs extends jn{addExportedVariables(e,t){for(const n of this.elements)n?.addExportedVariables(e,t)}declare(e){const t=[];for(const n of this.elements)null!==n&&t.push(...n.declare(e,ue));return t}deoptimizePath(){for(const e of this.elements)e?.deoptimizePath(Z)}hasEffectsOnInteractionAtPath(e,t,n){for(const e of this.elements)if(e?.hasEffectsOnInteractionAtPath(Z,t,n))return!0;return!1}markDeclarationReached(){for(const e of this.elements)e?.markDeclarationReached()}}const ms="ArrowFunctionExpression",gs="ExpressionStatement",ys="Identifier",bs="Program";class Es extends ye{constructor(e,t,n,s,i){super(e),this.init=n,this.calledFromTryStatement=!1,this.additionalInitializers=null,this.expressionsToBeDeoptimized=[],this.declarations=t?[t]:[],this.deoptimizationTracker=s.deoptimizationTracker,this.module=s.module,this.kind=i}addDeclaration(e,t){this.declarations.push(e),this.markInitializersForDeoptimization().push(t)}consolidateInitializers(){if(this.additionalInitializers){for(const e of this.additionalInitializers)e.deoptimizePath(Q);this.additionalInitializers=null}}deoptimizeArgumentsOnInteractionAtPath(e,t,n){this.isReassigned?pe(e):n.withTrackedEntityAtPath(t,this.init,(()=>this.init.deoptimizeArgumentsOnInteractionAtPath(e,t,n)),void 0)}deoptimizePath(e){if(!this.isReassigned&&!this.deoptimizationTracker.trackEntityAtPathAndGetIfTracked(e,this))if(0===e.length){this.isReassigned=!0;const e=this.expressionsToBeDeoptimized;this.expressionsToBeDeoptimized=$e;for(const t of e)t.deoptimizeCache();this.init.deoptimizePath(Q)}else this.init.deoptimizePath(e)}getLiteralValueAtPath(e,t,n){return this.isReassigned?le:t.withTrackedEntityAtPath(e,this.init,(()=>(this.expressionsToBeDeoptimized.push(n),this.init.getLiteralValueAtPath(e,t,n))),le)}getReturnExpressionWhenCalledAtPath(e,t,n,s){return this.isReassigned?he:n.withTrackedEntityAtPath(e,this.init,(()=>(this.expressionsToBeDeoptimized.push(s),this.init.getReturnExpressionWhenCalledAtPath(e,t,n,s))),he)}hasEffectsOnInteractionAtPath(e,t,n){switch(t.type){case 0:return!!this.isReassigned||!n.accessed.trackEntityAtPathAndGetIfTracked(e,this)&&this.init.hasEffectsOnInteractionAtPath(e,t,n);case 1:return!!this.included||0!==e.length&&(!!this.isReassigned||!n.assigned.trackEntityAtPathAndGetIfTracked(e,this)&&this.init.hasEffectsOnInteractionAtPath(e,t,n));case 2:return!!this.isReassigned||!(t.withNew?n.instantiated:n.called).trackEntityAtPathAndGetIfTracked(e,t.args,this)&&this.init.hasEffectsOnInteractionAtPath(e,t,n)}}include(){if(!this.included){super.include();for(const e of this.declarations){e.included||e.include(dn(),!1);let t=e.parent;for(;!t.included&&(t.included=!0,t.type!==bs);)t=t.parent}}}includeCallArguments(e,t){if(this.isReassigned||e.includedCallArguments.has(this.init))for(const n of t)n.include(e,!1);else e.includedCallArguments.add(this.init),this.init.includeCallArguments(e,t),e.includedCallArguments.delete(this.init)}markCalledFromTryStatement(){this.calledFromTryStatement=!0}markInitializersForDeoptimization(){return null===this.additionalInitializers&&(this.additionalInitializers=[this.init],this.init=ue,this.isReassigned=!0),this.additionalInitializers}}const xs=$e,$s=new Set([K]),As=new se,Ss=new Set([ue]);class ws extends Es{constructor(e,t,n){super(e,t,ue,n,"parameter"),this.deoptimizationInteractions=[],this.deoptimizations=new se,this.deoptimizedFields=new Set,this.entitiesToBeDeoptimized=new Set}addEntityToBeDeoptimized(e){if(e===ue){if(!this.entitiesToBeDeoptimized.has(ue)){this.entitiesToBeDeoptimized.add(ue);for(const{interaction:e}of this.deoptimizationInteractions)pe(e);this.deoptimizationInteractions=xs}}else if(this.deoptimizedFields.has(K))e.deoptimizePath(Q);else if(!this.entitiesToBeDeoptimized.has(e)){this.entitiesToBeDeoptimized.add(e);for(const t of this.deoptimizedFields)e.deoptimizePath([t]);for(const{interaction:t,path:n}of this.deoptimizationInteractions)e.deoptimizeArgumentsOnInteractionAtPath(t,n,ie)}}deoptimizeArgumentsOnInteractionAtPath(e,t){if(t.length>=2||this.entitiesToBeDeoptimized.has(ue)||this.deoptimizationInteractions.length>=20||1===t.length&&(this.deoptimizedFields.has(K)||2===e.type&&this.deoptimizedFields.has(t[0])))pe(e);else if(!this.deoptimizations.trackEntityAtPathAndGetIfTracked(t,e.args)){for(const n of this.entitiesToBeDeoptimized)n.deoptimizeArgumentsOnInteractionAtPath(e,t,ie);this.entitiesToBeDeoptimized.has(ue)||this.deoptimizationInteractions.push({interaction:e,path:t})}}deoptimizePath(e){if(0===e.length||this.deoptimizedFields.has(K))return;const t=e[0];if(!this.deoptimizedFields.has(t)){this.deoptimizedFields.add(t);for(const e of this.entitiesToBeDeoptimized)e.deoptimizePath([t]);t===K&&(this.deoptimizationInteractions=xs,this.deoptimizations=As,this.deoptimizedFields=$s,this.entitiesToBeDeoptimized=Ss)}}getReturnExpressionWhenCalledAtPath(e){return 0===e.length?this.deoptimizePath(Q):this.deoptimizedFields.has(e[0])||this.deoptimizePath([e[0]]),he}}const vs="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ_$",Is=64;function Ps(e){let t="";do{const n=e%Is;e=e/Is|0,t=vs[n]+t}while(0!==e);return t}function ks(e,t,n){let s=e,i=1;for(;t.has(s)||Se.has(s)||n?.has(s);)s=`${e}$${Ps(i++)}`;return t.add(s),s}class Ns{constructor(){this.children=[],this.variables=new Map}addDeclaration(e,t,n,s){const i=e.name,r=this.hoistedVariables?.get(i)||this.variables.get(i);if(r){const o=r.kind;if("var"===s&&"var"===o)return r.addDeclaration(e,n),r;t.error(Zt(i),e.start)}const o=new Es(e.name,e,n,t,s);return this.variables.set(i,o),o}addHoistedVariable(e,t){(this.hoistedVariables||=new Map).set(e,t)}contains(e){return this.variables.has(e)}findVariable(e){throw new Error("Internal Error: findVariable needs to be implemented by a subclass")}}class Cs extends Ns{constructor(e,t){super(),this.parent=e,this.context=t,this.accessedOutsideVariables=new Map,e.children.push(this)}addAccessedDynamicImport(e){(this.accessedDynamicImports||(this.accessedDynamicImports=new Set)).add(e),this.parent instanceof Cs&&this.parent.addAccessedDynamicImport(e)}addAccessedGlobals(e,t){const n=t.get(this)||new Set;for(const t of e)n.add(t);t.set(this,n),this.parent instanceof Cs&&this.parent.addAccessedGlobals(e,t)}addNamespaceMemberAccess(e,t){this.accessedOutsideVariables.set(e,t),this.parent.addNamespaceMemberAccess(e,t)}addReturnExpression(e){this.parent instanceof Cs&&this.parent.addReturnExpression(e)}addUsedOutsideNames(e,t,n,s){for(const s of this.accessedOutsideVariables.values())s.included&&(e.add(s.getBaseVariableName()),"system"===t&&n.has(s)&&e.add("exports"));const i=s.get(this);if(i)for(const t of i)e.add(t)}contains(e){return this.variables.has(e)||this.parent.contains(e)}deconflict(e,t,n){const s=new Set;if(this.addUsedOutsideNames(s,e,t,n),this.accessedDynamicImports)for(const e of this.accessedDynamicImports)e.inlineNamespace&&s.add(e.inlineNamespace.getBaseVariableName());for(const[e,t]of this.variables)(t.included||t.alwaysRendered)&&t.setRenderNames(null,ks(e,s,t.forbiddenNames));for(const s of this.children)s.deconflict(e,t,n)}findLexicalBoundary(){return this.parent.findLexicalBoundary()}findVariable(e){const t=this.variables.get(e)||this.accessedOutsideVariables.get(e);if(t)return t;const n=this.parent.findVariable(e);return this.accessedOutsideVariables.set(e,n),n}}class Ms extends Cs{constructor(e){super(e,e.context),this.parent=e}addDeclaration(e,t,n,s){if("var"===s){const i=e.name,r=this.hoistedVariables?.get(i)||this.variables.get(i);if(r){const o=r.kind;if("parameter"===o&&"CatchClause"===r.declarations[0].parent.type){const n=this.parent.parent.addDeclaration(e,t,pn,s);return r.renderLikeHoisted(n),this.addHoistedVariable(i,n),n}return"var"===o?(r.addDeclaration(e,n),r):t.error(Zt(i),e.start)}const o=this.parent.parent.addDeclaration(e,t,n,s);return o.markInitializersForDeoptimization(),this.addHoistedVariable(i,o),o}return super.addDeclaration(e,t,n,s)}}class Os extends Cs{constructor(e){super(e,e.context)}addDeclaration(e,t,n,s){const i=e.name,r=this.hoistedVariables?.get(i)||this.variables.get(i);if(r){const o=r.kind;if(!("var"!==s&&"function"!==s||"var"!==o&&"function"!==o&&"parameter"!==o))return r.addDeclaration(e,n),r;t.error(Zt(i),e.start)}const o=new Es(e.name,e,n,t,s);return this.variables.set(i,o),o}}class Ds extends Cs{constructor(e,t){super(e,e.context),this.parameters=[],this.hasRest=!1,this.bodyScope=t?new Ms(this):new Os(this)}addParameterDeclaration(e){const{name:t,start:n}=e;if(this.variables.get(t))return this.context.error(function(e){return{code:"DUPLICATE_ARGUMENT_NAME",message:`Duplicate argument name "${e}"`}}(t),n);const s=new ws(t,e,this.context);return this.variables.set(t,s),this.bodyScope.addHoistedVariable(t,s),s}addParameterVariables(e,t){this.parameters=e;for(const t of e)for(const e of t)e.alwaysRendered=!0;this.hasRest=t}includeCallArguments(e,t){let n=!1,s=!1;const i=this.hasRest&&this.parameters[this.parameters.length-1];for(const n of t)if(n instanceof Un){for(const n of t)n.include(e,!1);break}for(let r=t.length-1;r>=0;r--){const o=this.parameters[r]||i,a=t[r];if(o)if(n=!1,0===o.length)s=!0;else for(const e of o)e.included&&(s=!0),e.calledFromTryStatement&&(n=!0);!s&&a.shouldBeIncluded(e)&&(s=!0),s&&a.include(e,n)}}}class Rs extends Ds{constructor(){super(...arguments),this.returnExpression=null,this.returnExpressions=[]}addReturnExpression(e){this.returnExpressions.push(e)}getReturnExpression(){return null===this.returnExpression&&this.updateReturnExpression(),this.returnExpression}updateReturnExpression(){if(1===this.returnExpressions.length)this.returnExpression=this.returnExpressions[0];else{this.returnExpression=ue;for(const e of this.returnExpressions)e.deoptimizePath(Q)}}}function Ls(e,t){if("MemberExpression"===e.type)return!e.computed&&Ls(e.object,e);if("Identifier"===e.type){if(!t)return!0;switch(t.type){case"MemberExpression":return t.computed||e===t.object;case"MethodDefinition":return t.computed;case"PropertyDefinition":case"Property":return t.computed||e===t.value;case"ExportSpecifier":case"ImportSpecifier":return e===t.local;case"LabeledStatement":case"BreakStatement":case"ContinueStatement":return!1;default:return!0}}return!1}const _s=Symbol("PureFunction"),Bs=()=>{},Ts=Symbol("Value Properties"),zs=()=>ce,Vs=()=>!1,Fs=()=>!0,js={deoptimizeArgumentsOnCall:Bs,getLiteralValue:zs,hasEffectsWhenCalled:Vs},Us={deoptimizeArgumentsOnCall:Bs,getLiteralValue:zs,hasEffectsWhenCalled:Fs},Gs={__proto__:null,[Ts]:Us},Ws={__proto__:null,[Ts]:js},Hs={__proto__:null,[Ts]:{deoptimizeArgumentsOnCall:Bs,getLiteralValue:zs,hasEffectsWhenCalled({args:e},t){const[n,s]=e;return!(s instanceof de)||s.hasEffectsOnInteractionAtPath(Q,fe,t)}}},qs={__proto__:null,[Ts]:{deoptimizeArgumentsOnCall({args:[,e]}){e?.deoptimizePath(Q)},getLiteralValue:zs,hasEffectsWhenCalled:({args:e},t)=>e.length<=1||e[1].hasEffectsOnInteractionAtPath(ee,me,t)}},Ks={__proto__:null,[Ts]:Us,prototype:Gs},Ys={__proto__:null,[Ts]:js,prototype:Gs},Xs={__proto__:null,[Ts]:{deoptimizeArgumentsOnCall:Bs,getLiteralValue:zs,hasEffectsWhenCalled:({args:e})=>e.length>1&&!(e[1]instanceof ps)},prototype:Gs},Js={__proto__:null,[Ts]:js,from:Gs,of:Ws,prototype:Gs},Zs={__proto__:null,[Ts]:js,supportedLocalesOf:Ys},Qs={global:Gs,globalThis:Gs,self:Gs,window:Gs,__proto__:null,[Ts]:Us,Array:{__proto__:null,[Ts]:Us,from:Gs,isArray:Ws,of:Ws,prototype:Gs},ArrayBuffer:{__proto__:null,[Ts]:js,isView:Ws,prototype:Gs},Atomics:Gs,BigInt:Ks,BigInt64Array:Ks,BigUint64Array:Ks,Boolean:Ys,constructor:Ks,DataView:Ys,Date:{__proto__:null,[Ts]:js,now:Ws,parse:Ws,prototype:Gs,UTC:Ws},decodeURI:Ws,decodeURIComponent:Ws,encodeURI:Ws,encodeURIComponent:Ws,Error:Ys,escape:Ws,eval:Gs,EvalError:Ys,Float32Array:Js,Float64Array:Js,Function:Ks,hasOwnProperty:Gs,Infinity:Gs,Int16Array:Js,Int32Array:Js,Int8Array:Js,isFinite:Ws,isNaN:Ws,isPrototypeOf:Gs,JSON:Gs,Map:Xs,Math:{__proto__:null,[Ts]:Us,abs:Ws,acos:Ws,acosh:Ws,asin:Ws,asinh:Ws,atan:Ws,atan2:Ws,atanh:Ws,cbrt:Ws,ceil:Ws,clz32:Ws,cos:Ws,cosh:Ws,exp:Ws,expm1:Ws,floor:Ws,fround:Ws,hypot:Ws,imul:Ws,log:Ws,log10:Ws,log1p:Ws,log2:Ws,max:Ws,min:Ws,pow:Ws,random:Ws,round:Ws,sign:Ws,sin:Ws,sinh:Ws,sqrt:Ws,tan:Ws,tanh:Ws,trunc:Ws},NaN:Gs,Number:{__proto__:null,[Ts]:js,isFinite:Ws,isInteger:Ws,isNaN:Ws,isSafeInteger:Ws,parseFloat:Ws,parseInt:Ws,prototype:Gs},Object:{__proto__:null,[Ts]:js,create:Ws,defineProperty:qs,defineProperties:qs,freeze:qs,getOwnPropertyDescriptor:Ws,getOwnPropertyDescriptors:Ws,getOwnPropertyNames:Ws,getOwnPropertySymbols:Ws,getPrototypeOf:Ws,hasOwn:Ws,is:Ws,isExtensible:Ws,isFrozen:Ws,isSealed:Ws,keys:Ws,fromEntries:Gs,entries:Hs,values:Hs,prototype:Gs},parseFloat:Ws,parseInt:Ws,Promise:{__proto__:null,[Ts]:Us,all:Gs,allSettled:Gs,any:Gs,prototype:Gs,race:Gs,reject:Gs,resolve:Gs},propertyIsEnumerable:Gs,Proxy:Gs,RangeError:Ys,ReferenceError:Ys,Reflect:Gs,RegExp:Ys,Set:Xs,SharedArrayBuffer:Ks,String:{__proto__:null,[Ts]:js,fromCharCode:Ws,fromCodePoint:Ws,prototype:Gs,raw:Ws},Symbol:{__proto__:null,[Ts]:js,for:Ws,keyFor:Ws,prototype:Gs,toStringTag:{__proto__:null,[Ts]:{deoptimizeArgumentsOnCall:Bs,getLiteralValue:()=>J,hasEffectsWhenCalled:Fs}}},SyntaxError:Ys,toLocaleString:Gs,toString:Gs,TypeError:Ys,Uint16Array:Js,Uint32Array:Js,Uint8Array:Js,Uint8ClampedArray:Js,unescape:Ws,URIError:Ys,valueOf:Gs,WeakMap:Xs,WeakSet:Xs,clearInterval:Ks,clearTimeout:Ks,console:{__proto__:null,[Ts]:Us,assert:Ks,clear:Ks,count:Ks,countReset:Ks,debug:Ks,dir:Ks,dirxml:Ks,error:Ks,exception:Ks,group:Ks,groupCollapsed:Ks,groupEnd:Ks,info:Ks,log:Ks,table:Ks,time:Ks,timeEnd:Ks,timeLog:Ks,trace:Ks,warn:Ks},Intl:{__proto__:null,[Ts]:Us,Collator:Zs,DateTimeFormat:Zs,DisplayNames:Zs,ListFormat:Zs,Locale:Zs,NumberFormat:Zs,PluralRules:Zs,RelativeTimeFormat:Zs,Segmenter:Zs},setInterval:Ks,setTimeout:Ks,TextDecoder:Ks,TextEncoder:Ks,URL:{__proto__:null,[Ts]:Us,prototype:Gs,canParse:Ws},URLSearchParams:Ks,AbortController:Ks,AbortSignal:Ks,addEventListener:Gs,alert:Gs,AnalyserNode:Ks,Animation:Ks,AnimationEvent:Ks,applicationCache:Gs,ApplicationCache:Ks,ApplicationCacheErrorEvent:Ks,atob:Gs,Attr:Ks,Audio:Ks,AudioBuffer:Ks,AudioBufferSourceNode:Ks,AudioContext:Ks,AudioDestinationNode:Ks,AudioListener:Ks,AudioNode:Ks,AudioParam:Ks,AudioProcessingEvent:Ks,AudioScheduledSourceNode:Ks,AudioWorkletNode:Ks,BarProp:Ks,BaseAudioContext:Ks,BatteryManager:Ks,BeforeUnloadEvent:Ks,BiquadFilterNode:Ks,Blob:Ks,BlobEvent:Ks,blur:Gs,BroadcastChannel:Ks,btoa:Gs,ByteLengthQueuingStrategy:Ks,Cache:Ks,caches:Gs,CacheStorage:Ks,cancelAnimationFrame:Gs,cancelIdleCallback:Gs,CanvasCaptureMediaStreamTrack:Ks,CanvasGradient:Ks,CanvasPattern:Ks,CanvasRenderingContext2D:Ks,ChannelMergerNode:Ks,ChannelSplitterNode:Ks,CharacterData:Ks,clientInformation:Gs,ClipboardEvent:Ks,close:Gs,closed:Gs,CloseEvent:Ks,Comment:Ks,CompositionEvent:Ks,confirm:Gs,ConstantSourceNode:Ks,ConvolverNode:Ks,CountQueuingStrategy:Ks,createImageBitmap:Gs,Credential:Ks,CredentialsContainer:Ks,crypto:Gs,Crypto:Ks,CryptoKey:Ks,CSS:Ks,CSSConditionRule:Ks,CSSFontFaceRule:Ks,CSSGroupingRule:Ks,CSSImportRule:Ks,CSSKeyframeRule:Ks,CSSKeyframesRule:Ks,CSSMediaRule:Ks,CSSNamespaceRule:Ks,CSSPageRule:Ks,CSSRule:Ks,CSSRuleList:Ks,CSSStyleDeclaration:Ks,CSSStyleRule:Ks,CSSStyleSheet:Ks,CSSSupportsRule:Ks,CustomElementRegistry:Ks,customElements:Gs,CustomEvent:{__proto__:null,[Ts]:{deoptimizeArgumentsOnCall({args:e}){e[2]?.deoptimizePath(["detail"])},getLiteralValue:zs,hasEffectsWhenCalled:Vs},prototype:Gs},DataTransfer:Ks,DataTransferItem:Ks,DataTransferItemList:Ks,defaultstatus:Gs,defaultStatus:Gs,DelayNode:Ks,DeviceMotionEvent:Ks,DeviceOrientationEvent:Ks,devicePixelRatio:Gs,dispatchEvent:Gs,document:Gs,Document:Ks,DocumentFragment:Ks,DocumentType:Ks,DOMError:Ks,DOMException:Ks,DOMImplementation:Ks,DOMMatrix:Ks,DOMMatrixReadOnly:Ks,DOMParser:Ks,DOMPoint:Ks,DOMPointReadOnly:Ks,DOMQuad:Ks,DOMRect:Ks,DOMRectReadOnly:Ks,DOMStringList:Ks,DOMStringMap:Ks,DOMTokenList:Ks,DragEvent:Ks,DynamicsCompressorNode:Ks,Element:Ks,ErrorEvent:Ks,Event:Ks,EventSource:Ks,EventTarget:Ks,external:Gs,fetch:Gs,File:Ks,FileList:Ks,FileReader:Ks,find:Gs,focus:Gs,FocusEvent:Ks,FontFace:Ks,FontFaceSetLoadEvent:Ks,FormData:Ks,frames:Gs,GainNode:Ks,Gamepad:Ks,GamepadButton:Ks,GamepadEvent:Ks,getComputedStyle:Gs,getSelection:Gs,HashChangeEvent:Ks,Headers:Ks,history:Gs,History:Ks,HTMLAllCollection:Ks,HTMLAnchorElement:Ks,HTMLAreaElement:Ks,HTMLAudioElement:Ks,HTMLBaseElement:Ks,HTMLBodyElement:Ks,HTMLBRElement:Ks,HTMLButtonElement:Ks,HTMLCanvasElement:Ks,HTMLCollection:Ks,HTMLContentElement:Ks,HTMLDataElement:Ks,HTMLDataListElement:Ks,HTMLDetailsElement:Ks,HTMLDialogElement:Ks,HTMLDirectoryElement:Ks,HTMLDivElement:Ks,HTMLDListElement:Ks,HTMLDocument:Ks,HTMLElement:Ks,HTMLEmbedElement:Ks,HTMLFieldSetElement:Ks,HTMLFontElement:Ks,HTMLFormControlsCollection:Ks,HTMLFormElement:Ks,HTMLFrameElement:Ks,HTMLFrameSetElement:Ks,HTMLHeadElement:Ks,HTMLHeadingElement:Ks,HTMLHRElement:Ks,HTMLHtmlElement:Ks,HTMLIFrameElement:Ks,HTMLImageElement:Ks,HTMLInputElement:Ks,HTMLLabelElement:Ks,HTMLLegendElement:Ks,HTMLLIElement:Ks,HTMLLinkElement:Ks,HTMLMapElement:Ks,HTMLMarqueeElement:Ks,HTMLMediaElement:Ks,HTMLMenuElement:Ks,HTMLMetaElement:Ks,HTMLMeterElement:Ks,HTMLModElement:Ks,HTMLObjectElement:Ks,HTMLOListElement:Ks,HTMLOptGroupElement:Ks,HTMLOptionElement:Ks,HTMLOptionsCollection:Ks,HTMLOutputElement:Ks,HTMLParagraphElement:Ks,HTMLParamElement:Ks,HTMLPictureElement:Ks,HTMLPreElement:Ks,HTMLProgressElement:Ks,HTMLQuoteElement:Ks,HTMLScriptElement:Ks,HTMLSelectElement:Ks,HTMLShadowElement:Ks,HTMLSlotElement:Ks,HTMLSourceElement:Ks,HTMLSpanElement:Ks,HTMLStyleElement:Ks,HTMLTableCaptionElement:Ks,HTMLTableCellElement:Ks,HTMLTableColElement:Ks,HTMLTableElement:Ks,HTMLTableRowElement:Ks,HTMLTableSectionElement:Ks,HTMLTemplateElement:Ks,HTMLTextAreaElement:Ks,HTMLTimeElement:Ks,HTMLTitleElement:Ks,HTMLTrackElement:Ks,HTMLUListElement:Ks,HTMLUnknownElement:Ks,HTMLVideoElement:Ks,IDBCursor:Ks,IDBCursorWithValue:Ks,IDBDatabase:Ks,IDBFactory:Ks,IDBIndex:Ks,IDBKeyRange:Ks,IDBObjectStore:Ks,IDBOpenDBRequest:Ks,IDBRequest:Ks,IDBTransaction:Ks,IDBVersionChangeEvent:Ks,IdleDeadline:Ks,IIRFilterNode:Ks,Image:Ks,ImageBitmap:Ks,ImageBitmapRenderingContext:Ks,ImageCapture:Ks,ImageData:Ks,indexedDB:Gs,innerHeight:Gs,innerWidth:Gs,InputEvent:Ks,IntersectionObserver:Ks,IntersectionObserverEntry:Ks,isSecureContext:Gs,KeyboardEvent:Ks,KeyframeEffect:Ks,length:Gs,localStorage:Gs,location:Gs,Location:Ks,locationbar:Gs,matchMedia:Gs,MediaDeviceInfo:Ks,MediaDevices:Ks,MediaElementAudioSourceNode:Ks,MediaEncryptedEvent:Ks,MediaError:Ks,MediaKeyMessageEvent:Ks,MediaKeySession:Ks,MediaKeyStatusMap:Ks,MediaKeySystemAccess:Ks,MediaList:Ks,MediaQueryList:Ks,MediaQueryListEvent:Ks,MediaRecorder:Ks,MediaSettingsRange:Ks,MediaSource:Ks,MediaStream:Ks,MediaStreamAudioDestinationNode:Ks,MediaStreamAudioSourceNode:Ks,MediaStreamEvent:Ks,MediaStreamTrack:Ks,MediaStreamTrackEvent:Ks,menubar:Gs,MessageChannel:Ks,MessageEvent:Ks,MessagePort:Ks,MIDIAccess:Ks,MIDIConnectionEvent:Ks,MIDIInput:Ks,MIDIInputMap:Ks,MIDIMessageEvent:Ks,MIDIOutput:Ks,MIDIOutputMap:Ks,MIDIPort:Ks,MimeType:Ks,MimeTypeArray:Ks,MouseEvent:Ks,moveBy:Gs,moveTo:Gs,MutationEvent:Ks,MutationObserver:Ks,MutationRecord:Ks,name:Gs,NamedNodeMap:Ks,NavigationPreloadManager:Ks,navigator:Gs,Navigator:Ks,NetworkInformation:Ks,Node:Ks,NodeFilter:Gs,NodeIterator:Ks,NodeList:Ks,Notification:Ks,OfflineAudioCompletionEvent:Ks,OfflineAudioContext:Ks,offscreenBuffering:Gs,OffscreenCanvas:Ks,open:Gs,openDatabase:Gs,Option:Ks,origin:Gs,OscillatorNode:Ks,outerHeight:Gs,outerWidth:Gs,PageTransitionEvent:Ks,pageXOffset:Gs,pageYOffset:Gs,PannerNode:Ks,parent:Gs,Path2D:Ks,PaymentAddress:Ks,PaymentRequest:Ks,PaymentRequestUpdateEvent:Ks,PaymentResponse:Ks,performance:Gs,Performance:Ks,PerformanceEntry:Ks,PerformanceLongTaskTiming:Ks,PerformanceMark:Ks,PerformanceMeasure:Ks,PerformanceNavigation:Ks,PerformanceNavigationTiming:Ks,PerformanceObserver:Ks,PerformanceObserverEntryList:Ks,PerformancePaintTiming:Ks,PerformanceResourceTiming:Ks,PerformanceTiming:Ks,PeriodicWave:Ks,Permissions:Ks,PermissionStatus:Ks,personalbar:Gs,PhotoCapabilities:Ks,Plugin:Ks,PluginArray:Ks,PointerEvent:Ks,PopStateEvent:Ks,postMessage:Gs,Presentation:Ks,PresentationAvailability:Ks,PresentationConnection:Ks,PresentationConnectionAvailableEvent:Ks,PresentationConnectionCloseEvent:Ks,PresentationConnectionList:Ks,PresentationReceiver:Ks,PresentationRequest:Ks,print:Gs,ProcessingInstruction:Ks,ProgressEvent:Ks,PromiseRejectionEvent:Ks,prompt:Gs,PushManager:Ks,PushSubscription:Ks,PushSubscriptionOptions:Ks,queueMicrotask:Gs,RadioNodeList:Ks,Range:Ks,ReadableStream:Ks,RemotePlayback:Ks,removeEventListener:Gs,Request:Ks,requestAnimationFrame:Gs,requestIdleCallback:Gs,resizeBy:Gs,ResizeObserver:Ks,ResizeObserverEntry:Ks,resizeTo:Gs,Response:Ks,RTCCertificate:Ks,RTCDataChannel:Ks,RTCDataChannelEvent:Ks,RTCDtlsTransport:Ks,RTCIceCandidate:Ks,RTCIceTransport:Ks,RTCPeerConnection:Ks,RTCPeerConnectionIceEvent:Ks,RTCRtpReceiver:Ks,RTCRtpSender:Ks,RTCSctpTransport:Ks,RTCSessionDescription:Ks,RTCStatsReport:Ks,RTCTrackEvent:Ks,screen:Gs,Screen:Ks,screenLeft:Gs,ScreenOrientation:Ks,screenTop:Gs,screenX:Gs,screenY:Gs,ScriptProcessorNode:Ks,scroll:Gs,scrollbars:Gs,scrollBy:Gs,scrollTo:Gs,scrollX:Gs,scrollY:Gs,SecurityPolicyViolationEvent:Ks,Selection:Ks,ServiceWorker:Ks,ServiceWorkerContainer:Ks,ServiceWorkerRegistration:Ks,sessionStorage:Gs,ShadowRoot:Ks,SharedWorker:Ks,SourceBuffer:Ks,SourceBufferList:Ks,speechSynthesis:Gs,SpeechSynthesisEvent:Ks,SpeechSynthesisUtterance:Ks,StaticRange:Ks,status:Gs,statusbar:Gs,StereoPannerNode:Ks,stop:Gs,Storage:Ks,StorageEvent:Ks,StorageManager:Ks,styleMedia:Gs,StyleSheet:Ks,StyleSheetList:Ks,SubtleCrypto:Ks,SVGAElement:Ks,SVGAngle:Ks,SVGAnimatedAngle:Ks,SVGAnimatedBoolean:Ks,SVGAnimatedEnumeration:Ks,SVGAnimatedInteger:Ks,SVGAnimatedLength:Ks,SVGAnimatedLengthList:Ks,SVGAnimatedNumber:Ks,SVGAnimatedNumberList:Ks,SVGAnimatedPreserveAspectRatio:Ks,SVGAnimatedRect:Ks,SVGAnimatedString:Ks,SVGAnimatedTransformList:Ks,SVGAnimateElement:Ks,SVGAnimateMotionElement:Ks,SVGAnimateTransformElement:Ks,SVGAnimationElement:Ks,SVGCircleElement:Ks,SVGClipPathElement:Ks,SVGComponentTransferFunctionElement:Ks,SVGDefsElement:Ks,SVGDescElement:Ks,SVGDiscardElement:Ks,SVGElement:Ks,SVGEllipseElement:Ks,SVGFEBlendElement:Ks,SVGFEColorMatrixElement:Ks,SVGFEComponentTransferElement:Ks,SVGFECompositeElement:Ks,SVGFEConvolveMatrixElement:Ks,SVGFEDiffuseLightingElement:Ks,SVGFEDisplacementMapElement:Ks,SVGFEDistantLightElement:Ks,SVGFEDropShadowElement:Ks,SVGFEFloodElement:Ks,SVGFEFuncAElement:Ks,SVGFEFuncBElement:Ks,SVGFEFuncGElement:Ks,SVGFEFuncRElement:Ks,SVGFEGaussianBlurElement:Ks,SVGFEImageElement:Ks,SVGFEMergeElement:Ks,SVGFEMergeNodeElement:Ks,SVGFEMorphologyElement:Ks,SVGFEOffsetElement:Ks,SVGFEPointLightElement:Ks,SVGFESpecularLightingElement:Ks,SVGFESpotLightElement:Ks,SVGFETileElement:Ks,SVGFETurbulenceElement:Ks,SVGFilterElement:Ks,SVGForeignObjectElement:Ks,SVGGElement:Ks,SVGGeometryElement:Ks,SVGGradientElement:Ks,SVGGraphicsElement:Ks,SVGImageElement:Ks,SVGLength:Ks,SVGLengthList:Ks,SVGLinearGradientElement:Ks,SVGLineElement:Ks,SVGMarkerElement:Ks,SVGMaskElement:Ks,SVGMatrix:Ks,SVGMetadataElement:Ks,SVGMPathElement:Ks,SVGNumber:Ks,SVGNumberList:Ks,SVGPathElement:Ks,SVGPatternElement:Ks,SVGPoint:Ks,SVGPointList:Ks,SVGPolygonElement:Ks,SVGPolylineElement:Ks,SVGPreserveAspectRatio:Ks,SVGRadialGradientElement:Ks,SVGRect:Ks,SVGRectElement:Ks,SVGScriptElement:Ks,SVGSetElement:Ks,SVGStopElement:Ks,SVGStringList:Ks,SVGStyleElement:Ks,SVGSVGElement:Ks,SVGSwitchElement:Ks,SVGSymbolElement:Ks,SVGTextContentElement:Ks,SVGTextElement:Ks,SVGTextPathElement:Ks,SVGTextPositioningElement:Ks,SVGTitleElement:Ks,SVGTransform:Ks,SVGTransformList:Ks,SVGTSpanElement:Ks,SVGUnitTypes:Ks,SVGUseElement:Ks,SVGViewElement:Ks,TaskAttributionTiming:Ks,Text:Ks,TextEvent:Ks,TextMetrics:Ks,TextTrack:Ks,TextTrackCue:Ks,TextTrackCueList:Ks,TextTrackList:Ks,TimeRanges:Ks,toolbar:Gs,top:Gs,Touch:Ks,TouchEvent:Ks,TouchList:Ks,TrackEvent:Ks,TransitionEvent:Ks,TreeWalker:Ks,UIEvent:Ks,ValidityState:Ks,visualViewport:Gs,VisualViewport:Ks,VTTCue:Ks,WaveShaperNode:Ks,WebAssembly:Gs,WebGL2RenderingContext:Ks,WebGLActiveInfo:Ks,WebGLBuffer:Ks,WebGLContextEvent:Ks,WebGLFramebuffer:Ks,WebGLProgram:Ks,WebGLQuery:Ks,WebGLRenderbuffer:Ks,WebGLRenderingContext:Ks,WebGLSampler:Ks,WebGLShader:Ks,WebGLShaderPrecisionFormat:Ks,WebGLSync:Ks,WebGLTexture:Ks,WebGLTransformFeedback:Ks,WebGLUniformLocation:Ks,WebGLVertexArrayObject:Ks,WebSocket:Ks,WheelEvent:Ks,Window:Ks,Worker:Ks,WritableStream:Ks,XMLDocument:Ks,XMLHttpRequest:Ks,XMLHttpRequestEventTarget:Ks,XMLHttpRequestUpload:Ks,XMLSerializer:Ks,XPathEvaluator:Ks,XPathExpression:Ks,XPathResult:Ks,XSLTProcessor:Ks};for(const e of["window","global","self","globalThis"])Qs[e]=Qs;function ei(e){let t=Qs;for(const n of e){if("string"!=typeof n)return null;if(t=t[n],!t)return null}return t[Ts]}class ti extends ye{constructor(){super(...arguments),this.isReassigned=!0}deoptimizeArgumentsOnInteractionAtPath(e,t,n){switch(e.type){case 0:case 1:return void(ei([this.name,...t].slice(0,-1))||super.deoptimizeArgumentsOnInteractionAtPath(e,t,n));case 2:{const s=ei([this.name,...t]);return void(s?s.deoptimizeArgumentsOnCall(e):super.deoptimizeArgumentsOnInteractionAtPath(e,t,n))}}}getLiteralValueAtPath(e,t,n){const s=ei([this.name,...e]);return s?s.getLiteralValue():le}hasEffectsOnInteractionAtPath(e,t,n){switch(t.type){case 0:return 0===e.length?"undefined"!==this.name&&!ei([this.name]):!ei([this.name,...e].slice(0,-1));case 1:return!0;case 2:{const s=ei([this.name,...e]);return!s||s.hasEffectsWhenCalled(t,n)}}}}const ni={__proto__:null,class:!0,const:!0,let:!0,var:!0};class si extends jn{constructor(){super(...arguments),this.variable=null}get isTDZAccess(){return oe(this.flags,4)?oe(this.flags,8):null}set isTDZAccess(e){this.flags=ae(this.flags,4,!0),this.flags=ae(this.flags,8,e)}addExportedVariables(e,t){t.has(this.variable)&&e.push(this.variable)}bind(){!this.variable&&Ls(this,this.parent)&&(this.variable=this.scope.findVariable(this.name),this.variable.addReference(this))}declare(e,t){let n;const{treeshake:s}=this.scope.context.options;switch(e){case"var":n=this.scope.addDeclaration(this,this.scope.context,t,e),s&&s.correctVarValueBeforeDeclaration&&n.markInitializersForDeoptimization();break;case"function":case"let":case"const":case"class":n=this.scope.addDeclaration(this,this.scope.context,t,e);break;case"parameter":n=this.scope.addParameterDeclaration(this);break;default:throw new Error(`Internal Error: Unexpected identifier kind ${e}.`)}return[this.variable=n]}deoptimizeArgumentsOnInteractionAtPath(e,t,n){this.variable.deoptimizeArgumentsOnInteractionAtPath(e,t,n)}deoptimizePath(e){0!==e.length||this.scope.contains(this.name)||this.disallowImportReassignment(),this.variable?.deoptimizePath(e)}getLiteralValueAtPath(e,t,n){return this.getVariableRespectingTDZ().getLiteralValueAtPath(e,t,n)}getReturnExpressionWhenCalledAtPath(e,t,n,s){const[i,r]=this.getVariableRespectingTDZ().getReturnExpressionWhenCalledAtPath(e,t,n,s);return[i,r||this.isPureFunction(e)]}hasEffects(e){return this.deoptimized||this.applyDeoptimizations(),!(!this.isPossibleTDZ()||"var"===this.variable.kind)||this.scope.context.options.treeshake.unknownGlobalSideEffects&&this.variable instanceof ti&&!this.isPureFunction(Z)&&this.variable.hasEffectsOnInteractionAtPath(Z,fe,e)}hasEffectsOnInteractionAtPath(e,t,n){switch(t.type){case 0:return null!==this.variable&&!this.isPureFunction(e)&&this.getVariableRespectingTDZ().hasEffectsOnInteractionAtPath(e,t,n);case 1:return(e.length>0?this.getVariableRespectingTDZ():this.variable).hasEffectsOnInteractionAtPath(e,t,n);case 2:return!this.isPureFunction(e)&&this.getVariableRespectingTDZ().hasEffectsOnInteractionAtPath(e,t,n)}}include(){this.deoptimized||this.applyDeoptimizations(),this.included||(this.included=!0,null!==this.variable&&this.scope.context.includeVariableInModule(this.variable))}includeCallArguments(e,t){this.variable.includeCallArguments(e,t)}isPossibleTDZ(){const e=this.isTDZAccess;if(null!==e)return e;if(!(this.variable instanceof Es&&this.variable.kind&&this.variable.kind in ni&&this.variable.module===this.scope.context.module))return this.isTDZAccess=!1;let t;return this.variable.declarations&&1===this.variable.declarations.length&&(t=this.variable.declarations[0])&&this.start<t.start&&ii(this)===ii(t)?this.isTDZAccess=!0:this.variable.initReached?this.isTDZAccess=!1:this.isTDZAccess=!0}markDeclarationReached(){this.variable.initReached=!0}render(e,{snippets:{getPropertyAccess:t},useOriginalName:n},{renderedParentType:s,isCalleeOfRenderedParent:i,isShorthandProperty:r}=Ee){if(this.variable){const o=this.variable.getName(t,n);o!==this.name&&(e.overwrite(this.start,this.end,o,{contentOnly:!0,storeName:!0}),r&&e.prependRight(this.start,`${this.name}: `)),"eval"===o&&"CallExpression"===s&&i&&e.appendRight(this.start,"0, ")}}disallowImportReassignment(){return this.scope.context.error(jt(this.name,this.scope.context.module.id),this.start)}applyDeoptimizations(){this.deoptimized=!0,this.variable instanceof Es&&(this.variable.consolidateInitializers(),this.scope.context.requestTreeshakingPass())}getVariableRespectingTDZ(){return this.isPossibleTDZ()?ue:this.variable}isPureFunction(e){let t=this.scope.context.manualPureFunctions[this.name];for(const n of e){if(!t)return!1;if(t[_s])return!0;t=t[n]}return t?.[_s]}}function ii(e){for(;e&&!/^Program|Function/.test(e.type);)e=e.parent;return e}function ri(e,t,n,s){t.remove(n,s),e.removeAnnotations(t)}const oi={isNoStatement:!0};function ai(e,t,n=0){let s,i;for(s=e.indexOf(t,n);;){if(-1===(n=e.indexOf("/",n))||n>=s)return s;i=e.charCodeAt(++n),++n,(n=47===i?e.indexOf("\n",n)+1:e.indexOf("*/",n)+2)>s&&(s=e.indexOf(t,n))}}const li=/\S/g;function ci(e,t){li.lastIndex=t;return li.exec(e).index}function di(e){let t,n,s=0;for(t=e.indexOf("\n",s);;){if(s=e.indexOf("/",s),-1===s||s>t)return[t,t+1];if(n=e.charCodeAt(s+1),47===n)return[s,t+1];s=e.indexOf("*/",s+2)+2,s>t&&(t=e.indexOf("\n",s))}}function ui(e,t,n,s,i){let r,o,a,l,c=e[0],d=!c.included||c.needsBoundaries;d&&(l=n+di(t.original.slice(n,c.start))[1]);for(let n=1;n<=e.length;n++)r=c,o=l,a=d,c=e[n],d=void 0!==c&&(!c.included||c.needsBoundaries),a||d?(l=r.end+di(t.original.slice(r.end,void 0===c?s:c.start))[1],r.included?a?r.render(t,i,{end:l,start:o}):r.render(t,i):ri(r,t,o,l)):r.render(t,i)}function hi(e,t,n,s){const i=[];let r,o,a,l,c=n-1;for(const s of e){for(void 0!==r&&(c=r.end+ai(t.original.slice(r.end,s.start),",")),o=a=c+1+di(t.original.slice(c+1,s.start))[1];l=t.original.charCodeAt(o),32===l||9===l||10===l||13===l;)o++;void 0!==r&&i.push({contentEnd:a,end:o,node:r,separator:c,start:n}),r=s,n=o}return i.push({contentEnd:s,end:s,node:r,separator:null,start:n}),i}function pi(e,t,n){for(;;){const[s,i]=di(e.original.slice(t,n));if(-1===s)break;e.remove(t+s,t+=i)}}class fi extends Cs{constructor(e){super(e,e.context)}addDeclaration(e,t,n,s){if("var"===s){const i=e.name,r=this.hoistedVariables?.get(i)||this.variables.get(i);if(r)return"var"===r.kind?(r.addDeclaration(e,n),r):t.error(Zt(i),e.start);const o=this.parent.addDeclaration(e,t,n,s);return o.markInitializersForDeoptimization(),this.addHoistedVariable(i,o),o}return super.addDeclaration(e,t,n,s)}}class mi extends jn{initialise(){var e,t;this.directive&&"use strict"!==this.directive&&this.parent.type===bs&&this.scope.context.log(Pe,(e=this.directive,{code:"MODULE_LEVEL_DIRECTIVE",id:t=this.scope.context.module.id,message:`Module level directives cause errors when bundled, "${e}" in "${V(t)}" was ignored.`}),this.start)}removeAnnotations(e){this.expression.removeAnnotations(e)}render(e,t){super.render(e,t),";"!==e.original[this.end-1]&&e.appendLeft(this.end,";")}shouldBeIncluded(e){return this.directive&&"use strict"!==this.directive?this.parent.type!==bs:super.shouldBeIncluded(e)}applyDeoptimizations(){}}class gi extends jn{get deoptimizeBody(){return oe(this.flags,32768)}set deoptimizeBody(e){this.flags=ae(this.flags,32768,e)}get directlyIncluded(){return oe(this.flags,16384)}set directlyIncluded(e){this.flags=ae(this.flags,16384,e)}addImplicitReturnExpressionToScope(){const e=this.body[this.body.length-1];e&&"ReturnStatement"===e.type||this.scope.addReturnExpression(ue)}createScope(e){this.scope=this.parent.preventChildBlockScope?e:new fi(e)}hasEffects(e){if(this.deoptimizeBody)return!0;for(const t of this.body){if(e.brokenFlow)break;if(t.hasEffects(e))return!0}return!1}include(e,t){if(!this.deoptimizeBody||!this.directlyIncluded){this.included=!0,this.directlyIncluded=!0,this.deoptimizeBody&&(t=!0);for(const n of this.body)(t||n.shouldBeIncluded(e))&&n.include(e,t)}}initialise(){const e=this.body[0];this.deoptimizeBody=e instanceof mi&&"use asm"===e.directive}render(e,t){this.body.length>0?ui(this.body,e,this.start+1,this.end-1,t):super.render(e,t)}}class yi extends jn{constructor(){super(...arguments),this.declarationInit=null}addExportedVariables(e,t){this.argument.addExportedVariables(e,t)}declare(e,t){return this.declarationInit=t,this.argument.declare(e,ue)}deoptimizePath(e){0===e.length&&this.argument.deoptimizePath(Z)}hasEffectsOnInteractionAtPath(e,t,n){return e.length>0||this.argument.hasEffectsOnInteractionAtPath(Z,t,n)}markDeclarationReached(){this.argument.markDeclarationReached()}applyDeoptimizations(){this.deoptimized=!0,null!==this.declarationInit&&(this.declarationInit.deoptimizePath([K,K]),this.scope.context.requestTreeshakingPass())}}class bi extends jn{constructor(){super(...arguments),this.objectEntity=null}get async(){return oe(this.flags,256)}set async(e){this.flags=ae(this.flags,256,e)}get deoptimizedReturn(){return oe(this.flags,512)}set deoptimizedReturn(e){this.flags=ae(this.flags,512,e)}deoptimizeArgumentsOnInteractionAtPath(e,t,n){if(2===e.type){const{parameters:t}=this.scope,{args:n}=e;let s=!1;for(let e=0;e<n.length-1;e++){const i=this.params[e],r=n[e+1];s||i instanceof yi?(s=!0,r.deoptimizePath(Q)):i instanceof si?(t[e][0].addEntityToBeDeoptimized(r),this.addArgumentToBeDeoptimized(r)):i?r.deoptimizePath(Q):this.addArgumentToBeDeoptimized(r)}}else this.getObjectEntity().deoptimizeArgumentsOnInteractionAtPath(e,t,n)}deoptimizePath(e){if(this.getObjectEntity().deoptimizePath(e),1===e.length&&e[0]===K){this.scope.getReturnExpression().deoptimizePath(Q);for(const e of this.scope.parameters)for(const t of e)t.deoptimizePath(Q)}}getLiteralValueAtPath(e,t,n){return this.getObjectEntity().getLiteralValueAtPath(e,t,n)}getReturnExpressionWhenCalledAtPath(e,t,n,s){return e.length>0?this.getObjectEntity().getReturnExpressionWhenCalledAtPath(e,t,n,s):this.async?(this.deoptimizedReturn||(this.deoptimizedReturn=!0,this.scope.getReturnExpression().deoptimizePath(Q),this.scope.context.requestTreeshakingPass()),he):[this.scope.getReturnExpression(),!1]}hasEffectsOnInteractionAtPath(e,t,n){if(e.length>0||2!==t.type)return this.getObjectEntity().hasEffectsOnInteractionAtPath(e,t,n);if(this.annotationNoSideEffects)return!1;if(this.async){const{propertyReadSideEffects:e}=this.scope.context.options.treeshake,t=this.scope.getReturnExpression();if(t.hasEffectsOnInteractionAtPath(["then"],ge,n)||e&&("always"===e||t.hasEffectsOnInteractionAtPath(["then"],fe,n)))return!0}for(const e of this.params)if(e.hasEffects(n))return!0;return!1}include(e,t){this.deoptimized||this.applyDeoptimizations(),this.included=!0;const{brokenFlow:n}=e;e.brokenFlow=!1,this.body.include(e,t),e.brokenFlow=n}includeCallArguments(e,t){this.scope.includeCallArguments(e,t)}initialise(){this.body instanceof gi?this.body.addImplicitReturnExpressionToScope():this.scope.addReturnExpression(this.body)}parseNode(e){const{body:t,params:n}=e,s=this.params=[],{scope:i}=this,{bodyScope:r,context:o}=i;for(const e of n)s.push(new(o.getNodeConstructor(e.type))(e,this,i,!1));i.addParameterVariables(s.map((e=>e.declare("parameter",ue))),s[s.length-1]instanceof yi),this.body=new(o.getNodeConstructor(t.type))(t,this,r),super.parseNode(e)}addArgumentToBeDeoptimized(e){}applyDeoptimizations(){}}bi.prototype.preventChildBlockScope=!0;class Ei extends bi{constructor(){super(...arguments),this.objectEntity=null}createScope(e){this.scope=new Rs(e,!1)}hasEffects(){return this.deoptimized||this.applyDeoptimizations(),!1}hasEffectsOnInteractionAtPath(e,t,n){if(super.hasEffectsOnInteractionAtPath(e,t,n))return!0;if(this.annotationNoSideEffects)return!1;if(2===t.type){const{ignore:e,brokenFlow:t}=n;if(n.ignore={breaks:!1,continues:!1,labels:new Set,returnYield:!0,this:!1},this.body.hasEffects(n))return!0;n.ignore=e,n.brokenFlow=t}return!1}include(e,t){super.include(e,t);for(const n of this.params)n instanceof si||n.include(e,t)}getObjectEntity(){return null!==this.objectEntity?this.objectEntity:this.objectEntity=new Xn([],Qn)}}function xi(e,{exportNamesByVariable:t,snippets:{_:n,getObject:s,getPropertyAccess:i}},r=""){if(1===e.length&&1===t.get(e[0]).length){const s=e[0];return`exports('${t.get(s)}',${n}${s.getName(i)}${r})`}{const n=[];for(const s of e)for(const e of t.get(s))n.push([e,s.getName(i)+r]);return`exports(${s(n,{lineBreakIndent:null})})`}}function $i(e,t,n,s,{exportNamesByVariable:i,snippets:{_:r}}){s.prependRight(t,`exports('${i.get(e)}',${r}`),s.appendLeft(n,")")}function Ai(e,t,n,s,i,r){const{_:o,getPropertyAccess:a}=r.snippets;i.appendLeft(n,`,${o}${xi([e],r)},${o}${e.getName(a)}`),s&&(i.prependRight(t,"("),i.appendLeft(n,")"))}class Si extends jn{addExportedVariables(e,t){for(const n of this.properties)"Property"===n.type?n.value.addExportedVariables(e,t):n.argument.addExportedVariables(e,t)}declare(e,t){const n=[];for(const s of this.properties)n.push(...s.declare(e,t));return n}deoptimizePath(e){if(0===e.length)for(const t of this.properties)t.deoptimizePath(e)}hasEffectsOnInteractionAtPath(e,t,n){for(const e of this.properties)if(e.hasEffectsOnInteractionAtPath(Z,t,n))return!0;return!1}markDeclarationReached(){for(const e of this.properties)e.markDeclarationReached()}}class wi extends Es{constructor(e){super("arguments",null,ue,e,"other"),this.deoptimizedArguments=[]}addArgumentToBeDeoptimized(e){this.included?e.deoptimizePath(Q):this.deoptimizedArguments.push(e)}hasEffectsOnInteractionAtPath(e,{type:t}){return 0!==t||e.length>1}include(){super.include();for(const e of this.deoptimizedArguments)e.deoptimizePath(Q);this.deoptimizedArguments.length=0}}class vi extends ws{constructor(e){super("this",null,e)}hasEffectsOnInteractionAtPath(e,t,n){return(n.replacedVariableInits.get(this)||ue).hasEffectsOnInteractionAtPath(e,t,n)}}class Ii extends Rs{constructor(e){const{context:t}=e;super(e,!1),this.variables.set("arguments",this.argumentsVariable=new wi(t)),this.variables.set("this",this.thisVariable=new vi(t))}findLexicalBoundary(){return this}includeCallArguments(e,t){if(super.includeCallArguments(e,t),this.argumentsVariable.included)for(const n of t)n.included||n.include(e,!1)}}class Pi extends bi{constructor(){super(...arguments),this.objectEntity=null}createScope(e){this.scope=new Ii(e),this.constructedEntity=new Xn(Object.create(null),Qn),this.scope.thisVariable.addEntityToBeDeoptimized(this.constructedEntity)}deoptimizeArgumentsOnInteractionAtPath(e,t,n){super.deoptimizeArgumentsOnInteractionAtPath(e,t,n),2===e.type&&0===t.length&&e.args[0]&&this.scope.thisVariable.addEntityToBeDeoptimized(e.args[0])}hasEffects(e){return this.deoptimized||this.applyDeoptimizations(),!this.annotationNoSideEffects&&!!this.id?.hasEffects(e)}hasEffectsOnInteractionAtPath(e,t,n){if(super.hasEffectsOnInteractionAtPath(e,t,n))return!0;if(this.annotationNoSideEffects)return!1;if(2===t.type){const e=n.replacedVariableInits.get(this.scope.thisVariable);n.replacedVariableInits.set(this.scope.thisVariable,t.withNew?this.constructedEntity:ue);const{brokenFlow:s,ignore:i,replacedVariableInits:r}=n;if(n.ignore={breaks:!1,continues:!1,labels:new Set,returnYield:!0,this:t.withNew},this.body.hasEffects(n))return!0;n.brokenFlow=s,e?r.set(this.scope.thisVariable,e):r.delete(this.scope.thisVariable),n.ignore=i}return!1}include(e,t){super.include(e,t),this.id?.include();const n=this.scope.argumentsVariable.included;for(const s of this.params)s instanceof si&&!n||s.include(e,t)}initialise(){super.initialise(),this.id?.declare("function",this)}addArgumentToBeDeoptimized(e){this.scope.argumentsVariable.addArgumentToBeDeoptimized(e)}getObjectEntity(){return null!==this.objectEntity?this.objectEntity:this.objectEntity=new Xn([{key:"prototype",kind:"init",property:new Xn([],Qn)}],Qn)}}class ki extends jn{hasEffects(){return this.deoptimized||this.applyDeoptimizations(),!0}include(e,t){if(this.deoptimized||this.applyDeoptimizations(),!this.included){this.included=!0;e:if(!this.scope.context.usesTopLevelAwait){let e=this.parent;do{if(e instanceof Pi||e instanceof Ei)break e}while(e=e.parent);this.scope.context.usesTopLevelAwait=!0}}this.argument.include(e,t)}}const Ni={"!=":(e,t)=>e!=t,"!==":(e,t)=>e!==t,"%":(e,t)=>e%t,"&":(e,t)=>e&t,"*":(e,t)=>e*t,"**":(e,t)=>e**t,"+":(e,t)=>e+t,"-":(e,t)=>e-t,"/":(e,t)=>e/t,"<":(e,t)=>e<t,"<<":(e,t)=>e<<t,"<=":(e,t)=>e<=t,"==":(e,t)=>e==t,"===":(e,t)=>e===t,">":(e,t)=>e>t,">=":(e,t)=>e>=t,">>":(e,t)=>e>>t,">>>":(e,t)=>e>>>t,"^":(e,t)=>e^t,"|":(e,t)=>e|t};function Ci(e,t,n){if(n.arguments.length>0)if(n.arguments[n.arguments.length-1].included)for(const s of n.arguments)s.render(e,t);else{let s=n.arguments.length-2;for(;s>=0&&!n.arguments[s].included;)s--;if(s>=0){for(let i=0;i<=s;i++)n.arguments[i].render(e,t);e.remove(ai(e.original,",",n.arguments[s].end),n.end-1)}else e.remove(ai(e.original,"(",n.callee.end)+1,n.end-1)}}class Mi extends jn{deoptimizeArgumentsOnInteractionAtPath(){}getLiteralValueAtPath(e){return e.length>0||null===this.value&&110!==this.scope.context.code.charCodeAt(this.start)||"bigint"==typeof this.value||47===this.scope.context.code.charCodeAt(this.start)?le:this.value}getReturnExpressionWhenCalledAtPath(e){return 1!==e.length?he:kn(this.members,e[0])}hasEffectsOnInteractionAtPath(e,t,n){switch(t.type){case 0:return e.length>(null===this.value?0:1);case 1:return!0;case 2:return!!(this.included&&this.value instanceof RegExp&&(this.value.global||this.value.sticky))||(1!==e.length||Pn(this.members,e[0],t,n))}}initialise(){this.members=function(e){if(e instanceof RegExp)return vn;switch(typeof e){case"boolean":return Sn;case"number":return wn;case"string":return In}return Object.create(null)}(this.value)}parseNode(e){this.value=e.value,this.regex=e.regex,super.parseNode(e)}render(e){"string"==typeof this.value&&e.indentExclusionRanges.push([this.start+1,this.end-1])}}function Oi(e){return e.computed?function(e){if(e instanceof Mi)return String(e.value);return null}(e.property):e.property.name}function Di(e){const t=e.propertyKey,n=e.object;if("string"==typeof t){if(n instanceof si)return[{key:n.name,pos:n.start},{key:t,pos:e.property.start}];if(n instanceof Ri){const s=Di(n);return s&&[...s,{key:t,pos:e.property.start}]}}return null}class Ri extends jn{constructor(){super(...arguments),this.variable=null,this.expressionsToBeDeoptimized=[]}get computed(){return oe(this.flags,1024)}set computed(e){this.flags=ae(this.flags,1024,e)}get optional(){return oe(this.flags,128)}set optional(e){this.flags=ae(this.flags,128,e)}get assignmentDeoptimized(){return oe(this.flags,16)}set assignmentDeoptimized(e){this.flags=ae(this.flags,16,e)}get bound(){return oe(this.flags,32)}set bound(e){this.flags=ae(this.flags,32,e)}get isUndefined(){return oe(this.flags,64)}set isUndefined(e){this.flags=ae(this.flags,64,e)}bind(){this.bound=!0;const e=Di(this),t=e&&this.scope.findVariable(e[0].key);if(t?.isNamespace){const n=Li(t,e.slice(1),this.scope.context);n?"undefined"===n?this.isUndefined=!0:(this.variable=n,this.scope.addNamespaceMemberAccess(function(e){let t=e[0].key;for(let n=1;n<e.length;n++)t+="."+e[n].key;return t}(e),n)):super.bind()}else super.bind()}deoptimizeArgumentsOnInteractionAtPath(e,t,n){this.variable?this.variable.deoptimizeArgumentsOnInteractionAtPath(e,t,n):this.isUndefined||(t.length<7?this.object.deoptimizeArgumentsOnInteractionAtPath(e,[this.getPropertyKey(),...t],n):pe(e))}deoptimizeCache(){const{expressionsToBeDeoptimized:e,object:t}=this;this.expressionsToBeDeoptimized=$e,this.propertyKey=K,t.deoptimizePath(Q);for(const t of e)t.deoptimizeCache()}deoptimizePath(e){if(0===e.length&&this.disallowNamespaceReassignment(),this.variable)this.variable.deoptimizePath(e);else if(!this.isUndefined&&e.length<7){const t=this.getPropertyKey();this.object.deoptimizePath([t===K?Y:t,...e])}}getLiteralValueAtPath(e,t,n){return this.variable?this.variable.getLiteralValueAtPath(e,t,n):this.isUndefined?void 0:this.propertyKey!==K&&e.length<7?(this.expressionsToBeDeoptimized.push(n),this.object.getLiteralValueAtPath([this.getPropertyKey(),...e],t,n)):le}getReturnExpressionWhenCalledAtPath(e,t,n,s){return this.variable?this.variable.getReturnExpressionWhenCalledAtPath(e,t,n,s):this.isUndefined?[pn,!1]:this.propertyKey!==K&&e.length<7?(this.expressionsToBeDeoptimized.push(s),this.object.getReturnExpressionWhenCalledAtPath([this.getPropertyKey(),...e],t,n,s)):he}hasEffects(e){return this.deoptimized||this.applyDeoptimizations(),this.property.hasEffects(e)||this.object.hasEffects(e)||this.hasAccessEffect(e)}hasEffectsAsAssignmentTarget(e,t){return t&&!this.deoptimized&&this.applyDeoptimizations(),this.assignmentDeoptimized||this.applyAssignmentDeoptimization(),this.property.hasEffects(e)||this.object.hasEffects(e)||t&&this.hasAccessEffect(e)||this.hasEffectsOnInteractionAtPath(Z,this.assignmentInteraction,e)}hasEffectsOnInteractionAtPath(e,t,n){return this.variable?this.variable.hasEffectsOnInteractionAtPath(e,t,n):!!this.isUndefined||(!(e.length<7)||this.object.hasEffectsOnInteractionAtPath([this.getPropertyKey(),...e],t,n))}include(e,t){this.deoptimized||this.applyDeoptimizations(),this.includeProperties(e,t)}includeAsAssignmentTarget(e,t,n){this.assignmentDeoptimized||this.applyAssignmentDeoptimization(),n?this.include(e,t):this.includeProperties(e,t)}includeCallArguments(e,t){this.variable?this.variable.includeCallArguments(e,t):super.includeCallArguments(e,t)}initialise(){this.propertyKey=Oi(this),this.accessInteraction={args:[this.object],type:0}}isSkippedAsOptional(e){return!this.variable&&!this.isUndefined&&(this.object.isSkippedAsOptional?.(e)||this.optional&&null==this.object.getLiteralValueAtPath(Z,ie,e))}render(e,t,{renderedParentType:n,isCalleeOfRenderedParent:s,renderedSurroundingElement:i}=Ee){if(this.variable||this.isUndefined){const{snippets:{getPropertyAccess:i}}=t;let r=this.variable?this.variable.getName(i):"undefined";n&&s&&(r="0, "+r),e.overwrite(this.start,this.end,r,{contentOnly:!0,storeName:!0})}else n&&s&&e.appendRight(this.start,"0, "),this.object.render(e,t,{renderedSurroundingElement:i}),this.property.render(e,t)}setAssignedValue(e){this.assignmentInteraction={args:[this.object,e],type:1}}applyDeoptimizations(){this.deoptimized=!0;const{propertyReadSideEffects:e}=this.scope.context.options.treeshake;if(this.bound&&e&&!this.variable&&!this.isUndefined){const e=this.getPropertyKey();this.object.deoptimizeArgumentsOnInteractionAtPath(this.accessInteraction,[e],ie),this.scope.context.requestTreeshakingPass()}}applyAssignmentDeoptimization(){this.assignmentDeoptimized=!0;const{propertyReadSideEffects:e}=this.scope.context.options.treeshake;this.bound&&e&&!this.variable&&!this.isUndefined&&(this.object.deoptimizeArgumentsOnInteractionAtPath(this.assignmentInteraction,[this.getPropertyKey()],ie),this.scope.context.requestTreeshakingPass())}disallowNamespaceReassignment(){if(this.object instanceof si){this.scope.findVariable(this.object.name).isNamespace&&(this.variable&&this.scope.context.includeVariableInModule(this.variable),this.scope.context.log(Pe,jt(this.object.name,this.scope.context.module.id),this.start))}}getPropertyKey(){if(null===this.propertyKey){this.propertyKey=K;const e=this.property.getLiteralValueAtPath(Z,ie,this);return this.propertyKey=e===J?e:"symbol"==typeof e?K:String(e)}return this.propertyKey}hasAccessEffect(e){const{propertyReadSideEffects:t}=this.scope.context.options.treeshake;return!(this.variable||this.isUndefined)&&t&&("always"===t||this.object.hasEffectsOnInteractionAtPath([this.getPropertyKey()],this.accessInteraction,e))}includeProperties(e,t){this.included||(this.included=!0,this.variable&&this.scope.context.includeVariableInModule(this.variable)),this.object.include(e,t),this.property.include(e,t)}}function Li(e,t,n){if(0===t.length)return e;if(!e.isNamespace||e instanceof be)return null;const s=t[0].key,i=e.context.traceExport(s);if(!i){if(1===t.length){const i=e.context.fileName;return n.log(Pe,Yt(s,n.module.id,i),t[0].pos),"undefined"}return null}return Li(i,t.slice(1),n)}class _i extends jn{constructor(){super(...arguments),this.returnExpression=null,this.deoptimizableDependentExpressions=[],this.expressionsToBeDeoptimized=new Set}deoptimizeArgumentsOnInteractionAtPath(e,t,n){const{args:s}=e,[i,r]=this.getReturnExpression(n);if(r)return;const o=s.filter((e=>!!e&&e!==ue));if(0!==o.length)if(i===ue)for(const e of o)e.deoptimizePath(Q);else n.withTrackedEntityAtPath(t,i,(()=>{for(const e of o)this.expressionsToBeDeoptimized.add(e);i.deoptimizeArgumentsOnInteractionAtPath(e,t,n)}),null)}deoptimizeCache(){if(this.returnExpression?.[0]!==ue){this.returnExpression=he;const{deoptimizableDependentExpressions:e,expressionsToBeDeoptimized:t}=this;this.expressionsToBeDeoptimized=Ae,this.deoptimizableDependentExpressions=$e;for(const t of e)t.deoptimizeCache();for(const e of t)e.deoptimizePath(Q)}}deoptimizePath(e){if(0===e.length||this.scope.context.deoptimizationTracker.trackEntityAtPathAndGetIfTracked(e,this))return;const[t]=this.getReturnExpression();t!==ue&&t.deoptimizePath(e)}getLiteralValueAtPath(e,t,n){const[s]=this.getReturnExpression(t);return s===ue?le:t.withTrackedEntityAtPath(e,s,(()=>(this.deoptimizableDependentExpressions.push(n),s.getLiteralValueAtPath(e,t,n))),le)}getReturnExpressionWhenCalledAtPath(e,t,n,s){const i=this.getReturnExpression(n);return i[0]===ue?i:n.withTrackedEntityAtPath(e,i,(()=>{this.deoptimizableDependentExpressions.push(s);const[r,o]=i[0].getReturnExpressionWhenCalledAtPath(e,t,n,s);return[r,o||i[1]]}),he)}hasEffectsOnInteractionAtPath(e,t,n){const{type:s}=t;if(2===s){const{args:s,withNew:i}=t;if((i?n.instantiated:n.called).trackEntityAtPathAndGetIfTracked(e,s,this))return!1}else if((1===s?n.assigned:n.accessed).trackEntityAtPathAndGetIfTracked(e,this))return!1;const[i,r]=this.getReturnExpression();return(1===s||!r)&&i.hasEffectsOnInteractionAtPath(e,t,n)}}class Bi extends _i{get optional(){return oe(this.flags,128)}set optional(e){this.flags=ae(this.flags,128,e)}bind(){if(super.bind(),this.callee instanceof si){this.scope.findVariable(this.callee.name).isNamespace&&this.scope.context.log(Pe,Tt(this.callee.name),this.start),"eval"===this.callee.name&&this.scope.context.log(Pe,{code:"EVAL",id:e=this.scope.context.module.id,message:`Use of eval in "${V(e)}" is strongly discouraged as it poses security risks and may cause issues with minification.`,url:ze("troubleshooting/#avoiding-eval")},this.start)}var e;this.interaction={args:[this.callee instanceof Ri&&!this.callee.variable?this.callee.object:null,...this.arguments],type:2,withNew:!1}}hasEffects(e){try{for(const t of this.arguments)if(t.hasEffects(e))return!0;return!this.annotationPure&&(this.callee.hasEffects(e)||this.callee.hasEffectsOnInteractionAtPath(Z,this.interaction,e))}finally{this.deoptimized||this.applyDeoptimizations()}}include(e,t){this.deoptimized||this.applyDeoptimizations(),t?(super.include(e,t),t===Fn&&this.callee instanceof si&&this.callee.variable&&this.callee.variable.markCalledFromTryStatement()):(this.included=!0,this.callee.include(e,!1)),this.callee.includeCallArguments(e,this.arguments)}isSkippedAsOptional(e){return this.callee.isSkippedAsOptional?.(e)||this.optional&&null==this.callee.getLiteralValueAtPath(Z,ie,e)}render(e,t,{renderedSurroundingElement:n}=Ee){this.callee.render(e,t,{isCalleeOfRenderedParent:!0,renderedSurroundingElement:n}),Ci(e,t,this)}applyDeoptimizations(){this.deoptimized=!0,this.callee.deoptimizeArgumentsOnInteractionAtPath(this.interaction,Z,ie),this.scope.context.requestTreeshakingPass()}getReturnExpression(e=ie){return null===this.returnExpression?(this.returnExpression=he,this.returnExpression=this.callee.getReturnExpressionWhenCalledAtPath(Z,this.interaction,e,this)):this.returnExpression}}class Ti extends jn{createScope(e){this.scope=new Ds(e,!0)}parseNode(e){const{body:t,param:n,type:s}=e;this.type=s,n&&(this.param=new(this.scope.context.getNodeConstructor(n.type))(n,this,this.scope),this.param.declare("parameter",ue)),this.body=new gi(t,this,this.scope.bodyScope),super.parseNode(e)}}Ti.prototype.preventChildBlockScope=!0;class zi extends Cs{constructor(e,t){const{context:n}=e;super(e,n),this.variables.set("this",this.thisVariable=new Es("this",null,t,n,"other")),this.instanceScope=new Cs(this,n),this.instanceScope.variables.set("this",new vi(n))}findLexicalBoundary(){return this}}class Vi extends jn{constructor(){super(...arguments),this.accessedValue=null}get computed(){return oe(this.flags,1024)}set computed(e){this.flags=ae(this.flags,1024,e)}deoptimizeArgumentsOnInteractionAtPath(e,t,n){return 0===e.type&&"get"===this.kind&&0===t.length||1===e.type&&"set"===this.kind&&0===t.length?this.value.deoptimizeArgumentsOnInteractionAtPath({args:e.args,type:2,withNew:!1},Z,n):void this.getAccessedValue()[0].deoptimizeArgumentsOnInteractionAtPath(e,t,n)}deoptimizeCache(){}deoptimizePath(e){this.getAccessedValue()[0].deoptimizePath(e)}getLiteralValueAtPath(e,t,n){return this.getAccessedValue()[0].getLiteralValueAtPath(e,t,n)}getReturnExpressionWhenCalledAtPath(e,t,n,s){return this.getAccessedValue()[0].getReturnExpressionWhenCalledAtPath(e,t,n,s)}hasEffects(e){return this.key.hasEffects(e)}hasEffectsOnInteractionAtPath(e,t,n){return"get"===this.kind&&0===t.type&&0===e.length||"set"===this.kind&&1===t.type?this.value.hasEffectsOnInteractionAtPath(Z,{args:t.args,type:2,withNew:!1},n):this.getAccessedValue()[0].hasEffectsOnInteractionAtPath(e,t,n)}applyDeoptimizations(){}getAccessedValue(){return null===this.accessedValue?"get"===this.kind?(this.accessedValue=he,this.accessedValue=this.value.getReturnExpressionWhenCalledAtPath(Z,ge,ie,this)):this.accessedValue=[this.value,!1]:this.accessedValue}}class Fi extends Vi{applyDeoptimizations(){}}class ji extends de{constructor(e,t){super(),this.object=e,this.key=t}deoptimizeArgumentsOnInteractionAtPath(e,t,n){this.object.deoptimizeArgumentsOnInteractionAtPath(e,[this.key,...t],n)}deoptimizePath(e){this.object.deoptimizePath([this.key,...e])}getLiteralValueAtPath(e,t,n){return this.object.getLiteralValueAtPath([this.key,...e],t,n)}getReturnExpressionWhenCalledAtPath(e,t,n,s){return this.object.getReturnExpressionWhenCalledAtPath([this.key,...e],t,n,s)}hasEffectsOnInteractionAtPath(e,t,n){return this.object.hasEffectsOnInteractionAtPath([this.key,...e],t,n)}}class Ui extends jn{constructor(){super(...arguments),this.objectEntity=null}createScope(e){this.scope=new Cs(e,e.context)}deoptimizeArgumentsOnInteractionAtPath(e,t,n){this.getObjectEntity().deoptimizeArgumentsOnInteractionAtPath(e,t,n)}deoptimizeCache(){this.getObjectEntity().deoptimizeAllProperties()}deoptimizePath(e){this.getObjectEntity().deoptimizePath(e)}getLiteralValueAtPath(e,t,n){return this.getObjectEntity().getLiteralValueAtPath(e,t,n)}getReturnExpressionWhenCalledAtPath(e,t,n,s){return this.getObjectEntity().getReturnExpressionWhenCalledAtPath(e,t,n,s)}hasEffects(e){this.deoptimized||this.applyDeoptimizations();const t=this.superClass?.hasEffects(e)||this.body.hasEffects(e);return this.id?.markDeclarationReached(),t||super.hasEffects(e)}hasEffectsOnInteractionAtPath(e,t,n){return 2===t.type&&0===e.length?!t.withNew||(null===this.classConstructor?this.superClass?.hasEffectsOnInteractionAtPath(e,t,n):this.classConstructor.hasEffectsOnInteractionAtPath(e,t,n))||!1:this.getObjectEntity().hasEffectsOnInteractionAtPath(e,t,n)}include(e,t){this.deoptimized||this.applyDeoptimizations(),this.included=!0,this.superClass?.include(e,t),this.body.include(e,t),this.id&&(this.id.markDeclarationReached(),this.id.include())}initialise(){this.id?.declare("class",this);for(const e of this.body.body)if(e instanceof Fi&&"constructor"===e.kind)return void(this.classConstructor=e);this.classConstructor=null}applyDeoptimizations(){this.deoptimized=!0;for(const e of this.body.body)e.static||e instanceof Fi&&"constructor"===e.kind||e.deoptimizePath(Q);this.scope.context.requestTreeshakingPass()}getObjectEntity(){if(null!==this.objectEntity)return this.objectEntity;const e=[],t=[];for(const n of this.body.body){const s=n.static?e:t,i=n.kind;if(s===t&&!i)continue;const r="set"===i||"get"===i?i:"init";let o;if(n.computed){const e=n.key.getLiteralValueAtPath(Z,ie,this);if("symbol"==typeof e){s.push({key:K,kind:r,property:n});continue}o=String(e)}else o=n.key instanceof si?n.key.name:String(n.key.value);s.push({key:o,kind:r,property:n})}return e.unshift({key:"prototype",kind:"init",property:new Xn(t,this.superClass?new ji(this.superClass,"prototype"):Qn)}),this.objectEntity=new Xn(e,this.superClass||Qn)}}class Gi extends Ui{initialise(){super.initialise(),null!==this.id&&(this.id.variable.isId=!0)}parseNode(e){null!==e.id&&(this.id=new si(e.id,this,this.scope.parent)),super.parseNode(e)}render(e,t){const{exportNamesByVariable:n,format:s,snippets:{_:i,getPropertyAccess:r}}=t;if(this.id){const{variable:o,name:a}=this.id;"system"===s&&n.has(o)&&e.appendLeft(this.end,`${i}${xi([o],t)};`);const l=o.getName(r);if(l!==a)return this.superClass?.render(e,t),this.body.render(e,{...t,useOriginalName:e=>e===o}),e.prependRight(this.start,`let ${l}${i}=${i}`),void e.prependLeft(this.end,";")}super.render(e,t)}applyDeoptimizations(){super.applyDeoptimizations();const{id:e,scope:t}=this;if(e){const{name:n,variable:s}=e;for(const e of t.accessedOutsideVariables.values())e!==s&&e.forbidName(n)}}}class Wi extends Ui{render(e,t,{renderedSurroundingElement:n}=Ee){super.render(e,t),n===gs&&(e.appendRight(this.start,"("),e.prependLeft(this.end,")"))}}class Hi extends de{constructor(e){super(),this.expressions=e}deoptimizePath(e){for(const t of this.expressions)t.deoptimizePath(e)}getReturnExpressionWhenCalledAtPath(e,t,n,s){return[new Hi(this.expressions.map((i=>i.getReturnExpressionWhenCalledAtPath(e,t,n,s)[0]))),!1]}hasEffectsOnInteractionAtPath(e,t,n){for(const s of this.expressions)if(s.hasEffectsOnInteractionAtPath(e,t,n))return!0;return!1}}function qi(e,t){const{brokenFlow:n,hasBreak:s,hasContinue:i,ignore:r}=e,{breaks:o,continues:a}=r;return r.breaks=!0,r.continues=!0,e.hasBreak=!1,e.hasContinue=!1,!!t.hasEffects(e)||(r.breaks=o,r.continues=a,e.hasBreak=s,e.hasContinue=i,e.brokenFlow=n,!1)}function Ki(e,t,n){const{brokenFlow:s,hasBreak:i,hasContinue:r}=e;e.hasBreak=!1,e.hasContinue=!1,t.include(e,n,{asSingleStatement:!0}),e.hasBreak=i,e.hasContinue=r,e.brokenFlow=s}class Yi extends jn{hasEffects(){return!1}initialise(){this.scope.context.addExport(this)}render(e,t,n){e.remove(n.start,n.end)}applyDeoptimizations(){}}Yi.prototype.needsBoundaries=!0;class Xi extends Pi{initialise(){super.initialise(),null!==this.id&&(this.id.variable.isId=!0)}parseNode(e){null!==e.id&&(this.id=new si(e.id,this,this.scope.parent)),super.parseNode(e)}}class Ji extends jn{include(e,t){super.include(e,t),t&&this.scope.context.includeVariableInModule(this.variable)}initialise(){const e=this.declaration;this.declarationName=e.id&&e.id.name||this.declaration.name,this.variable=this.scope.addExportDefaultDeclaration(this.declarationName||this.scope.context.getModuleName(),this,this.scope.context),this.scope.context.addExport(this)}removeAnnotations(e){this.declaration.removeAnnotations(e)}render(e,t,n){const{start:s,end:i}=n,r=function(e,t){return ci(e,ai(e,"default",t)+7)}(e.original,this.start);if(this.declaration instanceof Xi)this.renderNamedDeclaration(e,r,null===this.declaration.id?function(e,t){const n=ai(e,"function",t)+8;e=e.slice(n,ai(e,"(",n));const s=ai(e,"*");return-1===s?n:n+s+1}(e.original,r):null,t);else if(this.declaration instanceof Gi)this.renderNamedDeclaration(e,r,null===this.declaration.id?ai(e.original,"class",s)+5:null,t);else{if(this.variable.getOriginalVariable()!==this.variable)return void ri(this,e,s,i);if(!this.variable.included)return e.remove(this.start,r),this.declaration.render(e,t,{renderedSurroundingElement:gs}),void(";"!==e.original[this.end-1]&&e.appendLeft(this.end,";"));this.renderVariableDeclaration(e,r,t)}this.declaration.render(e,t)}applyDeoptimizations(){}renderNamedDeclaration(e,t,n,s){const{exportNamesByVariable:i,format:r,snippets:{getPropertyAccess:o}}=s,a=this.variable.getName(o);e.remove(this.start,t),null!==n&&e.appendLeft(n,` ${a}`),"system"===r&&this.declaration instanceof Gi&&i.has(this.variable)&&e.appendLeft(this.end,` ${xi([this.variable],s)};`)}renderVariableDeclaration(e,t,{format:n,exportNamesByVariable:s,snippets:{cnst:i,getPropertyAccess:r}}){const o=59===e.original.charCodeAt(this.end-1),a="system"===n&&s.get(this.variable);a?(e.overwrite(this.start,t,`${i} ${this.variable.getName(r)} = exports('${a[0]}', `),e.appendRight(o?this.end-1:this.end,")"+(o?"":";"))):(e.overwrite(this.start,t,`${i} ${this.variable.getName(r)} = `),o||e.appendLeft(this.end,";"))}}Ji.prototype.needsBoundaries=!0;class Zi extends jn{bind(){this.declaration?.bind()}hasEffects(e){return!!this.declaration?.hasEffects(e)}initialise(){this.scope.context.addExport(this)}removeAnnotations(e){this.declaration?.removeAnnotations(e)}render(e,t,n){const{start:s,end:i}=n;null===this.declaration?e.remove(s,i):(e.remove(this.start,this.declaration.start),this.declaration.render(e,t,{end:i,start:s}))}applyDeoptimizations(){}}Zi.prototype.needsBoundaries=!0;class Qi extends Pi{createScope(e){super.createScope(this.idScope=new Cs(e,e.context))}parseNode(e){null!==e.id&&(this.id=new si(e.id,this,this.idScope)),super.parseNode(e)}render(e,t,{renderedSurroundingElement:n}=Ee){super.render(e,t),n===gs&&(e.appendRight(this.start,"("),e.prependLeft(this.end,")"))}}class er extends fi{constructor(){super(...arguments),this.hoistedDeclarations=[]}addDeclaration(e,t,n,s){return this.hoistedDeclarations.push(e),super.addDeclaration(e,t,n,s)}}const tr=Symbol("unset");class nr extends jn{constructor(){super(...arguments),this.testValue=tr}deoptimizeCache(){this.testValue=le}hasEffects(e){if(this.test.hasEffects(e))return!0;const t=this.getTestValue();if("symbol"==typeof t){const{brokenFlow:t}=e;if(this.consequent.hasEffects(e))return!0;const n=e.brokenFlow;return e.brokenFlow=t,null===this.alternate?!1:!!this.alternate.hasEffects(e)||(e.brokenFlow=e.brokenFlow&&n,!1)}return t?this.consequent.hasEffects(e):!!this.alternate?.hasEffects(e)}include(e,t){if(this.included=!0,t)this.includeRecursively(t,e);else{const t=this.getTestValue();"symbol"==typeof t?this.includeUnknownTest(e):this.includeKnownTest(e,t)}}parseNode(e){this.consequentScope=new er(this.scope),this.consequent=new(this.scope.context.getNodeConstructor(e.consequent.type))(e.consequent,this,this.consequentScope),e.alternate&&(this.alternateScope=new er(this.scope),this.alternate=new(this.scope.context.getNodeConstructor(e.alternate.type))(e.alternate,this,this.alternateScope)),super.parseNode(e)}render(e,t){const{snippets:{getPropertyAccess:n}}=t,s=this.getTestValue(),i=[],r=this.test.included,o=!this.scope.context.options.treeshake;r?this.test.render(e,t):e.remove(this.start,this.consequent.start),this.consequent.included&&(o||"symbol"==typeof s||s)?this.consequent.render(e,t):(e.overwrite(this.consequent.start,this.consequent.end,r?";":""),i.push(...this.consequentScope.hoistedDeclarations)),this.alternate&&(!this.alternate.included||!o&&"symbol"!=typeof s&&s?(r&&this.shouldKeepAlternateBranch()?e.overwrite(this.alternate.start,this.end,";"):e.remove(this.consequent.end,this.end),i.push(...this.alternateScope.hoistedDeclarations)):(r?101===e.original.charCodeAt(this.alternate.start-1)&&e.prependLeft(this.alternate.start," "):e.remove(this.consequent.end,this.alternate.start),this.alternate.render(e,t))),this.renderHoistedDeclarations(i,e,n)}applyDeoptimizations(){}getTestValue(){return this.testValue===tr?this.testValue=this.test.getLiteralValueAtPath(Z,ie,this):this.testValue}includeKnownTest(e,t){this.test.shouldBeIncluded(e)&&this.test.include(e,!1),t&&this.consequent.shouldBeIncluded(e)&&this.consequent.include(e,!1,{asSingleStatement:!0}),!t&&this.alternate?.shouldBeIncluded(e)&&this.alternate.include(e,!1,{asSingleStatement:!0})}includeRecursively(e,t){this.test.include(t,e),this.consequent.include(t,e),this.alternate?.include(t,e)}includeUnknownTest(e){this.test.include(e,!1);const{brokenFlow:t}=e;let n=!1;this.consequent.shouldBeIncluded(e)&&(this.consequent.include(e,!1,{asSingleStatement:!0}),n=e.brokenFlow,e.brokenFlow=t),this.alternate?.shouldBeIncluded(e)&&(this.alternate.include(e,!1,{asSingleStatement:!0}),e.brokenFlow=e.brokenFlow&&n)}renderHoistedDeclarations(e,t,n){const s=[...new Set(e.map((e=>{const t=e.variable;return t.included?t.getName(n):""})))].filter(Boolean).join(", ");if(s){const e=this.parent.type,n=e!==bs&&"BlockStatement"!==e;t.prependRight(this.start,`${n?"{ ":""}var ${s}; `),n&&t.appendLeft(this.end," }")}}shouldKeepAlternateBranch(){let e=this.parent;do{if(e instanceof nr&&e.alternate)return!0;if(e instanceof gi)return!1;e=e.parent}while(e);return!1}}class sr extends jn{bind(){}hasEffects(){return!1}initialise(){this.scope.context.addImport(this)}render(e,t,n){e.remove(n.start,n.end)}applyDeoptimizations(){}}sr.prototype.needsBoundaries=!0;class ir extends jn{applyDeoptimizations(){}}const rr="_interopDefault",or="_interopDefaultCompat",ar="_interopNamespace",lr="_interopNamespaceCompat",cr="_interopNamespaceDefault",dr="_interopNamespaceDefaultOnly",ur="_mergeNamespaces",hr="_documentCurrentScript",pr={auto:rr,compat:or,default:null,defaultOnly:null,esModule:null},fr=(e,t)=>"esModule"===e||t&&("auto"===e||"compat"===e),mr={auto:ar,compat:lr,default:cr,defaultOnly:dr,esModule:null},gr=(e,t)=>"esModule"!==e&&fr(e,t),yr=(e,t,n,s,i,r,o)=>{const a=new Set(e);for(const e of Mr)t.has(e)&&a.add(e);return Mr.map((e=>a.has(e)?br[e](n,s,i,r,o,a):"")).join("")},br={[hr]:(e,{_:t,n:n})=>`var${t}${hr}${t}=${t}typeof${t}document${t}!==${t}'undefined'${t}?${t}document.currentScript${t}:${t}null;${n}`,[or](e,t,n){const{_:s,getDirectReturnFunction:i,n:r}=t,[o,a]=i(["e"],{functionReturn:!0,lineBreakIndent:null,name:or});return`${o}${$r(t)}${s}?${s}${n?Er(t):xr(t)}${a}${r}${r}`},[rr](e,t,n){const{_:s,getDirectReturnFunction:i,n:r}=t,[o,a]=i(["e"],{functionReturn:!0,lineBreakIndent:null,name:rr});return`${o}e${s}&&${s}e.__esModule${s}?${s}${n?Er(t):xr(t)}${a}${r}${r}`},[lr](e,t,n,s,i,r){const{_:o,getDirectReturnFunction:a,n:l}=t;if(r.has(cr)){const[e,n]=a(["e"],{functionReturn:!0,lineBreakIndent:null,name:lr});return`${e}${$r(t)}${o}?${o}e${o}:${o}${cr}(e)${n}${l}${l}`}return`function ${lr}(e)${o}{${l}${e}if${o}(${$r(t)})${o}return e;${l}`+Ar(e,e,t,n,s,i)+`}${l}${l}`},[dr](e,t,n,s,i){const{getDirectReturnFunction:r,getObject:o,n:a}=t,[l,c]=r(["e"],{functionReturn:!0,lineBreakIndent:null,name:dr});return`${l}${Nr(s,Cr(i,o([["__proto__","null"],["default","e"]],{lineBreakIndent:null}),t))}${c}${a}${a}`},[cr](e,t,n,s,i){const{_:r,n:o}=t;return`function ${cr}(e)${r}{${o}`+Ar(e,e,t,n,s,i)+`}${o}${o}`},[ar](e,t,n,s,i,r){const{_:o,getDirectReturnFunction:a,n:l}=t;if(r.has(cr)){const[e,t]=a(["e"],{functionReturn:!0,lineBreakIndent:null,name:ar});return`${e}e${o}&&${o}e.__esModule${o}?${o}e${o}:${o}${cr}(e)${t}${l}${l}`}return`function ${ar}(e)${o}{${l}${e}if${o}(e${o}&&${o}e.__esModule)${o}return e;${l}`+Ar(e,e,t,n,s,i)+`}${l}${l}`},[ur](e,t,n,s,i){const{_:r,cnst:o,n:a}=t,l="var"===o&&n;return`function ${ur}(n, m)${r}{${a}${e}${wr(`{${a}${e}${e}${e}if${r}(k${r}!==${r}'default'${r}&&${r}!(k in n))${r}{${a}`+(n?l?Ir:Pr:kr)(e,e+e+e+e,t)+`${e}${e}${e}}${a}`+`${e}${e}}`,l,e,t)}${a}${e}return ${Nr(s,Cr(i,"n",t))};${a}}${a}${a}`}},Er=({_:e,getObject:t})=>`e${e}:${e}${t([["default","e"]],{lineBreakIndent:null})}`,xr=({_:e,getPropertyAccess:t})=>`e${t("default")}${e}:${e}e`,$r=({_:e})=>`e${e}&&${e}typeof e${e}===${e}'object'${e}&&${e}'default'${e}in e`,Ar=(e,t,n,s,i,r)=>{const{_:o,cnst:a,getObject:l,getPropertyAccess:c,n:d,s:u}=n,h=`{${d}`+(s?vr:kr)(e,t+e+e,n)+`${t}${e}}`;return`${t}${a} n${o}=${o}Object.create(null${r?`,${o}{${o}[Symbol.toStringTag]:${o}${Or(l)}${o}}`:""});${d}${t}if${o}(e)${o}{${d}${t}${e}${Sr(h,!s,n)}${d}${t}}${d}${t}n${c("default")}${o}=${o}e;${d}${t}return ${Nr(i,"n")}${u}${d}`},Sr=(e,t,{_:n,cnst:s,getFunctionIntro:i,s:r})=>"var"!==s||t?`for${n}(${s} k in e)${n}${e}`:`Object.keys(e).forEach(${i(["k"],{isAsync:!1,name:null})}${e})${r}`,wr=(e,t,n,{_:s,cnst:i,getDirectReturnFunction:r,getFunctionIntro:o,n:a})=>{if(t){const[t,i]=r(["e"],{functionReturn:!1,lineBreakIndent:{base:n,t:n},name:null});return`m.forEach(${t}e${s}&&${s}typeof e${s}!==${s}'string'${s}&&${s}!Array.isArray(e)${s}&&${s}Object.keys(e).forEach(${o(["k"],{isAsync:!1,name:null})}${e})${i});`}return`for${s}(var i${s}=${s}0;${s}i${s}<${s}m.length;${s}i++)${s}{${a}${n}${n}${i} e${s}=${s}m[i];${a}${n}${n}if${s}(typeof e${s}!==${s}'string'${s}&&${s}!Array.isArray(e))${s}{${s}for${s}(${i} k in e)${s}${e}${s}}${a}${n}}`},vr=(e,t,n)=>{const{_:s,n:i}=n;return`${t}if${s}(k${s}!==${s}'default')${s}{${i}`+Ir(e,t+e,n)+`${t}}${i}`},Ir=(e,t,{_:n,cnst:s,getDirectReturnFunction:i,n:r})=>{const[o,a]=i([],{functionReturn:!0,lineBreakIndent:null,name:null});return`${t}${s} d${n}=${n}Object.getOwnPropertyDescriptor(e,${n}k);${r}${t}Object.defineProperty(n,${n}k,${n}d.get${n}?${n}d${n}:${n}{${r}${t}${e}enumerable:${n}true,${r}${t}${e}get:${n}${o}e[k]${a}${r}${t}});${r}`},Pr=(e,t,{_:n,cnst:s,getDirectReturnFunction:i,n:r})=>{const[o,a]=i([],{functionReturn:!0,lineBreakIndent:null,name:null});return`${t}${s} d${n}=${n}Object.getOwnPropertyDescriptor(e,${n}k);${r}${t}if${n}(d)${n}{${r}${t}${e}Object.defineProperty(n,${n}k,${n}d.get${n}?${n}d${n}:${n}{${r}${t}${e}${e}enumerable:${n}true,${r}${t}${e}${e}get:${n}${o}e[k]${a}${r}${t}${e}});${r}${t}}${r}`},kr=(e,t,{_:n,n:s})=>`${t}n[k]${n}=${n}e[k];${s}`,Nr=(e,t)=>e?`Object.freeze(${t})`:t,Cr=(e,t,{_:n,getObject:s})=>e?`Object.defineProperty(${t},${n}Symbol.toStringTag,${n}${Or(s)})`:t,Mr=Object.keys(br);function Or(e){return e([["value","'Module'"]],{lineBreakIndent:null})}function Dr(e,t){return null!==e.renderBaseName&&t.has(e)&&e.isReassigned}class Rr extends jn{declareDeclarator(e){this.id.declare(e,this.init||pn)}deoptimizePath(e){this.id.deoptimizePath(e)}hasEffects(e){this.deoptimized||this.applyDeoptimizations();const t=this.init?.hasEffects(e);return this.id.markDeclarationReached(),t||this.id.hasEffects(e)}include(e,t){const{deoptimized:n,id:s,init:i}=this;n||this.applyDeoptimizations(),this.included=!0,i?.include(e,t),s.markDeclarationReached(),(t||s.shouldBeIncluded(e))&&s.include(e,t)}removeAnnotations(e){this.init?.removeAnnotations(e)}render(e,t){const{exportNamesByVariable:n,snippets:{_:s,getPropertyAccess:i}}=t,{end:r,id:o,init:a,start:l}=this,c=o.included;if(c)o.render(e,t);else{const t=ai(e.original,"=",o.end);e.remove(l,ci(e.original,t+1))}if(a){if(o instanceof si&&a instanceof Wi&&!a.id){o.variable.getName(i)!==o.name&&e.appendLeft(a.start+5,` ${o.name}`)}a.render(e,t,c?Ee:{renderedSurroundingElement:gs})}else o instanceof si&&Dr(o.variable,n)&&e.appendLeft(r,`${s}=${s}void 0`)}applyDeoptimizations(){this.deoptimized=!0;const{id:e,init:t}=this;if(t&&e instanceof si&&t instanceof Wi&&!t.id){const{name:n,variable:s}=e;for(const e of t.scope.accessedOutsideVariables.values())e!==s&&e.forbidName(n)}}}function Lr(e,t,n){return"external"===t?mr[n(e instanceof an?e.id:null)]:"default"===t?dr:null}const _r={amd:["require"],cjs:["require"],system:["module"]};function Br(e){const t=[];for(const n of e.properties){if("RestElement"===n.type||n.computed||"Identifier"!==n.key.type)return;t.push(n.key.name)}return t}class Tr extends jn{applyDeoptimizations(){}}const zr="ROLLUP_FILE_URL_",Vr="import";const Fr=["cjs","iife","umd"],jr={amd:["document","module","URL"],cjs:["document","require","URL",hr],es:[],iife:["document","URL",hr],system:["module"],umd:["document","require","URL",hr]},Ur={amd:["document","require","URL"],cjs:["document","require","URL"],es:[],iife:["document","URL"],system:["module","URL"],umd:["document","require","URL"]},Gr=(e,t="URL")=>`new ${t}(${e}).href`,Wr=(e,t=!1)=>Gr(`'${T(e)}', ${t?"typeof document === 'undefined' ? location.href : ":""}document.currentScript && document.currentScript.src || document.baseURI`),Hr=e=>(t,{chunkId:n})=>{const s=e(n);return null===t?`({ url: ${s} })`:"url"===t?s:"undefined"},qr=e=>`require('u' + 'rl').pathToFileURL(${e}).href`,Kr=e=>qr(`__dirname + '/${e}'`),Yr=(e,t=!1)=>`${t?"typeof document === 'undefined' ? location.href : ":""}(${hr} && ${hr}.src || new URL('${T(e)}', document.baseURI).href)`,Xr={amd:e=>("."!==e[0]&&(e="./"+e),Gr(`require.toUrl('${e}'), document.baseURI`)),cjs:e=>`(typeof document === 'undefined' ? ${Kr(e)} : ${Wr(e)})`,es:e=>Gr(`'${e}', import.meta.url`),iife:e=>Wr(e),system:e=>Gr(`'${e}', module.meta.url`),umd:e=>`(typeof document === 'undefined' && typeof location === 'undefined' ? ${Kr(e)} : ${Wr(e,!0)})`},Jr={amd:Hr((()=>Gr("module.uri, document.baseURI"))),cjs:Hr((e=>`(typeof document === 'undefined' ? ${qr("__filename")} : ${Yr(e)})`)),iife:Hr((e=>Yr(e))),system:(e,{snippets:{getPropertyAccess:t}})=>null===e?"module.meta":`module.meta${t(e)}`,umd:Hr((e=>`(typeof document === 'undefined' && typeof location === 'undefined' ? ${qr("__filename")} : ${Yr(e,!0)})`))};class Zr extends jn{constructor(){super(...arguments),this.objectEntity=null}deoptimizeArgumentsOnInteractionAtPath(e,t,n){this.getObjectEntity().deoptimizeArgumentsOnInteractionAtPath(e,t,n)}deoptimizeCache(){this.getObjectEntity().deoptimizeAllProperties()}deoptimizePath(e){this.getObjectEntity().deoptimizePath(e)}getLiteralValueAtPath(e,t,n){return this.getObjectEntity().getLiteralValueAtPath(e,t,n)}getReturnExpressionWhenCalledAtPath(e,t,n,s){return this.getObjectEntity().getReturnExpressionWhenCalledAtPath(e,t,n,s)}hasEffectsOnInteractionAtPath(e,t,n){return this.getObjectEntity().hasEffectsOnInteractionAtPath(e,t,n)}render(e,t,{renderedSurroundingElement:n}=Ee){super.render(e,t),n!==gs&&n!==ms||(e.appendRight(this.start,"("),e.prependLeft(this.end,")"))}applyDeoptimizations(){}getObjectEntity(){if(null!==this.objectEntity)return this.objectEntity;let e=Qn;const t=[];for(const n of this.properties){if(n instanceof Un){t.push({key:K,kind:"init",property:n});continue}let s;if(n.computed){const e=n.key.getLiteralValueAtPath(Z,ie,this);if("symbol"==typeof e){t.push({key:K,kind:n.kind,property:n});continue}s=String(e)}else if(s=n.key instanceof si?n.key.name:String(n.key.value),"__proto__"===s&&"init"===n.kind){e=n.value instanceof Mi&&null===n.value.value?null:n.value;continue}t.push({key:s,kind:n.kind,property:n})}return this.objectEntity=new Xn(t,e)}}class Qr extends jn{constructor(){super(...arguments),this.hasCachedEffect=null,this.hasLoggedEffect=!1}hasCachedEffects(){return!!this.included&&(null===this.hasCachedEffect?this.hasCachedEffect=this.hasEffects(un()):this.hasCachedEffect)}hasEffects(e){for(const t of this.body)if(t.hasEffects(e)){if(this.scope.context.options.experimentalLogSideEffects&&!this.hasLoggedEffect){this.hasLoggedEffect=!0;const{code:e,log:n,module:s}=this.scope.context;n(ke,Ft(e,s.id,Oe(e,t.start,{offsetLine:1})),t.start)}return this.hasCachedEffect=!0}return!1}include(e,t){this.included=!0;for(const n of this.body)(t||n.shouldBeIncluded(e))&&n.include(e,t)}render(e,t){let n=this.start;if(e.original.startsWith("#!")&&(n=Math.min(e.original.indexOf("\n")+1,this.end),e.remove(0,n)),this.body.length>0){for(;"/"===e.original[n]&&/[*/]/.test(e.original[n+1]);){const t=di(e.original.slice(n,this.body[0].start));if(-1===t[0])break;n+=t[1]}ui(this.body,e,n,this.end,t)}else super.render(e,t)}applyDeoptimizations(){}}class eo extends jn{hasEffects(e){if(this.test?.hasEffects(e))return!0;for(const t of this.consequent){if(e.brokenFlow)break;if(t.hasEffects(e))return!0}return!1}include(e,t){this.included=!0,this.test?.include(e,t);for(const n of this.consequent)(t||n.shouldBeIncluded(e))&&n.include(e,t)}render(e,t,n){if(this.consequent.length>0){this.test&&this.test.render(e,t);const s=this.test?this.test.end:ai(e.original,"default",this.start)+7,i=ai(e.original,":",s)+1;ui(this.consequent,e,i,n.end,t)}else super.render(e,t)}}eo.prototype.needsBoundaries=!0;class to extends jn{deoptimizeArgumentsOnInteractionAtPath(){}getLiteralValueAtPath(e){return e.length>0||1!==this.quasis.length?le:this.quasis[0].value.cooked}getReturnExpressionWhenCalledAtPath(e){return 1!==e.length?he:kn(In,e[0])}hasEffectsOnInteractionAtPath(e,t,n){return 0===t.type?e.length>1:2!==t.type||1!==e.length||Pn(In,e[0],t,n)}render(e,t){e.indentExclusionRanges.push([this.start,this.end]),super.render(e,t)}}class no extends ye{constructor(){super("undefined")}getLiteralValueAtPath(){}}class so extends Es{constructor(e,t,n){super(e,t,t.declaration,n,"other"),this.hasId=!1,this.originalId=null,this.originalVariable=null;const s=t.declaration;(s instanceof Xi||s instanceof Gi)&&s.id?(this.hasId=!0,this.originalId=s.id):s instanceof si&&(this.originalId=s)}addReference(e){this.hasId||(this.name=e.name)}forbidName(e){const t=this.getOriginalVariable();t===this?super.forbidName(e):t.forbidName(e)}getAssignedVariableName(){return this.originalId&&this.originalId.name||null}getBaseVariableName(){const e=this.getOriginalVariable();return e===this?super.getBaseVariableName():e.getBaseVariableName()}getDirectOriginalVariable(){return!this.originalId||!this.hasId&&(this.originalId.isPossibleTDZ()||this.originalId.variable.isReassigned||this.originalId.variable instanceof no||"syntheticNamespace"in this.originalId.variable)?null:this.originalId.variable}getName(e){const t=this.getOriginalVariable();return t===this?super.getName(e):t.getName(e)}getOriginalVariable(){if(this.originalVariable)return this.originalVariable;let e,t=this;const n=new Set;do{n.add(t),e=t,t=e.getDirectOriginalVariable()}while(t instanceof so&&!n.has(t));return this.originalVariable=t||e}}class io extends Cs{constructor(e,t){super(e,t),this.variables.set("this",new Es("this",null,pn,t,"other"))}addDeclaration(e,t,n,s){return this.context.module.importDescriptions.has(e.name)&&t.error(Zt(e.name),e.start),super.addDeclaration(e,t,n,s)}addExportDefaultDeclaration(e,t,n){const s=new so(e,t,n);return this.variables.set("default",s),s}addNamespaceMemberAccess(){}deconflict(e,t,n){for(const s of this.children)s.deconflict(e,t,n)}findLexicalBoundary(){return this}findVariable(e){const t=this.variables.get(e)||this.accessedOutsideVariables.get(e);if(t)return t;const n=this.context.traceVariable(e)||this.parent.findVariable(e);return n instanceof ti&&this.accessedOutsideVariables.set(e,n),n}}const ro={"!":e=>!e,"+":e=>+e,"-":e=>-e,delete:()=>le,typeof:e=>typeof e,void:()=>{},"~":e=>~e};class oo extends jn{deoptimizePath(){for(const e of this.declarations)e.deoptimizePath(Z)}hasEffectsOnInteractionAtPath(){return!1}include(e,t,{asSingleStatement:n}=Ee){this.included=!0;for(const s of this.declarations){(t||s.shouldBeIncluded(e))&&s.include(e,t);const{id:i,init:r}=s;n&&i.include(e,t),r&&i.included&&!r.included&&(i instanceof Si||i instanceof fs)&&r.include(e,t)}}initialise(){for(const e of this.declarations)e.declareDeclarator(this.kind)}removeAnnotations(e){this.declarations[0].removeAnnotations(e)}render(e,t,n=Ee){if(function(e,t){for(const n of e){if(!n.id.included)return!1;if(n.id.type===ys){if(t.has(n.id.variable))return!1}else{const e=[];if(n.id.addExportedVariables(e,t),e.length>0)return!1}}return!0}(this.declarations,t.exportNamesByVariable)){for(const n of this.declarations)n.render(e,t);n.isNoStatement||59===e.original.charCodeAt(this.end-1)||e.appendLeft(this.end,";")}else this.renderReplacedDeclarations(e,t)}applyDeoptimizations(){}renderDeclarationEnd(e,t,n,s,i,r,o){59===e.original.charCodeAt(this.end-1)&&e.remove(this.end-1,this.end),t+=";",null===n?e.appendLeft(i,t):(10!==e.original.charCodeAt(s-1)||10!==e.original.charCodeAt(this.end)&&13!==e.original.charCodeAt(this.end)||(s--,13===e.original.charCodeAt(s)&&s--),s===n+1?e.overwrite(n,i,t):(e.overwrite(n,n+1,t),e.remove(s,i))),r.length>0&&e.appendLeft(i,` ${xi(r,o)};`)}renderReplacedDeclarations(e,t){const n=hi(this.declarations,e,this.start+this.kind.length,this.end-(59===e.original.charCodeAt(this.end-1)?1:0));let s,i;i=ci(e.original,this.start+this.kind.length);let r=i-1;e.remove(this.start,r);let o,a,l=!1,c=!1,d="";const u=[],h=function(e,t,n){let s=null;if("system"===t.format){for(const{node:i}of e)i.id instanceof si&&i.init&&0===n.length&&1===t.exportNamesByVariable.get(i.id.variable)?.length?(s=i.id.variable,n.push(s)):i.id.addExportedVariables(n,t.exportNamesByVariable);n.length>1?s=null:s&&(n.length=0)}return s}(n,t,u);for(const{node:u,start:p,separator:f,contentEnd:m,end:g}of n)if(u.included){if(u.render(e,t),o="",a="",!u.id.included||u.id instanceof si&&Dr(u.id.variable,t.exportNamesByVariable))c&&(d+=";"),l=!1;else{if(h&&h===u.id.variable){const n=ai(e.original,"=",u.id.end);$i(h,ci(e.original,n+1),null===f?m:f,e,t)}l?d+=",":(c&&(d+=";"),o+=`${this.kind} `,l=!0)}i===r+1?e.overwrite(r,i,d+o):(e.overwrite(r,r+1,d),e.appendLeft(i,o)),s=m,i=g,c=!0,r=f,d=""}else e.remove(p,g),u.removeAnnotations(e);this.renderDeclarationEnd(e,d,r,s,i,u,t)}}const ao={ArrayExpression:ps,ArrayPattern:fs,ArrowFunctionExpression:Ei,AssignmentExpression:class extends jn{hasEffects(e){const{deoptimized:t,left:n,operator:s,right:i}=this;return t||this.applyDeoptimizations(),i.hasEffects(e)||n.hasEffectsAsAssignmentTarget(e,"="!==s)}hasEffectsOnInteractionAtPath(e,t,n){return this.right.hasEffectsOnInteractionAtPath(e,t,n)}include(e,t){const{deoptimized:n,left:s,right:i,operator:r}=this;n||this.applyDeoptimizations(),this.included=!0,(t||"="!==r||s.included||s.hasEffectsAsAssignmentTarget(un(),!1))&&s.includeAsAssignmentTarget(e,t,"="!==r),i.include(e,t)}initialise(){this.left.setAssignedValue(this.right)}render(e,t,{preventASI:n,renderedParentType:s,renderedSurroundingElement:i}=Ee){const{left:r,right:o,start:a,end:l,parent:c}=this;if(r.included)r.render(e,t),o.render(e,t);else{const l=ci(e.original,ai(e.original,"=",r.end)+1);e.remove(a,l),n&&pi(e,l,o.start),o.render(e,t,{renderedParentType:s||c.type,renderedSurroundingElement:i||c.type})}if("system"===t.format)if(r instanceof si){const n=r.variable,s=t.exportNamesByVariable.get(n);if(s)return void(1===s.length?$i(n,a,l,e,t):Ai(n,a,l,c.type!==gs,e,t))}else{const n=[];if(r.addExportedVariables(n,t.exportNamesByVariable),n.length>0)return void function(e,t,n,s,i,r){const{_:o,getDirectReturnIifeLeft:a}=r.snippets;i.prependRight(t,a(["v"],`${xi(e,r)},${o}v`,{needsArrowReturnParens:!0,needsWrappedFunction:s})),i.appendLeft(n,")")}(n,a,l,i===gs,e,t)}r.included&&r instanceof Si&&(i===gs||i===ms)&&(e.appendRight(a,"("),e.prependLeft(l,")"))}applyDeoptimizations(){this.deoptimized=!0,this.left.deoptimizePath(Z),this.right.deoptimizePath(Q),this.scope.context.requestTreeshakingPass()}},AssignmentPattern:class extends jn{addExportedVariables(e,t){this.left.addExportedVariables(e,t)}declare(e,t){return this.left.declare(e,t)}deoptimizePath(e){0===e.length&&this.left.deoptimizePath(e)}hasEffectsOnInteractionAtPath(e,t,n){return e.length>0||this.left.hasEffectsOnInteractionAtPath(Z,t,n)}markDeclarationReached(){this.left.markDeclarationReached()}render(e,t,{isShorthandProperty:n}=Ee){this.left.render(e,t,{isShorthandProperty:n}),this.right.render(e,t)}applyDeoptimizations(){this.deoptimized=!0,this.left.deoptimizePath(Z),this.right.deoptimizePath(Q),this.scope.context.requestTreeshakingPass()}},AwaitExpression:ki,BinaryExpression:class extends jn{deoptimizeCache(){}getLiteralValueAtPath(e,t,n){if(e.length>0)return le;const s=this.left.getLiteralValueAtPath(Z,t,n);if("symbol"==typeof s)return le;const i=this.right.getLiteralValueAtPath(Z,t,n);if("symbol"==typeof i)return le;const r=Ni[this.operator];return r?r(s,i):le}hasEffects(e){return"+"===this.operator&&this.parent instanceof mi&&""===this.left.getLiteralValueAtPath(Z,ie,this)||super.hasEffects(e)}hasEffectsOnInteractionAtPath(e,{type:t}){return 0!==t||e.length>1}removeAnnotations(e){this.left.removeAnnotations(e)}render(e,t,{renderedSurroundingElement:n}=Ee){this.left.render(e,t,{renderedSurroundingElement:n}),this.right.render(e,t)}},BlockStatement:gi,BreakStatement:class extends jn{hasEffects(e){if(this.label){if(!e.ignore.labels.has(this.label.name))return!0;e.includedLabels.add(this.label.name)}else{if(!e.ignore.breaks)return!0;e.hasBreak=!0}return e.brokenFlow=!0,!1}include(e){this.included=!0,this.label?(this.label.include(),e.includedLabels.add(this.label.name)):e.hasBreak=!0,e.brokenFlow=!0}},CallExpression:Bi,CatchClause:Ti,ChainExpression:class extends jn{deoptimizeCache(){}getLiteralValueAtPath(e,t,n){if(!this.expression.isSkippedAsOptional(n))return this.expression.getLiteralValueAtPath(e,t,n)}hasEffects(e){return!this.expression.isSkippedAsOptional(this)&&this.expression.hasEffects(e)}removeAnnotations(e){this.expression.removeAnnotations(e)}},ClassBody:class extends jn{createScope(e){this.scope=new zi(e,this.parent)}include(e,t){this.included=!0,this.scope.context.includeVariableInModule(this.scope.thisVariable);for(const n of this.body)n.include(e,t)}parseNode(e){const t=this.body=[];for(const n of e.body)t.push(new(this.scope.context.getNodeConstructor(n.type))(n,this,n.static?this.scope:this.scope.instanceScope));super.parseNode(e)}applyDeoptimizations(){}},ClassDeclaration:Gi,ClassExpression:Wi,ConditionalExpression:class extends jn{constructor(){super(...arguments),this.expressionsToBeDeoptimized=[],this.usedBranch=null}get isBranchResolutionAnalysed(){return oe(this.flags,65536)}set isBranchResolutionAnalysed(e){this.flags=ae(this.flags,65536,e)}deoptimizeArgumentsOnInteractionAtPath(e,t,n){this.consequent.deoptimizeArgumentsOnInteractionAtPath(e,t,n),this.alternate.deoptimizeArgumentsOnInteractionAtPath(e,t,n)}deoptimizeCache(){if(null!==this.usedBranch){const e=this.usedBranch===this.consequent?this.alternate:this.consequent;this.usedBranch=null,e.deoptimizePath(Q);const{expressionsToBeDeoptimized:t}=this;this.expressionsToBeDeoptimized=$e;for(const e of t)e.deoptimizeCache()}}deoptimizePath(e){const t=this.getUsedBranch();t?t.deoptimizePath(e):(this.consequent.deoptimizePath(e),this.alternate.deoptimizePath(e))}getLiteralValueAtPath(e,t,n){const s=this.getUsedBranch();return s?(this.expressionsToBeDeoptimized.push(n),s.getLiteralValueAtPath(e,t,n)):le}getReturnExpressionWhenCalledAtPath(e,t,n,s){const i=this.getUsedBranch();return i?(this.expressionsToBeDeoptimized.push(s),i.getReturnExpressionWhenCalledAtPath(e,t,n,s)):[new Hi([this.consequent.getReturnExpressionWhenCalledAtPath(e,t,n,s)[0],this.alternate.getReturnExpressionWhenCalledAtPath(e,t,n,s)[0]]),!1]}hasEffects(e){if(this.test.hasEffects(e))return!0;const t=this.getUsedBranch();return t?t.hasEffects(e):this.consequent.hasEffects(e)||this.alternate.hasEffects(e)}hasEffectsOnInteractionAtPath(e,t,n){const s=this.getUsedBranch();return s?s.hasEffectsOnInteractionAtPath(e,t,n):this.consequent.hasEffectsOnInteractionAtPath(e,t,n)||this.alternate.hasEffectsOnInteractionAtPath(e,t,n)}include(e,t){this.included=!0;const n=this.getUsedBranch();t||this.test.shouldBeIncluded(e)||null===n?(this.test.include(e,t),this.consequent.include(e,t),this.alternate.include(e,t)):n.include(e,t)}includeCallArguments(e,t){const n=this.getUsedBranch();n?n.includeCallArguments(e,t):(this.consequent.includeCallArguments(e,t),this.alternate.includeCallArguments(e,t))}removeAnnotations(e){this.test.removeAnnotations(e)}render(e,t,{isCalleeOfRenderedParent:n,preventASI:s,renderedParentType:i,renderedSurroundingElement:r}=Ee){const o=this.getUsedBranch();if(this.test.included)this.test.render(e,t,{renderedSurroundingElement:r}),this.consequent.render(e,t),this.alternate.render(e,t);else{const a=ai(e.original,":",this.consequent.end),l=ci(e.original,(this.consequent.included?ai(e.original,"?",this.test.end):a)+1);s&&pi(e,l,o.start),e.remove(this.start,l),this.consequent.included&&e.remove(a,this.end),this.test.removeAnnotations(e),o.render(e,t,{isCalleeOfRenderedParent:n,preventASI:!0,renderedParentType:i||this.parent.type,renderedSurroundingElement:r||this.parent.type})}}getUsedBranch(){if(this.isBranchResolutionAnalysed)return this.usedBranch;this.isBranchResolutionAnalysed=!0;const e=this.test.getLiteralValueAtPath(Z,ie,this);return"symbol"==typeof e?null:this.usedBranch=e?this.consequent:this.alternate}},ContinueStatement:class extends jn{hasEffects(e){if(this.label){if(!e.ignore.labels.has(this.label.name))return!0;e.includedLabels.add(this.label.name)}else{if(!e.ignore.continues)return!0;e.hasContinue=!0}return e.brokenFlow=!0,!1}include(e){this.included=!0,this.label?(this.label.include(),e.includedLabels.add(this.label.name)):e.hasContinue=!0,e.brokenFlow=!0}},DoWhileStatement:class extends jn{hasEffects(e){return!!this.test.hasEffects(e)||qi(e,this.body)}include(e,t){this.included=!0,this.test.include(e,t),Ki(e,this.body,t)}},EmptyStatement:class extends jn{hasEffects(){return!1}},ExportAllDeclaration:Yi,ExportDefaultDeclaration:Ji,ExportNamedDeclaration:Zi,ExportSpecifier:class extends jn{applyDeoptimizations(){}},ExpressionStatement:mi,ForInStatement:class extends jn{createScope(e){this.scope=new fi(e)}hasEffects(e){const{body:t,deoptimized:n,left:s,right:i}=this;return n||this.applyDeoptimizations(),!(!s.hasEffectsAsAssignmentTarget(e,!1)&&!i.hasEffects(e))||qi(e,t)}include(e,t){const{body:n,deoptimized:s,left:i,right:r}=this;s||this.applyDeoptimizations(),this.included=!0,i.includeAsAssignmentTarget(e,t||!0,!1),r.include(e,t),Ki(e,n,t)}initialise(){this.left.setAssignedValue(ue)}render(e,t){this.left.render(e,t,oi),this.right.render(e,t,oi),110===e.original.charCodeAt(this.right.start-1)&&e.prependLeft(this.right.start," "),this.body.render(e,t)}applyDeoptimizations(){this.deoptimized=!0,this.left.deoptimizePath(Z),this.scope.context.requestTreeshakingPass()}},ForOfStatement:class extends jn{get await(){return oe(this.flags,131072)}set await(e){this.flags=ae(this.flags,131072,e)}createScope(e){this.scope=new fi(e)}hasEffects(){return this.deoptimized||this.applyDeoptimizations(),!0}include(e,t){const{body:n,deoptimized:s,left:i,right:r}=this;s||this.applyDeoptimizations(),this.included=!0,i.includeAsAssignmentTarget(e,t||!0,!1),r.include(e,t),Ki(e,n,t)}initialise(){this.left.setAssignedValue(ue)}render(e,t){this.left.render(e,t,oi),this.right.render(e,t,oi),102===e.original.charCodeAt(this.right.start-1)&&e.prependLeft(this.right.start," "),this.body.render(e,t)}applyDeoptimizations(){this.deoptimized=!0,this.left.deoptimizePath(Z),this.right.deoptimizePath(Q),this.scope.context.requestTreeshakingPass()}},ForStatement:class extends jn{createScope(e){this.scope=new fi(e)}hasEffects(e){return!!(this.init?.hasEffects(e)||this.test?.hasEffects(e)||this.update?.hasEffects(e))||qi(e,this.body)}include(e,t){this.included=!0,this.init?.include(e,t,{asSingleStatement:!0}),this.test?.include(e,t),this.update?.include(e,t),Ki(e,this.body,t)}render(e,t){this.init?.render(e,t,oi),this.test?.render(e,t,oi),this.update?.render(e,t,oi),this.body.render(e,t)}},FunctionDeclaration:Xi,FunctionExpression:Qi,Identifier:si,IfStatement:nr,ImportAttribute:class extends jn{},ImportDeclaration:sr,ImportDefaultSpecifier:ir,ImportExpression:class extends jn{constructor(){super(...arguments),this.inlineNamespace=null,this.attributes=null,this.mechanism=null,this.namespaceExportName=void 0,this.resolution=null,this.resolutionString=null}bind(){this.source.bind()}getDeterministicImportedNames(){const e=this.parent;if(e instanceof mi)return $e;if(e instanceof ki){const t=e.parent;if(t instanceof mi)return $e;if(t instanceof Rr){const e=t.id;return e instanceof Si?Br(e):void 0}if(t instanceof Ri){const e=t.property;if(!t.computed&&e instanceof si)return[e.name]}}else if(e instanceof Ri){const t=e.parent,n=e.property;if(!(t instanceof Bi&&n instanceof si))return;const s=n.name;if(t.parent instanceof mi&&["catch","finally"].includes(s))return $e;if("then"!==s)return;if(0===t.arguments.length)return $e;const i=t.arguments[0];if(1!==t.arguments.length||!(i instanceof Ei||i instanceof Qi))return;if(0===i.params.length)return $e;const r=i.params[0];return 1===i.params.length&&r instanceof Si?Br(r):void 0}}hasEffects(){return!0}include(e,t){this.included||(this.included=!0,this.scope.context.includeDynamicImport(this),this.scope.addAccessedDynamicImport(this)),this.source.include(e,t)}initialise(){this.scope.context.addDynamicImport(this)}parseNode(e){super.parseNode(e,["source"])}render(e,t){const{snippets:{_:n,getDirectReturnFunction:s,getObject:i,getPropertyAccess:r}}=t;if(this.inlineNamespace){const[t,n]=s([],{functionReturn:!0,lineBreakIndent:null,name:null});e.overwrite(this.start,this.end,`Promise.resolve().then(${t}${this.inlineNamespace.getName(r)}${n})`)}else{if(this.mechanism&&(e.overwrite(this.start,ai(e.original,"(",this.start+6)+1,this.mechanism.left),e.overwrite(this.end-1,this.end,this.mechanism.right)),this.resolutionString){if(e.overwrite(this.source.start,this.source.end,this.resolutionString),this.namespaceExportName){const[t,n]=s(["n"],{functionReturn:!0,lineBreakIndent:null,name:null});e.prependLeft(this.end,`.then(${t}n.${this.namespaceExportName}${n})`)}}else this.source.render(e,t);!0!==this.attributes&&(this.options&&e.overwrite(this.source.end,this.end-1,"",{contentOnly:!0}),this.attributes&&e.appendLeft(this.end-1,`,${n}${i([["assert",this.attributes]],{lineBreakIndent:null})}`))}}setExternalResolution(e,t,n,s,i,r,o,a,l){const{format:c}=n;this.inlineNamespace=null,this.resolution=t,this.resolutionString=o,this.namespaceExportName=a,this.attributes=l;const d=[..._r[c]||[]];let u;({helper:u,mechanism:this.mechanism}=this.getDynamicImportMechanismAndHelper(t,e,n,s,i)),u&&d.push(u),d.length>0&&this.scope.addAccessedGlobals(d,r)}setInternalResolution(e){this.inlineNamespace=e}applyDeoptimizations(){}getDynamicImportMechanismAndHelper(e,t,{compact:n,dynamicImportInCjs:s,format:i,generatedCode:{arrowFunctions:r},interop:o},{_:a,getDirectReturnFunction:l,getDirectReturnIifeLeft:c},d){const u=d.hookFirstSync("renderDynamicImport",[{customResolution:"string"==typeof this.resolution?this.resolution:null,format:i,moduleId:this.scope.context.module.id,targetModuleId:this.resolution&&"string"!=typeof this.resolution?this.resolution.id:null}]);if(u)return{helper:null,mechanism:u};const h=!this.resolution||"string"==typeof this.resolution;switch(i){case"cjs":{if(s&&(!e||"string"==typeof e||e instanceof an))return{helper:null,mechanism:null};const n=Lr(e,t,o);let i="require(",a=")";n&&(i=`/*#__PURE__*/${n}(${i}`,a+=")");const[d,u]=l([],{functionReturn:!0,lineBreakIndent:null,name:null});return i=`Promise.resolve().then(${d}${i}`,a+=`${u})`,!r&&h&&(i=c(["t"],`${i}t${a}`,{needsArrowReturnParens:!1,needsWrappedFunction:!0}),a=")"),{helper:n,mechanism:{left:i,right:a}}}case"amd":{const s=n?"c":"resolve",i=n?"e":"reject",d=Lr(e,t,o),[u,p]=l(["m"],{functionReturn:!1,lineBreakIndent:null,name:null}),f=d?`${u}${s}(/*#__PURE__*/${d}(m))${p}`:s,[m,g]=l([s,i],{functionReturn:!1,lineBreakIndent:null,name:null});let y=`new Promise(${m}require([`,b=`],${a}${f},${a}${i})${g})`;return!r&&h&&(y=c(["t"],`${y}t${b}`,{needsArrowReturnParens:!1,needsWrappedFunction:!0}),b=")"),{helper:d,mechanism:{left:y,right:b}}}case"system":return{helper:null,mechanism:{left:"module.import(",right:")"}}}return{helper:null,mechanism:null}}},ImportNamespaceSpecifier:Tr,ImportSpecifier:class extends jn{applyDeoptimizations(){}},LabeledStatement:class extends jn{hasEffects(e){const t=e.brokenFlow;return e.ignore.labels.add(this.label.name),!!this.body.hasEffects(e)||(e.ignore.labels.delete(this.label.name),e.includedLabels.has(this.label.name)&&(e.includedLabels.delete(this.label.name),e.brokenFlow=t),!1)}include(e,t){this.included=!0;const n=e.brokenFlow;this.body.include(e,t),(t||e.includedLabels.has(this.label.name))&&(this.label.include(),e.includedLabels.delete(this.label.name),e.brokenFlow=n)}render(e,t){this.label.included?this.label.render(e,t):e.remove(this.start,ci(e.original,ai(e.original,":",this.label.end)+1)),this.body.render(e,t)}},Literal:Mi,LogicalExpression:class extends jn{constructor(){super(...arguments),this.expressionsToBeDeoptimized=[],this.usedBranch=null}get isBranchResolutionAnalysed(){return oe(this.flags,65536)}set isBranchResolutionAnalysed(e){this.flags=ae(this.flags,65536,e)}deoptimizeArgumentsOnInteractionAtPath(e,t,n){this.left.deoptimizeArgumentsOnInteractionAtPath(e,t,n),this.right.deoptimizeArgumentsOnInteractionAtPath(e,t,n)}deoptimizeCache(){if(this.usedBranch){const e=this.usedBranch===this.left?this.right:this.left;this.usedBranch=null,e.deoptimizePath(Q);const{scope:{context:t},expressionsToBeDeoptimized:n}=this;this.expressionsToBeDeoptimized=$e;for(const e of n)e.deoptimizeCache();t.requestTreeshakingPass()}}deoptimizePath(e){const t=this.getUsedBranch();t?t.deoptimizePath(e):(this.left.deoptimizePath(e),this.right.deoptimizePath(e))}getLiteralValueAtPath(e,t,n){const s=this.getUsedBranch();return s?(this.expressionsToBeDeoptimized.push(n),s.getLiteralValueAtPath(e,t,n)):le}getReturnExpressionWhenCalledAtPath(e,t,n,s){const i=this.getUsedBranch();return i?(this.expressionsToBeDeoptimized.push(s),i.getReturnExpressionWhenCalledAtPath(e,t,n,s)):[new Hi([this.left.getReturnExpressionWhenCalledAtPath(e,t,n,s)[0],this.right.getReturnExpressionWhenCalledAtPath(e,t,n,s)[0]]),!1]}hasEffects(e){return!!this.left.hasEffects(e)||this.getUsedBranch()!==this.left&&this.right.hasEffects(e)}hasEffectsOnInteractionAtPath(e,t,n){const s=this.getUsedBranch();return s?s.hasEffectsOnInteractionAtPath(e,t,n):this.left.hasEffectsOnInteractionAtPath(e,t,n)||this.right.hasEffectsOnInteractionAtPath(e,t,n)}include(e,t){this.included=!0;const n=this.getUsedBranch();t||n===this.right&&this.left.shouldBeIncluded(e)||!n?(this.left.include(e,t),this.right.include(e,t)):n.include(e,t)}removeAnnotations(e){this.left.removeAnnotations(e)}render(e,t,{isCalleeOfRenderedParent:n,preventASI:s,renderedParentType:i,renderedSurroundingElement:r}=Ee){if(this.left.included&&this.right.included)this.left.render(e,t,{preventASI:s,renderedSurroundingElement:r}),this.right.render(e,t);else{const o=ai(e.original,this.operator,this.left.end);if(this.right.included){const t=ci(e.original,o+2);e.remove(this.start,t),s&&pi(e,t,this.right.start),this.left.removeAnnotations(e)}else e.remove(o,this.end);this.getUsedBranch().render(e,t,{isCalleeOfRenderedParent:n,preventASI:s,renderedParentType:i||this.parent.type,renderedSurroundingElement:r||this.parent.type})}}getUsedBranch(){if(!this.isBranchResolutionAnalysed){this.isBranchResolutionAnalysed=!0;const e=this.left.getLiteralValueAtPath(Z,ie,this);if("symbol"==typeof e)return null;this.usedBranch="||"===this.operator&&e||"&&"===this.operator&&!e||"??"===this.operator&&null!=e?this.left:this.right}return this.usedBranch}},MemberExpression:Ri,MetaProperty:class extends jn{constructor(){super(...arguments),this.metaProperty=null,this.preliminaryChunkId=null,this.referenceId=null}getReferencedFileName(e){const{meta:{name:t},metaProperty:n}=this;return t===Vr&&n?.startsWith(zr)?e.getFileName(n.slice(16)):null}hasEffects(){return!1}hasEffectsOnInteractionAtPath(e,{type:t}){return e.length>1||0!==t}include(){if(!this.included&&(this.included=!0,this.meta.name===Vr)){this.scope.context.addImportMeta(this);const e=this.parent,t=this.metaProperty=e instanceof Ri&&"string"==typeof e.propertyKey?e.propertyKey:null;t?.startsWith(zr)&&(this.referenceId=t.slice(16))}}render(e,t){const{format:n,pluginDriver:s,snippets:i}=t,{scope:{context:{module:r}},meta:{name:o},metaProperty:a,parent:l,preliminaryChunkId:c,referenceId:d,start:u,end:h}=this,{id:p}=r;if(o!==Vr)return;const f=c;if(d){const t=s.getFileName(d),i=N(D(M(f),t)),r=s.hookFirstSync("resolveFileUrl",[{chunkId:f,fileName:t,format:n,moduleId:p,referenceId:d,relativePath:i}])||Xr[n](i);return void e.overwrite(l.start,l.end,r,{contentOnly:!0})}let m=s.hookFirstSync("resolveImportMeta",[a,{chunkId:f,format:n,moduleId:p}]);m||(m=Jr[n]?.(a,{chunkId:f,snippets:i}),t.accessedDocumentCurrentScript||=Fr.includes(n)&&"undefined"!==m),"string"==typeof m&&(l instanceof Ri?e.overwrite(l.start,l.end,m,{contentOnly:!0}):e.overwrite(u,h,m,{contentOnly:!0}))}setResolution(e,t,n){this.preliminaryChunkId=n;const s=(this.metaProperty?.startsWith(zr)?Ur:jr)[e];s.length>0&&this.scope.addAccessedGlobals(s,t)}},MethodDefinition:Fi,NewExpression:class extends jn{hasEffects(e){try{for(const t of this.arguments)if(t.hasEffects(e))return!0;return!this.annotationPure&&(this.callee.hasEffects(e)||this.callee.hasEffectsOnInteractionAtPath(Z,this.interaction,e))}finally{this.deoptimized||this.applyDeoptimizations()}}hasEffectsOnInteractionAtPath(e,{type:t}){return e.length>0||0!==t}include(e,t){this.deoptimized||this.applyDeoptimizations(),t?super.include(e,t):(this.included=!0,this.callee.include(e,!1)),this.callee.includeCallArguments(e,this.arguments)}initialise(){this.interaction={args:[null,...this.arguments],type:2,withNew:!0}}render(e,t){this.callee.render(e,t),Ci(e,t,this)}applyDeoptimizations(){this.deoptimized=!0,this.callee.deoptimizeArgumentsOnInteractionAtPath(this.interaction,Z,ie),this.scope.context.requestTreeshakingPass()}},ObjectExpression:Zr,ObjectPattern:Si,PrivateIdentifier:class extends jn{},Program:Qr,Property:class extends Vi{constructor(){super(...arguments),this.declarationInit=null}get method(){return oe(this.flags,262144)}set method(e){this.flags=ae(this.flags,262144,e)}get shorthand(){return oe(this.flags,524288)}set shorthand(e){this.flags=ae(this.flags,524288,e)}declare(e,t){return this.declarationInit=t,this.value.declare(e,ue)}hasEffects(e){this.deoptimized||this.applyDeoptimizations();const t=this.scope.context.options.treeshake.propertyReadSideEffects;return"ObjectPattern"===this.parent.type&&"always"===t||this.key.hasEffects(e)||this.value.hasEffects(e)}markDeclarationReached(){this.value.markDeclarationReached()}render(e,t){this.shorthand||this.key.render(e,t),this.value.render(e,t,{isShorthandProperty:this.shorthand})}applyDeoptimizations(){this.deoptimized=!0,null!==this.declarationInit&&(this.declarationInit.deoptimizePath([K,K]),this.scope.context.requestTreeshakingPass())}},PropertyDefinition:class extends jn{get computed(){return oe(this.flags,1024)}set computed(e){this.flags=ae(this.flags,1024,e)}deoptimizeArgumentsOnInteractionAtPath(e,t,n){this.value?.deoptimizeArgumentsOnInteractionAtPath(e,t,n)}deoptimizePath(e){this.value?.deoptimizePath(e)}getLiteralValueAtPath(e,t,n){return this.value?this.value.getLiteralValueAtPath(e,t,n):le}getReturnExpressionWhenCalledAtPath(e,t,n,s){return this.value?this.value.getReturnExpressionWhenCalledAtPath(e,t,n,s):he}hasEffects(e){return this.key.hasEffects(e)||this.static&&!!this.value?.hasEffects(e)}hasEffectsOnInteractionAtPath(e,t,n){return!this.value||this.value.hasEffectsOnInteractionAtPath(e,t,n)}applyDeoptimizations(){}},RestElement:yi,ReturnStatement:class extends jn{hasEffects(e){return!(e.ignore.returnYield&&!this.argument?.hasEffects(e))||(e.brokenFlow=!0,!1)}include(e,t){this.included=!0,this.argument?.include(e,t),e.brokenFlow=!0}initialise(){this.scope.addReturnExpression(this.argument||ue)}render(e,t){this.argument&&(this.argument.render(e,t,{preventASI:!0}),this.argument.start===this.start+6&&e.prependLeft(this.start+6," "))}},SequenceExpression:class extends jn{deoptimizeArgumentsOnInteractionAtPath(e,t,n){this.expressions[this.expressions.length-1].deoptimizeArgumentsOnInteractionAtPath(e,t,n)}deoptimizePath(e){this.expressions[this.expressions.length-1].deoptimizePath(e)}getLiteralValueAtPath(e,t,n){return this.expressions[this.expressions.length-1].getLiteralValueAtPath(e,t,n)}hasEffects(e){for(const t of this.expressions)if(t.hasEffects(e))return!0;return!1}hasEffectsOnInteractionAtPath(e,t,n){return this.expressions[this.expressions.length-1].hasEffectsOnInteractionAtPath(e,t,n)}include(e,t){this.included=!0;const n=this.expressions[this.expressions.length-1];for(const s of this.expressions)(t||s===n&&!(this.parent instanceof mi)||s.shouldBeIncluded(e))&&s.include(e,t)}removeAnnotations(e){this.expressions[0].removeAnnotations(e)}render(e,t,{renderedParentType:n,isCalleeOfRenderedParent:s,preventASI:i}=Ee){let r=0,o=null;const a=this.expressions[this.expressions.length-1];for(const{node:l,separator:c,start:d,end:u}of hi(this.expressions,e,this.start,this.end))if(l.included)if(r++,o=c,1===r&&i&&pi(e,d,l.start),1===r){const i=n||this.parent.type;l.render(e,t,{isCalleeOfRenderedParent:s&&l===a,renderedParentType:i,renderedSurroundingElement:i})}else l.render(e,t);else ri(l,e,d,u);o&&e.remove(o,this.end)}},SpreadElement:Un,StaticBlock:class extends jn{createScope(e){this.scope=new fi(e)}hasEffects(e){for(const t of this.body)if(t.hasEffects(e))return!0;return!1}include(e,t){this.included=!0;for(const n of this.body)(t||n.shouldBeIncluded(e))&&n.include(e,t)}render(e,t){if(this.body.length>0){const n=ai(e.original.slice(this.start,this.end),"{")+1;ui(this.body,e,this.start+n,this.end-1,t)}else super.render(e,t)}},Super:class extends jn{bind(){this.variable=this.scope.findVariable("this")}deoptimizeArgumentsOnInteractionAtPath(e,t,n){this.variable.deoptimizeArgumentsOnInteractionAtPath(e,t,n)}deoptimizePath(e){this.variable.deoptimizePath(e)}include(){this.included||(this.included=!0,this.scope.context.includeVariableInModule(this.variable))}},SwitchCase:eo,SwitchStatement:class extends jn{createScope(e){this.parentScope=e,this.scope=new fi(e)}hasEffects(e){if(this.discriminant.hasEffects(e))return!0;const{brokenFlow:t,hasBreak:n,ignore:s}=e,{breaks:i}=s;s.breaks=!0,e.hasBreak=!1;let r=!0;for(const n of this.cases){if(n.hasEffects(e))return!0;r&&=e.brokenFlow&&!e.hasBreak,e.hasBreak=!1,e.brokenFlow=t}return null!==this.defaultCase&&(e.brokenFlow=r),s.breaks=i,e.hasBreak=n,!1}include(e,t){this.included=!0,this.discriminant.include(e,t);const{brokenFlow:n,hasBreak:s}=e;e.hasBreak=!1;let i=!0,r=t||null!==this.defaultCase&&this.defaultCase<this.cases.length-1;for(let s=this.cases.length-1;s>=0;s--){const o=this.cases[s];if(o.included&&(r=!0),!r){const e=un();e.ignore.breaks=!0,r=o.hasEffects(e)}r?(o.include(e,t),i&&=e.brokenFlow&&!e.hasBreak,e.hasBreak=!1,e.brokenFlow=n):i=n}r&&null!==this.defaultCase&&(e.brokenFlow=i),e.hasBreak=s}initialise(){for(let e=0;e<this.cases.length;e++)if(null===this.cases[e].test)return void(this.defaultCase=e);this.defaultCase=null}parseNode(e){this.discriminant=new(this.scope.context.getNodeConstructor(e.discriminant.type))(e.discriminant,this,this.parentScope),super.parseNode(e)}render(e,t){this.discriminant.render(e,t),this.cases.length>0&&ui(this.cases,e,this.cases[0].start,this.end-1,t)}},TaggedTemplateExpression:class extends _i{bind(){if(super.bind(),this.tag.type===ys){const e=this.tag.name;this.scope.findVariable(e).isNamespace&&this.scope.context.log(Pe,Tt(e),this.start)}}hasEffects(e){try{for(const t of this.quasi.expressions)if(t.hasEffects(e))return!0;return this.tag.hasEffects(e)||this.tag.hasEffectsOnInteractionAtPath(Z,this.interaction,e)}finally{this.deoptimized||this.applyDeoptimizations()}}include(e,t){this.deoptimized||this.applyDeoptimizations(),t?super.include(e,t):(this.included=!0,this.tag.include(e,t),this.quasi.include(e,t)),this.tag.includeCallArguments(e,this.args);const[n]=this.getReturnExpression();n.included||n.include(e,!1)}initialise(){this.args=[ue,...this.quasi.expressions],this.interaction={args:[this.tag instanceof Ri&&!this.tag.variable?this.tag.object:null,...this.args],type:2,withNew:!1}}render(e,t){this.tag.render(e,t,{isCalleeOfRenderedParent:!0}),this.quasi.render(e,t)}applyDeoptimizations(){this.deoptimized=!0,this.tag.deoptimizeArgumentsOnInteractionAtPath(this.interaction,Z,ie),this.scope.context.requestTreeshakingPass()}getReturnExpression(e=ie){return null===this.returnExpression?(this.returnExpression=he,this.returnExpression=this.tag.getReturnExpressionWhenCalledAtPath(Z,this.interaction,e,this)):this.returnExpression}},TemplateElement:class extends jn{get tail(){return oe(this.flags,1048576)}set tail(e){this.flags=ae(this.flags,1048576,e)}bind(){}hasEffects(){return!1}include(){this.included=!0}parseNode(e){this.value=e.value,super.parseNode(e)}render(){}},TemplateLiteral:to,ThisExpression:class extends jn{bind(){this.variable=this.scope.findVariable("this")}deoptimizeArgumentsOnInteractionAtPath(e,t,n){this.variable.deoptimizeArgumentsOnInteractionAtPath(e,t,n)}deoptimizePath(e){this.variable.deoptimizePath(e)}hasEffectsOnInteractionAtPath(e,t,n){return 0===e.length?0!==t.type:this.variable.hasEffectsOnInteractionAtPath(e,t,n)}include(){this.included||(this.included=!0,this.scope.context.includeVariableInModule(this.variable))}initialise(){this.alias=this.scope.findLexicalBoundary()instanceof io?this.scope.context.moduleContext:null,"undefined"===this.alias&&this.scope.context.log(Pe,{code:"THIS_IS_UNDEFINED",message:"The 'this' keyword is equivalent to 'undefined' at the top level of an ES module, and has been rewritten",url:ze("troubleshooting/#error-this-is-undefined")},this.start)}render(e){null!==this.alias&&e.overwrite(this.start,this.end,this.alias,{contentOnly:!1,storeName:!0})}},ThrowStatement:class extends jn{hasEffects(){return!0}include(e,t){this.included=!0,this.argument.include(e,t),e.brokenFlow=!0}render(e,t){this.argument.render(e,t,{preventASI:!0}),this.argument.start===this.start+5&&e.prependLeft(this.start+5," ")}},TryStatement:class extends jn{constructor(){super(...arguments),this.directlyIncluded=!1,this.includedLabelsAfterBlock=null}hasEffects(e){return(this.scope.context.options.treeshake.tryCatchDeoptimization?this.block.body.length>0:this.block.hasEffects(e))||!!this.finalizer?.hasEffects(e)}include(e,t){const n=this.scope.context.options.treeshake?.tryCatchDeoptimization,{brokenFlow:s,includedLabels:i}=e;if(this.directlyIncluded&&n){if(this.includedLabelsAfterBlock)for(const e of this.includedLabelsAfterBlock)i.add(e)}else this.included=!0,this.directlyIncluded=!0,this.block.include(e,n?Fn:t),i.size>0&&(this.includedLabelsAfterBlock=[...i]),e.brokenFlow=s;null!==this.handler&&(this.handler.include(e,t),e.brokenFlow=s),this.finalizer?.include(e,t)}},UnaryExpression:class extends jn{get prefix(){return oe(this.flags,2097152)}set prefix(e){this.flags=ae(this.flags,2097152,e)}getLiteralValueAtPath(e,t,n){if(e.length>0)return le;const s=this.argument.getLiteralValueAtPath(Z,t,n);return"symbol"==typeof s?le:ro[this.operator](s)}hasEffects(e){return this.deoptimized||this.applyDeoptimizations(),!("typeof"===this.operator&&this.argument instanceof si)&&(this.argument.hasEffects(e)||"delete"===this.operator&&this.argument.hasEffectsOnInteractionAtPath(Z,me,e))}hasEffectsOnInteractionAtPath(e,{type:t}){return 0!==t||e.length>("void"===this.operator?0:1)}applyDeoptimizations(){this.deoptimized=!0,"delete"===this.operator&&(this.argument.deoptimizePath(Z),this.scope.context.requestTreeshakingPass())}},UnknownNode:class extends jn{hasEffects(){return!0}include(e){super.include(e,!0)}},UpdateExpression:class extends jn{hasEffects(e){return this.deoptimized||this.applyDeoptimizations(),this.argument.hasEffectsAsAssignmentTarget(e,!0)}hasEffectsOnInteractionAtPath(e,{type:t}){return e.length>1||0!==t}include(e,t){this.deoptimized||this.applyDeoptimizations(),this.included=!0,this.argument.includeAsAssignmentTarget(e,t,!0)}initialise(){this.argument.setAssignedValue(ue)}render(e,t){const{exportNamesByVariable:n,format:s,snippets:{_:i}}=t;if(this.argument.render(e,t),"system"===s){const s=this.argument.variable,r=n.get(s);if(r)if(this.prefix)1===r.length?$i(s,this.start,this.end,e,t):Ai(s,this.start,this.end,this.parent.type!==gs,e,t);else{const n=this.operator[0];!function(e,t,n,s,i,r,o){const{_:a}=r.snippets;i.prependRight(t,`${xi([e],r,o)},${a}`),s&&(i.prependRight(t,"("),i.appendLeft(n,")"))}(s,this.start,this.end,this.parent.type!==gs,e,t,`${i}${n}${i}1`)}}}applyDeoptimizations(){if(this.deoptimized=!0,this.argument.deoptimizePath(Z),this.argument instanceof si){this.scope.findVariable(this.argument.name).isReassigned=!0}this.scope.context.requestTreeshakingPass()}},VariableDeclaration:oo,VariableDeclarator:Rr,WhileStatement:class extends jn{hasEffects(e){return!!this.test.hasEffects(e)||qi(e,this.body)}include(e,t){this.included=!0,this.test.include(e,t),Ki(e,this.body,t)}},YieldExpression:class extends jn{hasEffects(e){return this.deoptimized||this.applyDeoptimizations(),!(e.ignore.returnYield&&!this.argument?.hasEffects(e))}render(e,t){this.argument&&(this.argument.render(e,t,{preventASI:!0}),this.argument.start===this.start+5&&e.prependLeft(this.start+5," "))}}},lo="_missingExportShim";class co extends ye{constructor(e){super(lo),this.module=e}include(){super.include(),this.module.needsExportShim=!0}}class uo extends ye{constructor(e){super(e.getModuleName()),this.memberVariables=null,this.mergedNamespaces=[],this.referencedEarly=!1,this.references=[],this.context=e,this.module=e.module}addReference(e){this.references.push(e),this.name=e.name}deoptimizeArgumentsOnInteractionAtPath(e,t,n){if(t.length>1||1===t.length&&2===e.type){const s=t[0];"string"==typeof s?this.getMemberVariables()[s]?.deoptimizeArgumentsOnInteractionAtPath(e,t.slice(1),n):pe(e)}}deoptimizePath(e){if(e.length>1){const t=e[0];"string"==typeof t&&this.getMemberVariables()[t]?.deoptimizePath(e.slice(1))}}getLiteralValueAtPath(e){return e[0]===J?"Module":le}getMemberVariables(){if(this.memberVariables)return this.memberVariables;const e=Object.create(null),t=[...this.context.getExports(),...this.context.getReexports()].sort();for(const n of t)if("*"!==n[0]&&n!==this.module.info.syntheticNamedExports){const t=this.context.traceExport(n);t&&(e[n]=t)}return this.memberVariables=e}hasEffectsOnInteractionAtPath(e,t,n){const{type:s}=t;if(0===e.length)return!0;if(1===e.length&&2!==s)return 1===s;const i=e[0];if("string"!=typeof i)return!0;const r=this.getMemberVariables()[i];return!r||r.hasEffectsOnInteractionAtPath(e.slice(1),t,n)}include(){super.include(),this.context.includeAllExports()}prepare(e){this.mergedNamespaces.length>0&&this.module.scope.addAccessedGlobals([ur],e)}renderBlock(e){const{exportNamesByVariable:t,format:n,freeze:s,indent:i,symbols:r,snippets:{_:o,cnst:a,getObject:l,getPropertyAccess:c,n:d,s:u}}=e,h=this.getMemberVariables(),p=Object.entries(h).filter((([e,t])=>t.included)).map((([e,t])=>this.referencedEarly||t.isReassigned||t===this?[null,`get ${e}${o}()${o}{${o}return ${t.getName(c)}${u}${o}}`]:[e,t.getName(c)]));p.unshift([null,`__proto__:${o}null`]);let f=l(p,{lineBreakIndent:{base:"",t:i}});if(this.mergedNamespaces.length>0){const e=this.mergedNamespaces.map((e=>e.getName(c)));f=`/*#__PURE__*/${ur}(${f},${o}[${e.join(`,${o}`)}])`}else r&&(f=`/*#__PURE__*/Object.defineProperty(${f},${o}Symbol.toStringTag,${o}${Or(l)})`),s&&(f=`/*#__PURE__*/Object.freeze(${f})`);return f=`${a} ${this.getName(c)}${o}=${o}${f};`,"system"===n&&t.has(this)&&(f+=`${d}${xi([this],e)};`),f}renderFirst(){return this.referencedEarly}setMergedNamespaces(e){this.mergedNamespaces=e;const t=this.context.getModuleExecIndex();for(const e of this.references){const{context:n}=e.scope;if(n.getModuleExecIndex()<=t){this.referencedEarly=!0;break}}}}uo.prototype.isNamespace=!0;class ho extends ye{constructor(e,t,n){super(t),this.baseVariable=null,this.context=e,this.module=e.module,this.syntheticNamespace=n}getBaseVariable(){if(this.baseVariable)return this.baseVariable;let e=this.syntheticNamespace;for(;e instanceof so||e instanceof ho;){if(e instanceof so){const t=e.getOriginalVariable();if(t===e)break;e=t}e instanceof ho&&(e=e.syntheticNamespace)}return this.baseVariable=e}getBaseVariableName(){return this.syntheticNamespace.getBaseVariableName()}getName(e){return`${this.syntheticNamespace.getName(e)}${e(this.name)}`}include(){super.include(),this.context.includeVariableInModule(this.syntheticNamespace)}setRenderNames(e,t){super.setRenderNames(e,t)}}var po;!function(e){e[e.LOAD_AND_PARSE=0]="LOAD_AND_PARSE",e[e.ANALYSE=1]="ANALYSE",e[e.GENERATE=2]="GENERATE"}(po||(po={}));const fo=new WeakMap;function mo(e,t){if(e){const t=fo.get(e);t&&function(e){void 0===e.encodedMappings&&e.decodedMappings&&(e.encodedMappings=r.encode(e.decodedMappings)),e.decodedMappings=void 0}(t)}if(t)for(const e of t)e.missing||mo(e)}function go(e){if(!e)return null;if("string"==typeof e&&(e=JSON.parse(e)),!e.mappings)return{mappings:[],names:[],sources:[],version:3};const t=e.mappings,n=Array.isArray(t),s={decodedMappings:n?t:void 0,encodedMappings:n?void 0:t},i={...e,get mappings(){return s.decodedMappings||(s.decodedMappings=s.encodedMappings?r.decode(s.encodedMappings):[],s.encodedMappings=void 0),s.decodedMappings}};return fo.set(i,s),i}function yo(e){return e.id}let bo;const Eo=new Array(128).fill(void 0);function xo(e){return Eo[e]}Eo.push(void 0,null,!0,!1);let $o=Eo.length;function Ao(e){const t=xo(e);return function(e){e<132||(Eo[e]=$o,$o=e)}(e),t}const So="undefined"!=typeof TextDecoder?new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0}):{decode:()=>{throw Error("TextDecoder not available")}};"undefined"!=typeof TextDecoder&&So.decode();let wo=null;function vo(){return null!==wo&&0!==wo.byteLength||(wo=new Uint8Array(bo.memory.buffer)),wo}function Io(e,t){return e>>>=0,So.decode(vo().subarray(e,e+t))}function Po(e){$o===Eo.length&&Eo.push(Eo.length+1);const t=$o;return $o=Eo[t],Eo[t]=e,t}let ko=0;const No="undefined"!=typeof TextEncoder?new TextEncoder("utf-8"):{encode:()=>{throw Error("TextEncoder not available")}},Co="function"==typeof No.encodeInto?function(e,t){return No.encodeInto(e,t)}:function(e,t){const n=No.encode(e);return t.set(n),{read:e.length,written:n.length}};let Mo=null;function Oo(){return null!==Mo&&0!==Mo.byteLength||(Mo=new Int32Array(bo.memory.buffer)),Mo}function Do(e,t){try{const a=bo.__wbindgen_add_to_stack_pointer(-16),l=function(e,t,n){if(void 0===n){const n=No.encode(e),s=t(n.length,1)>>>0;return vo().subarray(s,s+n.length).set(n),ko=n.length,s}let s=e.length,i=t(s,1)>>>0;const r=vo();let o=0;for(;o<s;o++){const t=e.charCodeAt(o);if(t>127)break;r[i+o]=t}if(o!==s){0!==o&&(e=e.slice(o)),i=n(i,s,s=o+3*e.length,1)>>>0;const t=vo().subarray(i+o,i+s);o+=Co(e,t).written}return ko=o,i}(e,bo.__wbindgen_malloc,bo.__wbindgen_realloc),c=ko;bo.parse(a,l,c,t);var n=Oo()[a/4+0],s=Oo()[a/4+1],i=(r=n,o=s,r>>>=0,vo().subarray(r/1,r/1+o)).slice();return bo.__wbindgen_free(n,1*s,1),i}finally{bo.__wbindgen_add_to_stack_pointer(16)}var r,o}function Ro(e,t){try{return e.apply(this,t)}catch(e){bo.__wbindgen_exn_store(Po(e))}}function Lo(){const e={wbg:{}};return e.wbg.__wbindgen_object_drop_ref=function(e){Ao(e)},e.wbg.__wbg_crypto_58f13aa23ffcb166=function(e){return Po(xo(e).crypto)},e.wbg.__wbindgen_is_object=function(e){const t=xo(e);return"object"==typeof t&&null!==t},e.wbg.__wbg_process_5b786e71d465a513=function(e){return Po(xo(e).process)},e.wbg.__wbg_versions_c2ab80650590b6a2=function(e){return Po(xo(e).versions)},e.wbg.__wbg_node_523d7bd03ef69fba=function(e){return Po(xo(e).node)},e.wbg.__wbindgen_is_string=function(e){return"string"==typeof xo(e)},e.wbg.__wbg_msCrypto_abcb1295e768d1f2=function(e){return Po(xo(e).msCrypto)},e.wbg.__wbg_require_2784e593a4674877=function(){return Ro((function(){return Po(module.require)}),arguments)},e.wbg.__wbindgen_is_function=function(e){return"function"==typeof xo(e)},e.wbg.__wbindgen_string_new=function(e,t){return Po(Io(e,t))},e.wbg.__wbg_randomFillSync_a0d98aa11c81fe89=function(){return Ro((function(e,t){xo(e).randomFillSync(Ao(t))}),arguments)},e.wbg.__wbg_getRandomValues_504510b5564925af=function(){return Ro((function(e,t){xo(e).getRandomValues(xo(t))}),arguments)},e.wbg.__wbg_newnoargs_ccdcae30fd002262=function(e,t){return Po(new Function(Io(e,t)))},e.wbg.__wbg_call_669127b9d730c650=function(){return Ro((function(e,t){return Po(xo(e).call(xo(t)))}),arguments)},e.wbg.__wbindgen_object_clone_ref=function(e){return Po(xo(e))},e.wbg.__wbg_self_3fad056edded10bd=function(){return Ro((function(){return Po(self.self)}),arguments)},e.wbg.__wbg_window_a4f46c98a61d4089=function(){return Ro((function(){return Po(window.window)}),arguments)},e.wbg.__wbg_globalThis_17eff828815f7d84=function(){return Ro((function(){return Po(globalThis.globalThis)}),arguments)},e.wbg.__wbg_global_46f939f6541643c5=function(){return Ro((function(){return Po(global.global)}),arguments)},e.wbg.__wbindgen_is_undefined=function(e){return void 0===xo(e)},e.wbg.__wbg_call_53fc3abd42e24ec8=function(){return Ro((function(e,t,n){return Po(xo(e).call(xo(t),xo(n)))}),arguments)},e.wbg.__wbg_buffer_344d9b41efe96da7=function(e){return Po(xo(e).buffer)},e.wbg.__wbg_newwithbyteoffsetandlength_2dc04d99088b15e3=function(e,t,n){return Po(new Uint8Array(xo(e),t>>>0,n>>>0))},e.wbg.__wbg_new_d8a000788389a31e=function(e){return Po(new Uint8Array(xo(e)))},e.wbg.__wbg_set_dcfd613a3420f908=function(e,t,n){xo(e).set(xo(t),n>>>0)},e.wbg.__wbg_length_a5587d6cd79ab197=function(e){return xo(e).length},e.wbg.__wbg_newwithlength_13b5319ab422dcf6=function(e){return Po(new Uint8Array(e>>>0))},e.wbg.__wbg_subarray_6ca5cfa7fbb9abbe=function(e,t,n){return Po(xo(e).subarray(t>>>0,n>>>0))},e.wbg.__wbindgen_throw=function(e,t){throw new Error(Io(e,t))},e.wbg.__wbindgen_memory=function(){return Po(bo.memory)},e}async function _o(e){if(void 0!==bo)return bo;void 0===e&&(e=new URL("bindings_wasm_bg.wasm","undefined"==typeof document&&"undefined"==typeof location?require("url").pathToFileURL(__filename).href:"undefined"==typeof document?location.href:t&&t.src||new URL("rollup.browser.js",document.baseURI).href));const n=Lo();("string"==typeof e||"function"==typeof Request&&e instanceof Request||"function"==typeof URL&&e instanceof URL)&&(e=fetch(e));const{instance:s,module:i}=await async function(e,t){if("function"==typeof Response&&e instanceof Response){if("function"==typeof WebAssembly.instantiateStreaming)try{return await WebAssembly.instantiateStreaming(e,t)}catch(t){if("application/wasm"==e.headers.get("Content-Type"))throw t;console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",t)}const n=await e.arrayBuffer();return await WebAssembly.instantiate(n,t)}{const n=await WebAssembly.instantiate(e,t);return n instanceof WebAssembly.Instance?{instance:n,module:e}:n}}(await e,n);return function(e,t){return bo=e.exports,_o.__wbindgen_wasm_module=t,Mo=null,wo=null,bo}(s,i)}function Bo(e){if("undefined"!=typeof Buffer&&e instanceof Buffer)return function(t,n){return e.toString("utf8",t,t+n)};{const t=new TextDecoder;return function(n,s){return t.decode(e.subarray(n,n+s))}}}const To=(e,{allowReturnOutsideFunction:t=!1}={})=>{const n=Do(e,t),s=Bo(n);return Cn(n.buffer,s)},zo=async(e,{allowReturnOutsideFunction:t=!1,signal:n}={})=>{const s=await async function(e,t,n){return Do(e,t)}(e,t),i=Bo(s);return Cn(s.buffer,i)},Vo=new Set(["assert","with"]);function Fo(e){const{scope:{context:t},options:n,start:s}=e;if(!(n instanceof Zr))return n&&t.module.log(Pe,qt(t.module.id),s),xe;const i=n.properties.find((e=>Vo.has(jo(e))))?.value;if(!i)return xe;if(!(i instanceof Zr))return t.module.log(Pe,(r=t.module.id,{code:ft,message:`Rollup could not statically analyze the options argument of a dynamic import in "${V(r)}". Dynamic import options need to be an object with a nested attributes object.`}),s),xe;var r;const o=i.properties.map((e=>{const n=jo(e);return"string"==typeof n&&"string"==typeof e.value.value?[n,e.value.value]:(t.module.log(Pe,qt(t.module.id),e.start),null)})).filter((e=>!!e));return o.length>0?Object.fromEntries(o):xe}const jo=e=>{const t=e.key;return t&&!e.computed&&(t.name||t.value)};function Uo(e,t){const n=Object.keys(e);return n.length!==Object.keys(t).length||n.some((n=>e[n]!==t[n]))}var Go="performance"in("undefined"==typeof globalThis?"undefined"==typeof window?{}:window:globalThis)?performance:{now:()=>0},Wo={memoryUsage:()=>({heapUsed:0})};let Ho=new Map;function qo(e,t){switch(t){case 1:return`# ${e}`;case 2:return`## ${e}`;case 3:return e;default:return`${"  ".repeat(t-4)}- ${e}`}}function Ko(e,t=3){e=qo(e,t);const n=Wo.memoryUsage().heapUsed,s=Go.now(),i=Ho.get(e);void 0===i?Ho.set(e,{memory:0,startMemory:n,startTime:s,time:0,totalMemory:0}):(i.startMemory=n,i.startTime=s)}function Yo(e,t=3){e=qo(e,t);const n=Ho.get(e);if(void 0!==n){const e=Wo.memoryUsage().heapUsed;n.memory+=e-n.startMemory,n.time+=Go.now()-n.startTime,n.totalMemory=Math.max(n.totalMemory,e)}}function Xo(){const e={};for(const[t,{memory:n,time:s,totalMemory:i}]of Ho)e[t]=[s,n,i];return e}let Jo=Bs,Zo=Bs;const Qo=["augmentChunkHash","buildEnd","buildStart","generateBundle","load","moduleParsed","options","outputOptions","renderChunk","renderDynamicImport","renderStart","resolveDynamicImport","resolveFileUrl","resolveId","resolveImportMeta","shouldTransformCachedModule","transform","writeBundle"];function ea(e,t){if(e._hasTimer)return e;e._hasTimer=!0;for(const n of Qo)if(n in e){let s=`plugin ${t}`;e.name&&(s+=` (${e.name})`),s+=` - ${n}`;const i=function(...e){Jo(s,4);const t=r.apply(this,e);return Zo(s,4),t};let r;"function"==typeof e[n].handler?(r=e[n].handler,e[n].handler=i):(r=e[n],e[n]=i)}return e}function ta(e){e.isExecuted=!0;const t=[e],n=new Set;for(const e of t)for(const s of[...e.dependencies,...e.implicitlyLoadedBefore])s instanceof an||s.isExecuted||!s.info.moduleSideEffects&&!e.implicitlyLoadedBefore.has(s)||n.has(s.id)||(s.isExecuted=!0,n.add(s.id),t.push(s))}const na={identifier:null,localName:lo};function sa(e,t,n,s,i=new Map){const r=i.get(t);if(r){if(r.has(e))return s?[null]:Qe((o=t,a=e.id,{code:at,exporter:a,message:`"${o}" cannot be exported from "${V(a)}" as it is a reexport that references itself.`}));r.add(e)}else i.set(t,new Set([e]));var o,a;return e.getVariableForExportName(t,{importerForSideEffects:n,isExportAllSearch:s,searchedNamesAndModules:i})}function ia(e,t){const n=W(t.sideEffectDependenciesByVariable,e,H);let s=e;const i=new Set([s]);for(;;){const e=s.module;if(s=s instanceof so?s.getDirectOriginalVariable():s instanceof ho?s.syntheticNamespace:null,!s||i.has(s))break;i.add(s),n.add(e);const t=e.sideEffectDependenciesByVariable.get(s);if(t)for(const e of t)n.add(e)}return n}class ra{constructor(e,t,n,s,i,r,o,a){this.graph=e,this.id=t,this.options=n,this.alternativeReexportModules=new Map,this.chunkFileNames=new Set,this.chunkNames=[],this.cycles=new Set,this.dependencies=new Set,this.dynamicDependencies=new Set,this.dynamicImporters=[],this.dynamicImports=[],this.execIndex=1/0,this.implicitlyLoadedAfter=new Set,this.implicitlyLoadedBefore=new Set,this.importDescriptions=new Map,this.importMetas=[],this.importedFromNotTreeshaken=!1,this.importers=[],this.includedDynamicImporters=[],this.includedImports=new Set,this.isExecuted=!1,this.isUserDefinedEntryPoint=!1,this.needsExportShim=!1,this.sideEffectDependenciesByVariable=new Map,this.sourcesWithAttributes=new Map,this.allExportNames=null,this.ast=null,this.exportAllModules=[],this.exportAllSources=new Set,this.exportNamesByVariable=null,this.exportShimVariable=new co(this),this.exports=new Map,this.namespaceReexportsByName=new Map,this.reexportDescriptions=new Map,this.relevantDependencies=null,this.syntheticExports=new Map,this.syntheticNamespace=null,this.transformDependencies=[],this.transitiveReexports=null,this.excludeFromSourcemap=/\0/.test(t),this.context=n.moduleContext(t),this.preserveSignature=this.options.preserveEntrySignatures;const l=this,{dynamicImports:c,dynamicImporters:d,exportAllSources:u,exports:h,implicitlyLoadedAfter:p,implicitlyLoadedBefore:f,importers:m,reexportDescriptions:g,sourcesWithAttributes:y}=this;this.info={ast:null,attributes:a,code:null,get dynamicallyImportedIdResolutions(){return c.map((({argument:e})=>"string"==typeof e&&l.resolvedIds[e])).filter(Boolean)},get dynamicallyImportedIds(){return c.map((({id:e})=>e)).filter((e=>null!=e))},get dynamicImporters(){return d.sort()},get exportedBindings(){const e={".":[...h.keys()]};for(const[t,{source:n}]of g)(e[n]??=[]).push(t);for(const t of u)(e[t]??=[]).push("*");return e},get exports(){return[...h.keys(),...g.keys(),...[...u].map((()=>"*"))]},get hasDefaultExport(){return l.ast?l.exports.has("default")||g.has("default"):null},id:t,get implicitlyLoadedAfterOneOf(){return Array.from(p,yo).sort()},get implicitlyLoadedBefore(){return Array.from(f,yo).sort()},get importedIdResolutions(){return Array.from(y.keys(),(e=>l.resolvedIds[e])).filter(Boolean)},get importedIds(){return Array.from(y.keys(),(e=>l.resolvedIds[e]?.id)).filter(Boolean)},get importers(){return m.sort()},isEntry:s,isExternal:!1,get isIncluded(){return e.phase!==po.GENERATE?null:l.isIncluded()},meta:{...o},moduleSideEffects:i,syntheticNamedExports:r}}basename(){const e=C(this.id),t=O(this.id);return Ie(t?e.slice(0,-t.length):e)}bindReferences(){this.ast.bind()}error(e,t){return this.addLocationToLogProps(e,t),Qe(e)}estimateSize(){let e=0;for(const t of this.ast.body)t.included&&(e+=t.end-t.start);return e}getAllExportNames(){if(this.allExportNames)return this.allExportNames;this.allExportNames=new Set([...this.exports.keys(),...this.reexportDescriptions.keys()]);for(const e of this.exportAllModules)if(e instanceof an)this.allExportNames.add(`*${e.id}`);else for(const t of e.getAllExportNames())"default"!==t&&this.allExportNames.add(t);return"string"==typeof this.info.syntheticNamedExports&&this.allExportNames.delete(this.info.syntheticNamedExports),this.allExportNames}getDependenciesToBeIncluded(){if(this.relevantDependencies)return this.relevantDependencies;this.relevantDependencies=new Set;const e=new Set,t=new Set,n=new Set(this.includedImports);if(this.info.isEntry||this.includedDynamicImporters.length>0||this.namespace.included||this.implicitlyLoadedAfter.size>0)for(const e of[...this.getReexports(),...this.getExports()]){const[t]=this.getVariableForExportName(e);t?.included&&n.add(t)}for(let s of n){const n=this.sideEffectDependenciesByVariable.get(s);if(n)for(const e of n)t.add(e);s instanceof ho?s=s.getBaseVariable():s instanceof so&&(s=s.getOriginalVariable()),e.add(s.module)}if(this.options.treeshake&&"no-treeshake"!==this.info.moduleSideEffects)this.addRelevantSideEffectDependencies(this.relevantDependencies,e,t);else for(const e of this.dependencies)this.relevantDependencies.add(e);for(const t of e)this.relevantDependencies.add(t);return this.relevantDependencies}getExportNamesByVariable(){if(this.exportNamesByVariable)return this.exportNamesByVariable;const e=new Map;for(const t of this.getAllExportNames()){let[n]=this.getVariableForExportName(t);if(n instanceof so&&(n=n.getOriginalVariable()),!n||!(n.included||n instanceof be))continue;const s=e.get(n);s?s.push(t):e.set(n,[t])}return this.exportNamesByVariable=e}getExports(){return[...this.exports.keys()]}getReexports(){if(this.transitiveReexports)return this.transitiveReexports;this.transitiveReexports=[];const e=new Set(this.reexportDescriptions.keys());for(const t of this.exportAllModules)if(t instanceof an)e.add(`*${t.id}`);else for(const n of[...t.getReexports(),...t.getExports()])"default"!==n&&e.add(n);return this.transitiveReexports=[...e]}getRenderedExports(){const e=[],t=[];for(const n of this.exports.keys()){const[s]=this.getVariableForExportName(n);(s?.included?e:t).push(n)}return{removedExports:t,renderedExports:e}}getSyntheticNamespace(){return null===this.syntheticNamespace&&(this.syntheticNamespace=void 0,[this.syntheticNamespace]=this.getVariableForExportName("string"==typeof this.info.syntheticNamedExports?this.info.syntheticNamedExports:"default",{onlyExplicit:!0})),this.syntheticNamespace?this.syntheticNamespace:Qe((e=this.id,t=this.info.syntheticNamedExports,{code:"SYNTHETIC_NAMED_EXPORTS_NEED_NAMESPACE_EXPORT",exporter:e,message:`Module "${V(e)}" that is marked with \`syntheticNamedExports: ${JSON.stringify(t)}\` needs ${"string"==typeof t&&"default"!==t?`an explicit export named "${t}"`:"a default export"} that does not reexport an unresolved named export of the same module.`}));var e,t}getVariableForExportName(e,{importerForSideEffects:t,isExportAllSearch:n,onlyExplicit:s,searchedNamesAndModules:i}=xe){if("*"===e[0]){if(1===e.length)return[this.namespace];return this.graph.modulesById.get(e.slice(1)).getVariableForExportName("*")}const r=this.reexportDescriptions.get(e);if(r){const[e]=sa(r.module,r.localName,t,!1,i);return e?(t&&(oa(e,t,this),this.info.moduleSideEffects&&W(t.sideEffectDependenciesByVariable,e,H).add(this)),[e]):this.error(Yt(r.localName,this.id,r.module.id),r.start)}const o=this.exports.get(e);if(o){if(o===na)return[this.exportShimVariable];const e=o.localName,n=this.traceVariable(e,{importerForSideEffects:t,searchedNamesAndModules:i});return t&&(oa(n,t,this),W(t.sideEffectDependenciesByVariable,n,H).add(this)),[n]}if(s)return[null];if("default"!==e){const n=this.namespaceReexportsByName.get(e)??this.getVariableFromNamespaceReexports(e,t,i);if(this.namespaceReexportsByName.set(e,n),n[0])return n}return this.info.syntheticNamedExports?[W(this.syntheticExports,e,(()=>new ho(this.astContext,e,this.getSyntheticNamespace())))]:!n&&this.options.shimMissingExports?(this.shimMissingExport(e),[this.exportShimVariable]):[null]}hasEffects(){return"no-treeshake"===this.info.moduleSideEffects||this.ast.hasCachedEffects()}include(){const e=dn();this.ast.shouldBeIncluded(e)&&this.ast.include(e,!1)}includeAllExports(e){this.isExecuted||(ta(this),this.graph.needsTreeshakingPass=!0);for(const s of this.exports.keys())if(e||s!==this.info.syntheticNamedExports){const e=this.getVariableForExportName(s)[0];if(!e)return Qe((t=s,n=this.id,{binding:t,code:xt,exporter:n,message:`Exported variable "${t}" is not defined in "${V(n)}".`,url:ze(Ve)}));e.deoptimizePath(Q),e.included||this.includeVariable(e)}var t,n;for(const e of this.getReexports()){const[t]=this.getVariableForExportName(e);t&&(t.deoptimizePath(Q),t.included||this.includeVariable(t),t instanceof be&&(t.module.reexported=!0))}e&&this.namespace.setMergedNamespaces(this.includeAndGetAdditionalMergedNamespaces())}includeAllInBundle(){this.ast.include(dn(),!0),this.includeAllExports(!1)}includeExportsByNames(e){this.isExecuted||(ta(this),this.graph.needsTreeshakingPass=!0);let t=!1;for(const n of e){const e=this.getVariableForExportName(n)[0];e&&(e.deoptimizePath(Q),e.included||this.includeVariable(e)),this.exports.has(n)||this.reexportDescriptions.has(n)||(t=!0)}t&&this.namespace.setMergedNamespaces(this.includeAndGetAdditionalMergedNamespaces())}isIncluded(){return this.ast&&(this.ast.included||this.namespace.included||this.importedFromNotTreeshaken||this.exportShimVariable.included)}linkImports(){this.addModulesToImportDescriptions(this.importDescriptions),this.addModulesToImportDescriptions(this.reexportDescriptions);const e=[];for(const t of this.exportAllSources){const n=this.graph.modulesById.get(this.resolvedIds[t].id);n instanceof an?e.push(n):this.exportAllModules.push(n)}this.exportAllModules.push(...e)}log(e,t,n){this.addLocationToLogProps(t,n),this.options.onLog(e,t)}render(e){const t=this.magicString.clone();this.ast.render(t,e),t.trim();const{usesTopLevelAwait:n}=this.astContext;return n&&"es"!==e.format&&"system"!==e.format?Qe((s=this.id,i=e.format,{code:"INVALID_TLA_FORMAT",id:s,message:`Module format "${i}" does not support top-level await. Use the "es" or "system" output formats rather.`})):{source:t,usesTopLevelAwait:n};var s,i}async setSource({ast:e,code:t,customTransformCache:n,originalCode:s,originalSourcemap:i,resolvedIds:r,sourcemapChain:o,transformDependencies:a,transformFiles:l,...c}){if(t.startsWith("#!")){const e=t.indexOf("\n");this.shebang=t.slice(2,e)}65279===t.charCodeAt(0)&&(t=t.slice(1)),Jo("generate ast",3),this.info.code=t,this.originalCode=s,this.originalSourcemap=go(i),this.sourcemapChain=o.map((e=>e.missing?e:go(e))),mo(this.originalSourcemap,this.sourcemapChain),l&&(this.transformFiles=l),this.transformDependencies=a,this.customTransformCache=n,this.updateOptions(c);const d=e??await this.tryParseAsync();Zo("generate ast",3),Jo("analyze ast",3),this.resolvedIds=r??Object.create(null);const u=this.id;this.magicString=new E(t,{filename:this.excludeFromSourcemap?null:u,indentExclusionRanges:[]}),this.astContext={addDynamicImport:this.addDynamicImport.bind(this),addExport:this.addExport.bind(this),addImport:this.addImport.bind(this),addImportMeta:this.addImportMeta.bind(this),code:t,deoptimizationTracker:this.graph.deoptimizationTracker,error:this.error.bind(this),fileName:u,getExports:this.getExports.bind(this),getModuleExecIndex:()=>this.execIndex,getModuleName:this.basename.bind(this),getNodeConstructor:e=>ao[e]||ao.UnknownNode,getReexports:this.getReexports.bind(this),importDescriptions:this.importDescriptions,includeAllExports:()=>this.includeAllExports(!0),includeDynamicImport:this.includeDynamicImport.bind(this),includeVariableInModule:this.includeVariableInModule.bind(this),log:this.log.bind(this),magicString:this.magicString,manualPureFunctions:this.graph.pureFunctions,module:this,moduleContext:this.context,options:this.options,requestTreeshakingPass:()=>this.graph.needsTreeshakingPass=!0,traceExport:e=>this.getVariableForExportName(e)[0],traceVariable:this.traceVariable.bind(this),usesTopLevelAwait:!1},this.scope=new io(this.graph.scope,this.astContext),this.namespace=new uo(this.astContext),this.ast=new Qr(d,{context:this.astContext,type:"Module"},this.scope),e||!1!==this.options.cache?this.info.ast=d:Object.defineProperty(this.info,"ast",{get:()=>{if(this.graph.astLru.has(u))return this.graph.astLru.get(u);{const e=this.tryParse();return this.graph.astLru.set(u,e),e}}}),Zo("analyze ast",3)}toJSON(){return{ast:this.info.ast,attributes:this.info.attributes,code:this.info.code,customTransformCache:this.customTransformCache,dependencies:Array.from(this.dependencies,yo),id:this.id,meta:this.info.meta,moduleSideEffects:this.info.moduleSideEffects,originalCode:this.originalCode,originalSourcemap:this.originalSourcemap,resolvedIds:this.resolvedIds,sourcemapChain:this.sourcemapChain,syntheticNamedExports:this.info.syntheticNamedExports,transformDependencies:this.transformDependencies,transformFiles:this.transformFiles}}traceVariable(e,{importerForSideEffects:t,isExportAllSearch:n,searchedNamesAndModules:s}=xe){const i=this.scope.variables.get(e);if(i)return i;const r=this.importDescriptions.get(e);if(r){const e=r.module;if(e instanceof ra&&"*"===r.name)return e.namespace;const[i]=sa(e,r.name,t||this,n,s);return i||this.error(Yt(r.name,this.id,e.id),r.start)}return null}updateOptions({meta:e,moduleSideEffects:t,syntheticNamedExports:n}){null!=t&&(this.info.moduleSideEffects=t),null!=n&&(this.info.syntheticNamedExports=n),null!=e&&Object.assign(this.info.meta,e)}addDynamicImport(e){let t=e.source;t instanceof to?1===t.quasis.length&&t.quasis[0].value.cooked&&(t=t.quasis[0].value.cooked):t instanceof Mi&&"string"==typeof t.value&&(t=t.value),this.dynamicImports.push({argument:t,id:null,node:e,resolution:null})}assertUniqueExportName(e,t){(this.exports.has(e)||this.reexportDescriptions.has(e))&&this.error(function(e){return{code:"DUPLICATE_EXPORT",message:`Duplicate export "${e}"`}}(e),t)}addExport(e){if(e instanceof Ji)this.assertUniqueExportName("default",e.start),this.exports.set("default",{identifier:e.variable.getAssignedVariableName(),localName:"default"});else if(e instanceof Yi){const t=e.source.value;if(this.addSource(t,e),e.exported){const n=e.exported.name;this.assertUniqueExportName(n,e.exported.start),this.reexportDescriptions.set(n,{localName:"*",module:null,source:t,start:e.start})}else this.exportAllSources.add(t)}else if(e.source instanceof Mi){const t=e.source.value;this.addSource(t,e);for(const{exported:n,local:s,start:i}of e.specifiers){const e=n instanceof Mi?n.value:n.name;this.assertUniqueExportName(e,i),this.reexportDescriptions.set(e,{localName:s instanceof Mi?s.value:s.name,module:null,source:t,start:i})}}else if(e.declaration){const t=e.declaration;if(t instanceof oo)for(const e of t.declarations)for(const t of cn(e.id))this.assertUniqueExportName(t,e.id.start),this.exports.set(t,{identifier:null,localName:t});else{const e=t.id.name;this.assertUniqueExportName(e,t.id.start),this.exports.set(e,{identifier:null,localName:e})}}else for(const{local:t,exported:n}of e.specifiers){const e=t.name,s=n instanceof si?n.name:n.value;this.assertUniqueExportName(s,n.start),this.exports.set(s,{identifier:null,localName:e})}}addImport(e){const t=e.source.value;this.addSource(t,e);for(const n of e.specifiers){const e=n.local.name;(this.scope.variables.has(e)||this.importDescriptions.has(e))&&this.error(Zt(e),n.local.start);const s=n instanceof ir?"default":n instanceof Tr?"*":n.imported instanceof si?n.imported.name:n.imported.value;this.importDescriptions.set(e,{module:null,name:s,source:t,start:n.start})}}addImportMeta(e){this.importMetas.push(e)}addLocationToLogProps(e,t){e.id=this.id,e.pos=t;let n=this.info.code;const s=Oe(n,t,{offsetLine:1});if(s){let{column:i,line:r}=s;try{({column:i,line:r}=function(e,t){const n=e.filter((e=>!e.missing));e:for(;n.length>0;){const e=n.pop().mappings[t.line-1];if(e){const n=e.filter((e=>e.length>1)),s=n[n.length-1];for(const e of n)if(e[0]>=t.column||e===s){t={column:e[3],line:e[2]+1};continue e}}throw new Error("Can't resolve original location of error.")}return t}(this.sourcemapChain,{column:i,line:r})),n=this.originalCode}catch(e){this.options.onLog(Pe,function(e,t,n,s,i){return{cause:e,code:"SOURCEMAP_ERROR",id:t,loc:{column:n,file:t,line:s},message:`Error when using sourcemap for reporting an error: ${e.message}`,pos:i}}(e,this.id,i,r,t))}et(e,{column:i,line:r},n,this.id)}}addModulesToImportDescriptions(e){for(const t of e.values()){const{id:e}=this.resolvedIds[t.source];t.module=this.graph.modulesById.get(e)}}addRelevantSideEffectDependencies(e,t,n){const s=new Set,i=r=>{for(const o of r)s.has(o)||(s.add(o),t.has(o)?e.add(o):(o.info.moduleSideEffects||n.has(o))&&(o instanceof an||o.hasEffects()?e.add(o):i(o.dependencies)))};i(this.dependencies),i(n)}addSource(e,t){const n=(s=t.attributes,s?.length?Object.fromEntries(s.map((e=>[jo(e),e.value.value]))):xe);var s;const i=this.sourcesWithAttributes.get(e);i?Uo(i,n)&&this.log(Pe,Ut(i,n,e,this.id),t.start):this.sourcesWithAttributes.set(e,n)}getVariableFromNamespaceReexports(e,t,n){let s=null;const i=new Map,r=new Set;for(const o of this.exportAllModules){if(o.info.syntheticNamedExports===e)continue;const[a,l]=sa(o,e,t,!0,aa(n));o instanceof an||l?r.add(a):a instanceof ho?s||(s=a):a&&i.set(a,o)}if(i.size>0){const t=[...i],n=t[0][0];return 1===t.length?[n]:(this.options.onLog(Pe,(o=e,a=this.id,l=t.map((([,e])=>e.id)),{binding:o,code:"NAMESPACE_CONFLICT",ids:l,message:`Conflicting namespaces: "${V(a)}" re-exports "${o}" from one of the modules ${Te(l.map((e=>V(e))))} (will be ignored).`,reexporter:a})),[null])}var o,a,l;if(r.size>0){const t=[...r],n=t[0];return t.length>1&&this.options.onLog(Pe,function(e,t,n,s){return{binding:e,code:"AMBIGUOUS_EXTERNAL_NAMESPACES",ids:s,message:`Ambiguous external namespace resolution: "${V(t)}" re-exports "${e}" from one of the external modules ${Te(s.map((e=>V(e))))}, guessing "${V(n)}".`,reexporter:t}}(e,this.id,n.module.id,t.map((e=>e.module.id)))),[n,!0]}return s?[s]:[null]}includeAndGetAdditionalMergedNamespaces(){const e=new Set,t=new Set;for(const n of[this,...this.exportAllModules])if(n instanceof an){const[t]=n.getVariableForExportName("*");t.include(),this.includedImports.add(t),e.add(t)}else if(n.info.syntheticNamedExports){const e=n.getSyntheticNamespace();e.include(),this.includedImports.add(e),t.add(e)}return[...t,...e]}includeDynamicImport(e){const t=this.dynamicImports.find((t=>t.node===e)).resolution;if(t instanceof ra){t.includedDynamicImporters.push(this);const n=this.options.treeshake?e.getDeterministicImportedNames():void 0;n?t.includeExportsByNames(n):t.includeAllExports(!0)}}includeVariable(e){const t=e.module;if(e.included)t instanceof ra&&t!==this&&ia(e,this);else if(e.include(),this.graph.needsTreeshakingPass=!0,t instanceof ra&&(t.isExecuted||ta(t),t!==this)){const t=ia(e,this);for(const e of t)e.isExecuted||ta(e)}}includeVariableInModule(e){this.includeVariable(e);const t=e.module;t&&t!==this&&this.includedImports.add(e)}shimMissingExport(e){var t,n;this.options.onLog(Pe,(t=this.id,{binding:n=e,code:"SHIMMED_EXPORT",exporter:t,message:`Missing export "${n}" has been shimmed in module "${V(t)}".`})),this.exports.set(e,na)}tryParse(){try{return To(this.info.code)}catch(e){return this.error(Qt(e,this.id),e.pos)}}async tryParseAsync(){try{return await zo(this.info.code)}catch(e){return this.error(Qt(e,this.id),e.pos)}}}function oa(e,t,n){if(e.module instanceof ra&&e.module!==n){const s=e.module.cycles;if(s.size>0){const i=n.cycles;for(const r of i)if(s.has(r)){t.alternativeReexportModules.set(e,n);break}}}}const aa=e=>e&&new Map(Array.from(e,(([e,t])=>[e,new Set(t)])));function la(e){return e.endsWith(".js")?e.slice(0,-3):e}function ca(e,t){return e.autoId?`${e.basePath?e.basePath+"/":""}${la(t)}`:e.id??""}function da(e,t,n,s,i,r,o,a="return "){const{_:l,getDirectReturnFunction:c,getFunctionIntro:d,getPropertyAccess:u,n:h,s:p}=i;if(!n)return`${h}${h}${a}${function(e,t,n,s,i){if(e.length>0)return e[0].local;for(const{defaultVariableName:e,importPath:r,isChunk:o,name:a,namedExportsMode:l,namespaceVariableName:c,reexports:d}of t)if(d)return ua(a,d[0].imported,l,o,e,c,n,r,s,i)}(e,t,s,o,u)};`;let f="";for(const{defaultVariableName:e,importPath:i,isChunk:a,name:d,namedExportsMode:p,namespaceVariableName:m,reexports:g}of t)if(g&&n)for(const t of g)if("*"!==t.reexported){const n=ua(d,t.imported,p,a,e,m,s,i,o,u);if(f&&(f+=h),"*"!==t.imported&&t.needsLiveBinding){const[e,s]=c([],{functionReturn:!0,lineBreakIndent:null,name:null});f+=`Object.defineProperty(exports,${l}'${t.reexported}',${l}{${h}${r}enumerable:${l}true,${h}${r}get:${l}${e}${n}${s}${h}});`}else f+=`exports${u(t.reexported)}${l}=${l}${n};`}for(const{exported:t,local:n}of e){const e=`exports${u(t)}`;e!==n&&(f&&(f+=h),f+=`${e}${l}=${l}${n};`)}for(const{name:e,reexports:s}of t)if(s&&n)for(const t of s)if("*"===t.reexported){f&&(f+=h);const n=`{${h}${r}if${l}(k${l}!==${l}'default'${l}&&${l}!Object.prototype.hasOwnProperty.call(exports,${l}k))${l}${fa(e,t.needsLiveBinding,r,i)}${p}${h}}`;f+=`Object.keys(${e}).forEach(${d(["k"],{isAsync:!1,name:null})}${n});`}return f?`${h}${h}${f}`:""}function ua(e,t,n,s,i,r,o,a,l,c){if("default"===t){if(!s){const t=o(a),n=pr[t]?i:e;return fr(t,l)?`${n}${c("default")}`:n}return n?`${e}${c("default")}`:e}return"*"===t?(s?!n:mr[o(a)])?r:e:`${e}${c(t)}`}function ha(e){return e([["value","true"]],{lineBreakIndent:null})}function pa(e,t,n,{_:s,getObject:i}){if(e){if(t)return n?`Object.defineProperties(exports,${s}${i([["__esModule",ha(i)],[null,`[Symbol.toStringTag]:${s}${Or(i)}`]],{lineBreakIndent:null})});`:`Object.defineProperty(exports,${s}'__esModule',${s}${ha(i)});`;if(n)return`Object.defineProperty(exports,${s}Symbol.toStringTag,${s}${Or(i)});`}return""}const fa=(e,t,n,{_:s,getDirectReturnFunction:i,n:r})=>{if(t){const[t,o]=i([],{functionReturn:!0,lineBreakIndent:null,name:null});return`Object.defineProperty(exports,${s}k,${s}{${r}${n}${n}enumerable:${s}true,${r}${n}${n}get:${s}${t}${e}[k]${o}${r}${n}})`}return`exports[k]${s}=${s}${e}[k]`};function ma(e,t,n,s,i,r,o,a){const{_:l,cnst:c,n:d}=a,u=new Set,h=[],p=(e,t,n)=>{u.add(t),h.push(`${c} ${e}${l}=${l}/*#__PURE__*/${t}(${n});`)};for(const{defaultVariableName:n,imports:s,importPath:i,isChunk:r,name:o,namedExportsMode:a,namespaceVariableName:l,reexports:c}of e)if(r){for(const{imported:e,reexported:t}of[...s||[],...c||[]])if("*"===e&&"*"!==t){a||p(l,dr,o);break}}else{const e=t(i);let r=!1,a=!1;for(const{imported:t,reexported:i}of[...s||[],...c||[]]){let s,c;"default"===t?r||(r=!0,n!==l&&(c=n,s=pr[e])):"*"!==t||"*"===i||a||(a=!0,s=mr[e],c=l),s&&p(c,s,o)}}return`${yr(u,r,o,a,n,s,i)}${h.length>0?`${h.join(d)}${d}${d}`:""}`}function ga(e,t){return"."!==e[0]?e:t?(n=e).endsWith(".js")?n:n+".js":la(e);var n}const ya=new Set([...s(["assert","async_hooks","buffer","child_process","cluster","console","constants","crypto","dgram","diagnostics_channel","dns","domain","events","fs","http","http2","https","inspector","module","net","os","path","perf_hooks","process","punycode","querystring","readline","repl","stream","string_decoder","timers","tls","trace_events","tty","url","util","v8","vm","wasi","worker_threads","zlib"]),"assert/strict","dns/promises","fs/promises","path/posix","path/win32","readline/promises","stream/consumers","stream/promises","stream/web","timers/promises","util/types"]);function ba(e,t){const n=t.map((({importPath:e})=>e)).filter((e=>ya.has(e)||e.startsWith("node:")));0!==n.length&&e(Pe,function(e){return{code:wt,ids:e,message:`Creating a browser bundle that depends on Node.js built-in modules (${Te(e)}). You might need to include https://github.com/FredKSchott/rollup-plugin-polyfill-node`}}(n))}const Ea=(e,t)=>e.split(".").map(t).join("");function xa(e,t,n,s,{_:i,getPropertyAccess:r}){const o=e.split(".");o[0]=("function"==typeof n?n(o[0]):n[o[0]])||o[0];const a=o.pop();let l=t,c=[...o.map((e=>(l+=r(e),`${l}${i}=${i}${l}${i}||${i}{}`))),`${l}${r(a)}`].join(`,${i}`)+`${i}=${i}${s}`;return o.length>0&&(c=`(${c})`),c}function $a(e){let t=e.length;for(;t--;){const{imports:n,reexports:s}=e[t];if(n||s)return e.slice(0,t+1)}return[]}const Aa=({dependencies:e,exports:t})=>{const n=new Set(t.map((e=>e.exported)));n.add("default");for(const{reexports:t}of e)if(t)for(const e of t)"*"!==e.reexported&&n.add(e.reexported);return n},Sa=(e,t,{_:n,cnst:s,getObject:i,n:r})=>e?`${r}${t}${s} _starExcludes${n}=${n}${i([...e].map((e=>[e,"1"])),{lineBreakIndent:{base:t,t:t}})};`:"",wa=(e,t,{_:n,n:s})=>e.length>0?`${s}${t}var ${e.join(`,${n}`)};`:"",va=(e,t,n)=>Ia(e.filter((e=>e.hoisted)).map((e=>({name:e.exported,value:e.local}))),t,n);function Ia(e,t,{_:n,n:s}){return 0===e.length?"":1===e.length?`exports('${e[0].name}',${n}${e[0].value});${s}${s}`:`exports({${s}`+e.map((({name:e,value:s})=>`${t}${e}:${n}${s}`)).join(`,${s}`)+`${s}});${s}${s}`}const Pa=(e,t,n)=>Ia(e.filter((e=>e.expression)).map((e=>({name:e.exported,value:e.local}))),t,n),ka=(e,t,n)=>Ia(e.filter((e=>e.local===lo)).map((e=>({name:e.exported,value:lo}))),t,n);function Na(e,t,n){return e?`${t}${Ea(e,n)}`:"null"}var Ca={amd:function(e,{accessedGlobals:t,dependencies:n,exports:s,hasDefaultExport:i,hasExports:r,id:o,indent:a,intro:l,isEntryFacade:c,isModuleFacade:d,namedExportsMode:u,log:h,outro:p,snippets:f},{amd:m,esModule:g,externalLiveBindings:y,freeze:b,generatedCode:{symbols:E},interop:x,strict:$}){ba(h,n);const A=n.map((e=>`'${ga(e.importPath,m.forceJsExtensionForImports)}'`)),S=n.map((e=>e.name)),{n:w,getNonArrowFunctionIntro:v,_:I}=f;u&&r&&(S.unshift("exports"),A.unshift("'exports'")),t.has("require")&&(S.unshift("require"),A.unshift("'require'")),t.has("module")&&(S.unshift("module"),A.unshift("'module'"));const P=ca(m,o),k=(P?`'${P}',${I}`:"")+(A.length>0?`[${A.join(`,${I}`)}],${I}`:""),N=$?`${I}'use strict';`:"";e.prepend(`${l}${ma(n,x,y,b,E,t,a,f)}`);const C=da(s,n,u,x,f,a,y);let M=pa(u&&r,c&&(!0===g||"if-default-prop"===g&&i),d&&E,f);M&&(M=w+w+M),e.append(`${C}${M}${p}`).indent(a).prepend(`${m.define}(${k}(${v(S,{isAsync:!1,name:null})}{${N}${w}${w}`).append(`${w}${w}}));`)},cjs:function(e,{accessedGlobals:t,dependencies:n,exports:s,hasDefaultExport:i,hasExports:r,indent:o,intro:a,isEntryFacade:l,isModuleFacade:c,namedExportsMode:d,outro:u,snippets:h},{compact:p,esModule:f,externalLiveBindings:m,freeze:g,interop:y,generatedCode:{symbols:b},strict:E}){const{_:x,n:$}=h,A=E?`'use strict';${$}${$}`:"";let S=pa(d&&r,l&&(!0===f||"if-default-prop"===f&&i),c&&b,h);S&&(S+=$+$);const w=function(e,{_:t,cnst:n,n:s},i){let r="",o=!1;for(const{importPath:a,name:l,reexports:c,imports:d}of e)c||d?(r+=i&&o?",":`${r?`;${s}`:""}${n} `,o=!0,r+=`${l}${t}=${t}require('${a}')`):(r&&(r+=i&&!o?",":`;${s}`),o=!1,r+=`require('${a}')`);if(r)return`${r};${s}${s}`;return""}(n,h,p),v=ma(n,y,m,g,b,t,o,h);e.prepend(`${A}${a}${S}${w}${v}`);const I=da(s,n,d,y,h,o,m,`module.exports${x}=${x}`);e.append(`${I}${u}`)},es:function(e,{accessedGlobals:t,indent:n,intro:s,outro:i,dependencies:r,exports:o,snippets:a},{externalLiveBindings:l,freeze:c,generatedCode:{symbols:d}}){const{n:u}=a,h=function(e,{_:t}){const n=[];for(const{importPath:s,reexports:i,imports:r,name:o,attributes:a}of e){const e=`'${s}'${a?`${t}assert${t}${a}`:""};`;if(i||r){if(r){let s=null,i=null;const o=[];for(const e of r)"default"===e.imported?s=e:"*"===e.imported?i=e:o.push(e);i&&n.push(`import${t}*${t}as ${i.local} from${t}${e}`),s&&0===o.length?n.push(`import ${s.local} from${t}${e}`):o.length>0&&n.push(`import ${s?`${s.local},${t}`:""}{${t}${o.map((e=>e.imported===e.local?e.imported:`${e.imported} as ${e.local}`)).join(`,${t}`)}${t}}${t}from${t}${e}`)}if(i){let s=null;const a=[],l=[];for(const e of i)"*"===e.reexported?s=e:"*"===e.imported?a.push(e):l.push(e);if(s&&n.push(`export${t}*${t}from${t}${e}`),a.length>0){r&&r.some((e=>"*"===e.imported&&e.local===o))||n.push(`import${t}*${t}as ${o} from${t}${e}`);for(const e of a)n.push(`export${t}{${t}${o===e.reexported?o:`${o} as ${e.reexported}`} };`)}l.length>0&&n.push(`export${t}{${t}${l.map((e=>e.imported===e.reexported?e.imported:`${e.imported} as ${e.reexported}`)).join(`,${t}`)}${t}}${t}from${t}${e}`)}}else n.push(`import${t}${e}`)}return n}(r,a);h.length>0&&(s+=h.join(u)+u+u),(s+=yr(null,t,n,a,l,c,d))&&e.prepend(s);const p=function(e,{_:t,cnst:n}){const s=[],i=[];for(const r of e)r.expression&&s.push(`${n} ${r.local}${t}=${t}${r.expression};`),i.push(r.exported===r.local?r.local:`${r.local} as ${r.exported}`);i.length>0&&s.push(`export${t}{${t}${i.join(`,${t}`)}${t}};`);return s}(o,a);p.length>0&&e.append(u+u+p.join(u).trim()),i&&e.append(i),e.trim()},iife:function(e,{accessedGlobals:t,dependencies:n,exports:s,hasDefaultExport:i,hasExports:r,indent:o,intro:a,namedExportsMode:l,log:c,outro:d,snippets:u},{compact:h,esModule:p,extend:f,freeze:m,externalLiveBindings:g,globals:y,interop:b,name:E,generatedCode:{symbols:x},strict:$}){const{_:A,getNonArrowFunctionIntro:S,getPropertyAccess:w,n:v}=u,I=E&&E.includes("."),P=!f&&!I;if(E&&P&&(ve(k=E)||we.test(k)))return Qe(function(e){return{code:ut,message:`Given name "${e}" is not a legal JS identifier. If you need this, you can try "output.extend: true".`,url:ze(We)}}(E));var k;ba(c,n);const N=$a(n),C=N.map((e=>e.globalName||"null")),M=N.map((e=>e.name));r&&!E&&c(Pe,{code:St,message:'If you do not supply "output.name", you may not be able to access the exports of an IIFE bundle.',url:ze(Je)}),l&&r&&(f?(C.unshift(`this${Ea(E,w)}${A}=${A}this${Ea(E,w)}${A}||${A}{}`),M.unshift("exports")):(C.unshift("{}"),M.unshift("exports")));const O=$?`${o}'use strict';${v}`:"",D=ma(n,b,g,m,x,t,o,u);e.prepend(`${a}${D}`);let R=`(${S(M,{isAsync:!1,name:null})}{${v}${O}${v}`;r&&(!E||f&&l||(R=(P?`var ${E}`:`this${Ea(E,w)}`)+`${A}=${A}${R}`),I&&(R=function(e,t,n,{_:s,getPropertyAccess:i,s:r},o){const a=e.split(".");a[0]=("function"==typeof n?n(a[0]):n[a[0]])||a[0],a.pop();let l=t;return a.map((e=>(l+=i(e),`${l}${s}=${s}${l}${s}||${s}{}${r}`))).join(o?",":"\n")+(o&&a.length>0?";":"\n")}(E,"this",y,u,h)+R));let L=`${v}${v}})(${C.join(`,${A}`)});`;r&&!f&&l&&(L=`${v}${v}${o}return exports;${L}`);const _=da(s,n,l,b,u,o,g);let B=pa(l&&r,!0===p||"if-default-prop"===p&&i,x,u);B&&(B=v+v+B),e.append(`${_}${B}${d}`).indent(o).prepend(R).append(L)},system:function(e,{accessedGlobals:t,dependencies:n,exports:s,hasExports:i,indent:r,intro:o,snippets:a,outro:l,usesTopLevelAwait:c},{externalLiveBindings:d,freeze:u,name:h,generatedCode:{symbols:p},strict:f,systemNullSetters:m}){const{_:g,getFunctionIntro:y,getNonArrowFunctionIntro:b,n:E,s:x}=a,{importBindings:$,setters:A,starExcludes:S}=function(e,t,n,{_:s,cnst:i,getObject:r,getPropertyAccess:o,n:a}){const l=[],c=[];let d=null;for(const{imports:u,reexports:h}of e){const p=[];if(u)for(const e of u)l.push(e.local),"*"===e.imported?p.push(`${e.local}${s}=${s}module;`):p.push(`${e.local}${s}=${s}module${o(e.imported)};`);if(h){const a=[];let l=!1;for(const{imported:e,reexported:t}of h)"*"===t?l=!0:a.push([t,"*"===e?"module":`module${o(e)}`]);if(a.length>1||l){const o=r(a,{lineBreakIndent:null});l?(d||(d=Aa({dependencies:e,exports:t})),p.push(`${i} setter${s}=${s}${o};`,`for${s}(${i} name in module)${s}{`,`${n}if${s}(!_starExcludes[name])${s}setter[name]${s}=${s}module[name];`,"}","exports(setter);")):p.push(`exports(${o});`)}else{const[e,t]=a[0];p.push(`exports('${e}',${s}${t});`)}}c.push(p.join(`${a}${n}${n}${n}`))}return{importBindings:l,setters:c,starExcludes:d}}(n,s,r,a),w=h?`'${h}',${g}`:"",v=t.has("module")?["exports","module"]:i?["exports"]:[];let I=`System.register(${w}[`+n.map((({importPath:e})=>`'${e}'`)).join(`,${g}`)+`],${g}(${b(v,{isAsync:!1,name:null})}{${E}${r}${f?"'use strict';":""}`+Sa(S,r,a)+wa($,r,a)+`${E}${r}return${g}{${A.length>0?`${E}${r}${r}setters:${g}[${A.map((e=>e?`${y(["module"],{isAsync:!1,name:null})}{${E}${r}${r}${r}${e}${E}${r}${r}}`:m?"null":`${y([],{isAsync:!1,name:null})}{}`)).join(`,${g}`)}],`:""}${E}`;I+=`${r}${r}execute:${g}(${b([],{isAsync:c,name:null})}{${E}${E}`;const P=`${r}${r}})${E}${r}}${x}${E}}));`;e.prepend(o+yr(null,t,r,a,d,u,p)+va(s,r,a)).append(`${l}${E}${E}`+Pa(s,r,a)+ka(s,r,a)).indent(`${r}${r}${r}`).append(P).prepend(I)},umd:function(e,{accessedGlobals:t,dependencies:n,exports:s,hasDefaultExport:i,hasExports:r,id:o,indent:a,intro:l,namedExportsMode:c,log:d,outro:u,snippets:h},{amd:p,compact:f,esModule:m,extend:g,externalLiveBindings:y,freeze:b,interop:E,name:x,generatedCode:{symbols:$},globals:A,noConflict:S,strict:w}){const{_:v,cnst:I,getFunctionIntro:P,getNonArrowFunctionIntro:k,getPropertyAccess:N,n:C,s:M}=h,O=f?"f":"factory",D=f?"g":"global";if(r&&!x)return Qe({code:St,message:'You must supply "output.name" for UMD bundles that have exports so that the exports are accessible in environments without a module loader.',url:ze(Je)});ba(d,n);const R=n.map((e=>`'${ga(e.importPath,p.forceJsExtensionForImports)}'`)),L=n.map((e=>`require('${e.importPath}')`)),_=$a(n),B=_.map((e=>Na(e.globalName,D,N))),T=_.map((e=>e.name));c&&(r||S)&&(R.unshift("'exports'"),L.unshift("exports"),B.unshift(xa(x,D,A,(g?`${Na(x,D,N)}${v}||${v}`:"")+"{}",h)),T.unshift("exports"));const z=ca(p,o),V=(z?`'${z}',${v}`:"")+(R.length>0?`[${R.join(`,${v}`)}],${v}`:""),F=p.define,j=!c&&r?`module.exports${v}=${v}`:"",U=w?`${v}'use strict';${C}`:"";let G;if(S){const e=f?"e":"exports";let t;if(!c&&r)t=`${I} ${e}${v}=${v}${xa(x,D,A,`${O}(${B.join(`,${v}`)})`,h)};`;else{t=`${I} ${e}${v}=${v}${B.shift()};${C}${a}${a}${O}(${[e,...B].join(`,${v}`)});`}G=`(${P([],{isAsync:!1,name:null})}{${C}${a}${a}${I} current${v}=${v}${function(e,t,{_:n,getPropertyAccess:s}){let i=t;return e.split(".").map((e=>i+=s(e))).join(`${n}&&${n}`)}(x,D,h)};${C}${a}${a}${t}${C}${a}${a}${e}.noConflict${v}=${v}${P([],{isAsync:!1,name:null})}{${v}${Na(x,D,N)}${v}=${v}current;${v}return ${e}${M}${v}};${C}${a}})()`}else G=`${O}(${B.join(`,${v}`)})`,!c&&r&&(G=xa(x,D,A,G,h));const W=r||S&&c||B.length>0,H=[O];W&&H.unshift(D);const q=W?`this,${v}`:"",K=W?`(${D}${v}=${v}typeof globalThis${v}!==${v}'undefined'${v}?${v}globalThis${v}:${v}${D}${v}||${v}self,${v}`:"",Y=W?")":"",X=W?`${a}typeof exports${v}===${v}'object'${v}&&${v}typeof module${v}!==${v}'undefined'${v}?${v}${j}${O}(${L.join(`,${v}`)})${v}:${C}`:"",J=`(${k(H,{isAsync:!1,name:null})}{${C}`+X+`${a}typeof ${F}${v}===${v}'function'${v}&&${v}${F}.amd${v}?${v}${F}(${V}${O})${v}:${C}`+`${a}${K}${G}${Y};${C}`+`})(${q}(${k(T,{isAsync:!1,name:null})}{${U}${C}`,Z=C+C+"}));";e.prepend(`${l}${ma(n,E,y,b,$,t,a,h)}`);const Q=da(s,n,c,E,h,a,y);let ee=pa(c&&r,!0===m||"if-default-prop"===m&&i,$,h);ee&&(ee=C+C+ee),e.append(`${Q}${ee}${u}`).trim().indent(a).append(Z).prepend(J)}};const Ma=(e,t)=>t?`${e}\n${t}`:e,Oa=(e,t)=>t?`${e}\n\n${t}`:e;async function Da(e,t,n){try{let[s,i,r,o]=await Promise.all([t.hookReduceValue("banner",e.banner(n),[n],Ma),t.hookReduceValue("footer",e.footer(n),[n],Ma),t.hookReduceValue("intro",e.intro(n),[n],Oa),t.hookReduceValue("outro",e.outro(n),[n],Oa)]);return r&&(r+="\n\n"),o&&(o=`\n\n${o}`),s&&(s+="\n"),i&&(i="\n"+i),{banner:s,footer:i,intro:r,outro:o}}catch(e){return Qe((s=e.message,i=e.hook,r=e.plugin,{code:tt,message:`Could not retrieve "${i}". Check configuration of plugin "${r}".\n\tError Message: ${s}`}))}var s,i,r}const Ra={amd:Ba,cjs:Ba,es:_a,iife:Ba,system:_a,umd:Ba};function La(e,t,n,s,i,r,o,a,l,c,d,u,h,p){const f=[...e].reverse();for(const e of f)e.scope.addUsedOutsideNames(s,i,u,h);!function(e,t,n){for(const s of t){for(const t of s.scope.variables.values())t.included&&!(t.renderBaseName||t instanceof so&&t.getOriginalVariable()!==t)&&t.setRenderNames(null,ks(t.name,e,t.forbiddenNames));if(n.has(s)){const t=s.namespace;t.setRenderNames(null,ks(t.name,e,t.forbiddenNames))}}}(s,f,p),Ra[i](s,n,t,r,o,a,l,c,d);for(const e of f)e.scope.deconflict(i,u,h)}function _a(e,t,n,s,i,r,o,a,l){for(const t of n.dependencies)(i||t instanceof G)&&(t.variableName=ks(t.suggestedVariableName,e,null));for(const n of t){const t=n.module,s=n.name;n.isNamespace&&(i||t instanceof an)?n.setRenderNames(null,(t instanceof an?a.get(t):o.get(t)).variableName):t instanceof an&&"default"===s?n.setRenderNames(null,ks([...t.exportedVariables].some((([e,t])=>"*"===t&&e.included))?t.suggestedVariableName+"__default":t.suggestedVariableName,e,n.forbiddenNames)):n.setRenderNames(null,ks(s,e,n.forbiddenNames))}for(const t of l)t.setRenderNames(null,ks(t.name,e,t.forbiddenNames))}function Ba(e,t,{deconflictedDefault:n,deconflictedNamespace:s,dependencies:i},r,o,a,l,c){for(const t of i)t.variableName=ks(t.suggestedVariableName,e,null);for(const t of s)t.namespaceVariableName=ks(`${t.suggestedVariableName}__namespace`,e,null);for(const t of n)t.defaultVariableName=s.has(t)&&gr(r(t.id),a)?t.namespaceVariableName:ks(`${t.suggestedVariableName}__default`,e,null);for(const e of t){const t=e.module;if(t instanceof an){const n=c.get(t),s=e.name;if("default"===s){const s=r(t.id),i=pr[s]?n.defaultVariableName:n.variableName;fr(s,a)?e.setRenderNames(i,"default"):e.setRenderNames(null,i)}else"*"===s?e.setRenderNames(null,mr[r(t.id)]?n.namespaceVariableName:n.variableName):e.setRenderNames(n.variableName,null)}else{const n=l.get(t);o&&e.isNamespace?e.setRenderNames(null,"default"===n.exportMode?n.namespaceVariableName:n.variableName):"default"===n.exportMode?e.setRenderNames(null,n.variableName):e.setRenderNames(n.variableName,n.getVariableExportName(e))}}}function Ta(e,{exports:t,name:n,format:s},i,r){const o=e.getExportNames();if("default"===t){if(1!==o.length||"default"!==o[0])return Qe(Ht("default",o,i))}else if("none"===t&&o.length>0)return Qe(Ht("none",o,i));return"auto"===t&&(0===o.length?t="none":1===o.length&&"default"===o[0]?t="default":("es"!==s&&"system"!==s&&o.includes("default")&&r(Pe,function(e,t){return{code:It,id:e,message:`Entry module "${V(e)}" is using named and default exports together. Consumers of your bundle will have to use \`${t||"chunk"}.default\` to access the default export, which may not be what you want. Use \`output.exports: "named"\` to disable this warning.`,url:ze(Ge)}}(i,n)),t="named")),t}function za(e){const t=e.split("\n"),n=t.filter((e=>/^\t+/.test(e))),s=t.filter((e=>/^ {2,}/.test(e)));if(0===n.length&&0===s.length)return null;if(n.length>=s.length)return"\t";const i=s.reduce(((e,t)=>{const n=/^ +/.exec(t)[0].length;return Math.min(n,e)}),1/0);return" ".repeat(i)}function Va(e,t,n,s,i,r){const o=e.getDependenciesToBeIncluded();for(const e of o){if(e instanceof an){t.push(r.get(e));continue}const o=i.get(e);o===s?n.has(e)||(n.add(e),Va(e,t,n,s,i,r)):t.push(o)}}const Fa="!~{",ja="}~",Ua=new RegExp(`${Fa}[0-9a-zA-Z_$]{1,17}${ja}`,"g"),Ga=(e,t)=>e.replace(Ua,(e=>t.get(e)||e)),Wa=(e,t,n)=>e.replace(Ua,(e=>e===t?n:e)),Ha=(e,t)=>{const n=new Set,s=e.replace(Ua,(e=>t.has(e)?(n.add(e),`${Fa}${"0".repeat(e.length-5)}${ja}`):e));return{containedPlaceholders:n,transformedCode:s}},qa=Symbol("bundleKeys"),Ka={type:"placeholder"};function Ya(e,t,n){return F(e)?Qe(rn(`Invalid pattern "${e}" for "${t}", patterns can be neither absolute nor relative paths. If you want your files to be stored in a subdirectory, write its name without a leading slash like this: subdirectory/pattern.`)):e.replace(/\[(\w+)(:\d+)?]/g,((e,s,i)=>{if(!n.hasOwnProperty(s)||i&&"hash"!==s)return Qe(rn(`"[${s}${i||""}]" is not a valid placeholder in the "${t}" pattern.`));const r=n[s](i&&Number.parseInt(i.slice(1)));return F(r)?Qe(rn(`Invalid substitution "${r}" for placeholder "[${s}]" in "${t}" pattern, can be neither absolute nor relative path.`)):r}))}function Xa(e,{[qa]:t}){if(!t.has(e.toLowerCase()))return e;const n=O(e);e=e.slice(0,Math.max(0,e.length-n.length));let s,i=1;for(;t.has((s=e+ ++i+n).toLowerCase()););return s}const Ja=new Set([".js",".jsx",".ts",".tsx",".mjs",".mts",".cjs",".cts"]);function Za(e,t,n,s){const i="function"==typeof t?t(e.id):t[e.id];return i||(n?(s(Pe,(r=e.id,o=e.variableName,{code:$t,id:r,message:`No name was provided for external module "${r}" in "output.globals" – guessing "${o}".`,names:[o],url:ze(qe)})),e.variableName):void 0);var r,o}class Qa{constructor(e,t,n,s,i,r,o,a,l,c,d,u,h,p,f){this.orderedModules=e,this.inputOptions=t,this.outputOptions=n,this.unsetOptions=s,this.pluginDriver=i,this.modulesById=r,this.chunkByModule=o,this.externalChunkByModule=a,this.facadeChunkByModule=l,this.includedNamespaces=c,this.manualChunkAlias=d,this.getPlaceholder=u,this.bundle=h,this.inputBase=p,this.snippets=f,this.entryModules=[],this.exportMode="named",this.facadeModule=null,this.namespaceVariableName="",this.variableName="",this.accessedGlobalsByScope=new Map,this.dependencies=new Set,this.dynamicEntryModules=[],this.dynamicName=null,this.exportNamesByVariable=new Map,this.exports=new Set,this.exportsByName=new Map,this.fileName=null,this.implicitEntryModules=[],this.implicitlyLoadedBefore=new Set,this.imports=new Set,this.includedDynamicImports=null,this.includedReexportsByModule=new Map,this.isEmpty=!0,this.name=null,this.needsExportsShim=!1,this.preRenderedChunkInfo=null,this.preliminaryFileName=null,this.preliminarySourcemapFileName=null,this.renderedChunkInfo=null,this.renderedDependencies=null,this.renderedModules=Object.create(null),this.sortedExportNames=null,this.strictFacade=!1,this.execIndex=e.length>0?e[0].execIndex:1/0;const m=new Set(e);for(const t of e){o.set(t,this),t.namespace.included&&!n.preserveModules&&c.add(t),this.isEmpty&&t.isIncluded()&&(this.isEmpty=!1),(t.info.isEntry||n.preserveModules)&&this.entryModules.push(t);for(const e of t.includedDynamicImporters)m.has(e)||(this.dynamicEntryModules.push(t),t.info.syntheticNamedExports&&(c.add(t),this.exports.add(t.namespace)));t.implicitlyLoadedAfter.size>0&&this.implicitEntryModules.push(t)}this.suggestedVariableName=Ie(this.generateVariableName())}static generateFacade(e,t,n,s,i,r,o,a,l,c,d,u,h,p,f){const m=new Qa([],e,t,n,s,i,r,o,a,l,null,u,h,p,f);m.assignFacadeName(d,c),a.has(c)||a.set(c,m);for(const e of c.getDependenciesToBeIncluded())m.dependencies.add(e instanceof ra?r.get(e):o.get(e));return!m.dependencies.has(r.get(c))&&c.info.moduleSideEffects&&c.hasEffects()&&m.dependencies.add(r.get(c)),m.ensureReexportsAreAvailableForModule(c),m.facadeModule=c,m.strictFacade=!0,m}canModuleBeFacade(e,t){const n=e.getExportNamesByVariable();for(const e of this.exports)if(!n.has(e))return!1;for(const s of t)if(!(s.module===e||n.has(s)||s instanceof ho&&n.has(s.getBaseVariable())))return!1;return!0}finalizeChunk(e,t,n,s){const i=this.getRenderedChunkInfo(),r=e=>Ga(e,s),o=i.fileName,a=this.fileName=r(o);return{...i,code:e,dynamicImports:i.dynamicImports.map(r),fileName:a,implicitlyLoadedBefore:i.implicitlyLoadedBefore.map(r),importedBindings:Object.fromEntries(Object.entries(i.importedBindings).map((([e,t])=>[r(e),t]))),imports:i.imports.map(r),map:t,preliminaryFileName:o,referencedFiles:i.referencedFiles.map(r),sourcemapFileName:n}}generateExports(){this.sortedExportNames=null;const e=new Set(this.exports);if(null!==this.facadeModule&&(!1!==this.facadeModule.preserveSignature||this.strictFacade)){const t=this.facadeModule.getExportNamesByVariable();for(const[n,s]of t){this.exportNamesByVariable.set(n,[...s]);for(const e of s)this.exportsByName.set(e,n);e.delete(n)}}this.outputOptions.minifyInternalExports?function(e,t,n){let s=0;for(const i of e){let[e]=i.name;if(t.has(e))do{e=Ps(++s),49===e.charCodeAt(0)&&(s+=9*64**(e.length-1),e=Ps(s))}while(Se.has(e)||t.has(e));t.set(e,i),n.set(i,[e])}}(e,this.exportsByName,this.exportNamesByVariable):function(e,t,n){for(const s of e){let e=0,i=s.name;for(;t.has(i);)i=s.name+"$"+ ++e;t.set(i,s),n.set(s,[i])}}(e,this.exportsByName,this.exportNamesByVariable),(this.outputOptions.preserveModules||this.facadeModule&&this.facadeModule.info.isEntry)&&(this.exportMode=Ta(this,this.outputOptions,this.facadeModule.id,this.inputOptions.onLog))}generateFacades(){const e=[],t=new Set([...this.entryModules,...this.implicitEntryModules]),n=new Set(this.dynamicEntryModules.map((({namespace:e})=>e)));for(const e of t)if(e.preserveSignature)for(const t of e.getExportNamesByVariable().keys())this.chunkByModule.get(t.module)===this&&n.add(t);for(const s of t){const t=Array.from(new Set(s.chunkNames.filter((({isUserDefined:e})=>e)).map((({name:e})=>e))),(e=>({name:e})));if(0===t.length&&s.isUserDefinedEntryPoint&&t.push({}),t.push(...Array.from(s.chunkFileNames,(e=>({fileName:e})))),0===t.length&&t.push({}),!this.facadeModule){const e=!this.outputOptions.preserveModules&&("strict"===s.preserveSignature||"exports-only"===s.preserveSignature&&s.getExportNamesByVariable().size>0);e&&!this.canModuleBeFacade(s,n)||(this.facadeModule=s,this.facadeChunkByModule.set(s,this),s.preserveSignature&&(this.strictFacade=e),this.assignFacadeName(t.shift(),s,this.outputOptions.preserveModules))}for(const n of t)e.push(Qa.generateFacade(this.inputOptions,this.outputOptions,this.unsetOptions,this.pluginDriver,this.modulesById,this.chunkByModule,this.externalChunkByModule,this.facadeChunkByModule,this.includedNamespaces,s,n,this.getPlaceholder,this.bundle,this.inputBase,this.snippets))}for(const e of this.dynamicEntryModules)e.info.syntheticNamedExports||(!this.facadeModule&&this.canModuleBeFacade(e,n)?(this.facadeModule=e,this.facadeChunkByModule.set(e,this),this.strictFacade=!0,this.dynamicName=el(e)):this.facadeModule===e&&!this.strictFacade&&this.canModuleBeFacade(e,n)?this.strictFacade=!0:this.facadeChunkByModule.get(e)?.strictFacade||(this.includedNamespaces.add(e),this.exports.add(e.namespace)));return this.outputOptions.preserveModules||this.addNecessaryImportsForFacades(),e}getChunkName(){return this.name??=this.outputOptions.sanitizeFileName(this.getFallbackChunkName())}getExportNames(){return this.sortedExportNames??=[...this.exportsByName.keys()].sort()}getFileName(){return this.fileName||this.getPreliminaryFileName().fileName}getImportPath(e){return T(U(e,this.getFileName(),"amd"===this.outputOptions.format&&!this.outputOptions.amd.forceJsExtensionForImports,!0))}getPreliminaryFileName(){if(this.preliminaryFileName)return this.preliminaryFileName;let e,t=null;const{chunkFileNames:n,entryFileNames:s,file:i,format:r,preserveModules:o}=this.outputOptions;if(i)e=C(i);else if(null===this.fileName){const[i,a]=o||this.facadeModule?.isUserDefinedEntryPoint?[s,"output.entryFileNames"]:[n,"output.chunkFileNames"];e=Ya("function"==typeof i?i(this.getPreRenderedChunkInfo()):i,a,{format:()=>r,hash:e=>t||(t=this.getPlaceholder(a,e)),name:()=>this.getChunkName()}),t||(e=Xa(e,this.bundle))}else e=this.fileName;return t||(this.bundle[e]=Ka),this.preliminaryFileName={fileName:e,hashPlaceholder:t}}getPreliminarySourcemapFileName(){if(this.preliminarySourcemapFileName)return this.preliminarySourcemapFileName;let e=null,t=null;const{sourcemapFileNames:n,format:s}=this.outputOptions;if(!n)return null;{const[i,r]=[n,"output.sourcemapFileNames"];e=Ya("function"==typeof i?i(this.getPreRenderedChunkInfo()):i,r,{chunkhash:()=>this.getPreliminaryFileName().hashPlaceholder||"",format:()=>s,hash:e=>t||(t=this.getPlaceholder(r,e)),name:()=>this.getChunkName()}),t||(e=Xa(e,this.bundle))}return this.preliminarySourcemapFileName={fileName:e,hashPlaceholder:t}}getRenderedChunkInfo(){return this.renderedChunkInfo?this.renderedChunkInfo:this.renderedChunkInfo={...this.getPreRenderedChunkInfo(),dynamicImports:this.getDynamicDependencies().map(il),fileName:this.getFileName(),implicitlyLoadedBefore:Array.from(this.implicitlyLoadedBefore,il),importedBindings:nl(this.getRenderedDependencies(),il),imports:Array.from(this.dependencies,il),modules:this.renderedModules,referencedFiles:this.getReferencedFiles()}}getVariableExportName(e){return this.outputOptions.preserveModules&&e instanceof uo?"*":this.exportNamesByVariable.get(e)[0]}link(){this.dependencies=function(e,t,n,s){const i=[],r=new Set;for(let o=t.length-1;o>=0;o--){const a=t[o];if(!r.has(a)){const t=[];Va(a,t,r,e,n,s),i.unshift(t)}}const o=new Set;for(const e of i)for(const t of e)o.add(t);return o}(this,this.orderedModules,this.chunkByModule,this.externalChunkByModule);for(const e of this.orderedModules)this.addImplicitlyLoadedBeforeFromModule(e),this.setUpChunkImportsAndExportsForModule(e)}async render(){const{dependencies:e,exportMode:t,facadeModule:n,inputOptions:{onLog:s},outputOptions:i,pluginDriver:r,snippets:o}=this,{format:a,hoistTransitiveImports:l,preserveModules:c}=i;if(l&&!c&&null!==n)for(const t of e)t instanceof Qa&&this.inlineChunkDependencies(t);const d=this.getPreliminaryFileName(),u=this.getPreliminarySourcemapFileName(),{accessedGlobals:h,indent:p,magicString:f,renderedSource:m,usedModules:g,usesTopLevelAwait:y}=this.renderModules(d.fileName),b=[...this.getRenderedDependencies().values()],E="none"===t?[]:this.getChunkExportDeclarations(a);let x=E.length>0,$=!1;for(const e of b){const{reexports:t}=e;t?.length&&(x=!0,!$&&t.some((e=>"default"===e.reexported))&&($=!0),"es"===a&&(e.reexports=t.filter((({reexported:e})=>!E.find((({exported:t})=>t===e))))))}if(!$)for(const{exported:e}of E)if("default"===e){$=!0;break}const{intro:A,outro:S,banner:w,footer:v}=await Da(i,r,this.getRenderedChunkInfo());if(Ca[a](m,{accessedGlobals:h,dependencies:b,exports:E,hasDefaultExport:$,hasExports:x,id:d.fileName,indent:p,intro:A,isEntryFacade:c||null!==n&&n.info.isEntry,isModuleFacade:null!==n,log:s,namedExportsMode:"default"!==t,outro:S,snippets:o,usesTopLevelAwait:y},i),w&&f.prepend(w),"es"===a||"cjs"===a){const e=null!==n&&n.info.isEntry&&n.shebang;e&&f.prepend(`#!${e}\n`)}return v&&f.append(v),{chunk:this,magicString:f,preliminaryFileName:d,preliminarySourcemapFileName:u,usedModules:g}}addImplicitlyLoadedBeforeFromModule(e){const{chunkByModule:t,implicitlyLoadedBefore:n}=this;for(const s of e.implicitlyLoadedBefore){const e=t.get(s);e&&e!==this&&n.add(e)}}addNecessaryImportsForFacades(){for(const[e,t]of this.includedReexportsByModule)if(this.includedNamespaces.has(e))for(const e of t)this.imports.add(e)}assignFacadeName({fileName:e,name:t},n,s){e?this.fileName=e:this.name=this.outputOptions.sanitizeFileName(t||(s?this.getPreserveModulesChunkNameFromModule(n):el(n)))}checkCircularDependencyImport(e,t){const n=e.module;if(n instanceof ra){const l=this.chunkByModule.get(n);let c;do{if(c=t.alternativeReexportModules.get(e),c){this.chunkByModule.get(c)!==l&&this.inputOptions.onLog(Pe,(s=n.getExportNamesByVariable().get(e)?.[0]||"*",i=n.id,r=c.id,o=t.id,a=this.outputOptions.preserveModules,{code:"CYCLIC_CROSS_CHUNK_REEXPORT",exporter:i,id:o,message:`Export "${s}" of module "${V(i)}" was reexported through module "${V(r)}" while both modules are dependencies of each other and will end up in different chunks by current Rollup settings. This scenario is not well supported at the moment as it will produce a circular dependency between chunks and will likely lead to broken execution order.\nEither change the import in "${V(o)}" to point directly to the exporting module or ${a?'do not use "output.preserveModules"':'reconfigure "output.manualChunks"'} to ensure these modules end up in the same chunk.`,reexporter:r})),t=c}}while(c)}var s,i,r,o,a}ensureReexportsAreAvailableForModule(e){const t=[],n=e.getExportNamesByVariable();for(const s of n.keys()){const n=s instanceof ho,i=n?s.getBaseVariable():s;if(this.checkCircularDependencyImport(i,e),!(i instanceof uo&&this.outputOptions.preserveModules)){const e=i.module;if(e instanceof ra){const s=this.chunkByModule.get(e);s&&s!==this&&(s.exports.add(i),t.push(i),n&&this.imports.add(i))}}}t.length>0&&this.includedReexportsByModule.set(e,t)}generateVariableName(){if(this.manualChunkAlias)return this.manualChunkAlias;const e=this.entryModules[0]||this.implicitEntryModules[0]||this.dynamicEntryModules[0]||this.orderedModules[this.orderedModules.length-1];return e?el(e):"chunk"}getChunkExportDeclarations(e){const t=[];for(const n of this.getExportNames()){if("*"===n[0])continue;const s=this.exportsByName.get(n);if(!(s instanceof ho)){const t=s.module;if(t){const s=this.chunkByModule.get(t);if(s!==this){if(!s||"es"!==e)continue;const t=this.renderedDependencies.get(s);if(!t)continue;const{imports:i,reexports:r}=t,o=r?.find((({reexported:e})=>e===n)),a=i?.find((({imported:e})=>e===o?.imported));if(!a)continue}}}let i=null,r=!1,o=s.getName(this.snippets.getPropertyAccess);if(s instanceof Es){for(const e of s.declarations)if(e.parent instanceof Xi||e instanceof Ji&&e.declaration instanceof Xi){r=!0;break}}else s instanceof ho&&(i=o,"es"===e&&(o=s.renderName));t.push({exported:n,expression:i,hoisted:r,local:o})}return t}getDependenciesToBeDeconflicted(e,t,n){const s=new Set,i=new Set,r=new Set;for(const t of[...this.exportNamesByVariable.keys(),...this.imports])if(e||t.isNamespace){const o=t.module;if(o instanceof an){const a=this.externalChunkByModule.get(o);s.add(a),e&&("default"===t.name?pr[n(o.id)]&&i.add(a):"*"===t.name&&mr[n(o.id)]&&r.add(a))}else{const n=this.chunkByModule.get(o);n!==this&&(s.add(n),e&&"default"===n.exportMode&&t.isNamespace&&r.add(n))}}if(t)for(const e of this.dependencies)s.add(e);return{deconflictedDefault:i,deconflictedNamespace:r,dependencies:s}}getDynamicDependencies(){return this.getIncludedDynamicImports().map((e=>e.facadeChunk||e.chunk||e.externalChunk||e.resolution)).filter((e=>e!==this&&(e instanceof Qa||e instanceof G)))}getDynamicImportStringAndAttributes(e,t){if(e instanceof an){const n=this.externalChunkByModule.get(e);return[`'${n.getImportPath(t)}'`,n.getImportAttributes(this.snippets)]}return[e||"","es"===this.outputOptions.format&&this.outputOptions.externalImportAttributes||null]}getFallbackChunkName(){return this.manualChunkAlias?this.manualChunkAlias:this.dynamicName?this.dynamicName:this.fileName?z(this.fileName):z(this.orderedModules[this.orderedModules.length-1].id)}getImportSpecifiers(){const{interop:e}=this.outputOptions,t=new Map;for(const n of this.imports){const s=n.module;let i,r;if(s instanceof an){if(i=this.externalChunkByModule.get(s),r=n.name,"default"!==r&&"*"!==r&&"defaultOnly"===e(s.id))return Qe(nn(s.id,r,!1))}else i=this.chunkByModule.get(s),r=i.getVariableExportName(n);W(t,i,q).push({imported:r,local:n.getName(this.snippets.getPropertyAccess)})}return t}getIncludedDynamicImports(){if(this.includedDynamicImports)return this.includedDynamicImports;const e=[];for(const t of this.orderedModules)for(const{node:n,resolution:s}of t.dynamicImports)n.included&&e.push(s instanceof ra?{chunk:this.chunkByModule.get(s),externalChunk:null,facadeChunk:this.facadeChunkByModule.get(s),node:n,resolution:s}:s instanceof an?{chunk:null,externalChunk:this.externalChunkByModule.get(s),facadeChunk:null,node:n,resolution:s}:{chunk:null,externalChunk:null,facadeChunk:null,node:n,resolution:s});return this.includedDynamicImports=e}getPreRenderedChunkInfo(){if(this.preRenderedChunkInfo)return this.preRenderedChunkInfo;const{dynamicEntryModules:e,facadeModule:t,implicitEntryModules:n,orderedModules:s}=this;return this.preRenderedChunkInfo={exports:this.getExportNames(),facadeModuleId:t&&t.id,isDynamicEntry:e.length>0,isEntry:!!t?.info.isEntry,isImplicitEntry:n.length>0,moduleIds:s.map((({id:e})=>e)),name:this.getChunkName(),type:"chunk"}}getPreserveModulesChunkNameFromModule(e){const t=tl(e);if(t)return t;const{preserveModulesRoot:n,sanitizeFileName:s}=this.outputOptions,i=s(N(e.id.split(sl,1)[0])),r=O(i),o=Ja.has(r)?i.slice(0,-r.length):i;return P(o)?n&&R(o).startsWith(n)?o.slice(n.length).replace(/^[/\\]/,""):D(this.inputBase,o):`_virtual/${C(o)}`}getReexportSpecifiers(){const{externalLiveBindings:e,interop:t}=this.outputOptions,n=new Map;for(let s of this.getExportNames()){let i,r,o=!1;if("*"===s[0]){const n=s.slice(1);"defaultOnly"===t(n)&&this.inputOptions.onLog(Pe,sn(n)),o=e,i=this.externalChunkByModule.get(this.modulesById.get(n)),r=s="*"}else{const n=this.exportsByName.get(s);if(n instanceof ho)continue;const a=n.module;if(a instanceof ra){if(i=this.chunkByModule.get(a),i===this)continue;r=i.getVariableExportName(n),o=n.isReassigned}else{if(i=this.externalChunkByModule.get(a),r=n.name,"default"!==r&&"*"!==r&&"defaultOnly"===t(a.id))return Qe(nn(a.id,r,!0));o=e&&("default"!==r||fr(t(a.id),!0))}}W(n,i,q).push({imported:r,needsLiveBinding:o,reexported:s})}return n}getReferencedFiles(){const e=new Set;for(const t of this.orderedModules)for(const n of t.importMetas){const t=n.getReferencedFileName(this.pluginDriver);t&&e.add(t)}return[...e]}getRenderedDependencies(){if(this.renderedDependencies)return this.renderedDependencies;const e=this.getImportSpecifiers(),t=this.getReexportSpecifiers(),n=new Map,s=this.getFileName();for(const i of this.dependencies){const r=e.get(i)||null,o=t.get(i)||null,a=i instanceof G||"default"!==i.exportMode,l=i.getImportPath(s);n.set(i,{attributes:i instanceof G?i.getImportAttributes(this.snippets):null,defaultVariableName:i.defaultVariableName,globalName:i instanceof G&&("umd"===this.outputOptions.format||"iife"===this.outputOptions.format)&&Za(i,this.outputOptions.globals,null!==(r||o),this.inputOptions.onLog),importPath:l,imports:r,isChunk:i instanceof Qa,name:i.variableName,namedExportsMode:a,namespaceVariableName:i.namespaceVariableName,reexports:o})}return this.renderedDependencies=n}inlineChunkDependencies(e){for(const t of e.dependencies)this.dependencies.has(t)||(this.dependencies.add(t),t instanceof Qa&&this.inlineChunkDependencies(t))}renderModules(e){const{accessedGlobalsByScope:t,dependencies:n,exportNamesByVariable:s,includedNamespaces:i,inputOptions:{onLog:r},isEmpty:o,orderedModules:a,outputOptions:l,pluginDriver:c,renderedModules:d,snippets:u}=this,{compact:h,format:p,freeze:f,generatedCode:{symbols:m}}=l,{_:g,cnst:y,n:b}=u;this.setDynamicImportResolutions(e),this.setImportMetaResolutions(e),this.setIdentifierRenderResolutions();const x=new $({separator:`${b}${b}`}),A=function(e,t){if(!0!==t.indent)return t.indent;for(const t of e){const e=za(t.originalCode);if(null!==e)return e}return"\t"}(a,l),S=[];let w="";const v=new Set,I=new Map,P={accessedDocumentCurrentScript:!1,exportNamesByVariable:s,format:p,freeze:f,indent:A,pluginDriver:c,snippets:u,symbols:m,useOriginalName:null};let k=!1;for(const e of a){let n,s=0;if(e.isIncluded()||i.has(e)){const r=e.render(P);!P.accessedDocumentCurrentScript&&Fr.includes(p)&&this.accessedGlobalsByScope.get(e.scope)?.delete(hr),P.accessedDocumentCurrentScript=!1,({source:n}=r),k||=r.usesTopLevelAwait,s=n.length(),s&&(h&&n.lastLine().includes("//")&&n.append("\n"),I.set(e,n),x.addSource(n),S.push(e));const o=e.namespace;if(i.has(e)){const e=o.renderBlock(P);o.renderFirst()?w+=b+e:x.addSource(new E(e))}const a=t.get(e.scope);if(a)for(const e of a)v.add(e)}const{renderedExports:r,removedExports:o}=e.getRenderedExports();d[e.id]={get code(){return n?.toString()??null},originalLength:e.originalCode.length,removedExports:o,renderedExports:r,renderedLength:s}}w&&x.prepend(w+b+b),this.needsExportsShim&&x.prepend(`${b}${y} ${lo}${g}=${g}void 0;${b}${b}`);const N=h?x:x.trim();var C;return o&&0===this.getExportNames().length&&0===n.size&&r(Pe,{code:"EMPTY_BUNDLE",message:`Generated an empty chunk: "${C=this.getChunkName()}".`,names:[C]}),{accessedGlobals:v,indent:A,magicString:x,renderedSource:N,usedModules:S,usesTopLevelAwait:k}}setDynamicImportResolutions(e){const{accessedGlobalsByScope:t,outputOptions:n,pluginDriver:s,snippets:i}=this;for(const r of this.getIncludedDynamicImports())if(r.chunk){const{chunk:o,facadeChunk:a,node:l,resolution:c}=r;o===this?l.setInternalResolution(c.namespace):l.setExternalResolution((a||o).exportMode,c,n,i,s,t,`'${(a||o).getImportPath(e)}'`,!a?.strictFacade&&o.exportNamesByVariable.get(c.namespace)[0],null)}else{const{node:o,resolution:a}=r,[l,c]=this.getDynamicImportStringAndAttributes(a,e);o.setExternalResolution("external",a,n,i,s,t,l,!1,c)}}setIdentifierRenderResolutions(){const{format:e,generatedCode:{symbols:t},interop:n,preserveModules:s,externalLiveBindings:i}=this.outputOptions,r=new Set;for(const t of this.getExportNames()){const n=this.exportsByName.get(t);"es"!==e&&"system"!==e&&n.isReassigned&&!n.isId?n.setRenderNames("exports",t):n instanceof ho?r.add(n):n.setRenderNames(null,null)}for(const e of this.orderedModules)if(e.needsExportShim){this.needsExportsShim=!0;break}const o=new Set(["Object","Promise"]);switch(this.needsExportsShim&&o.add(lo),t&&o.add("Symbol"),e){case"system":o.add("module").add("exports");break;case"es":break;case"cjs":o.add("module").add("require").add("__filename").add("__dirname");default:o.add("exports");for(const e of Mr)o.add(e)}La(this.orderedModules,this.getDependenciesToBeDeconflicted("es"!==e&&"system"!==e,"amd"===e||"umd"===e||"iife"===e,n),this.imports,o,e,n,s,i,this.chunkByModule,this.externalChunkByModule,r,this.exportNamesByVariable,this.accessedGlobalsByScope,this.includedNamespaces)}setImportMetaResolutions(e){const{accessedGlobalsByScope:t,includedNamespaces:n,orderedModules:s,outputOptions:{format:i}}=this;for(const r of s){for(const n of r.importMetas)n.setResolution(i,t,e);n.has(r)&&r.namespace.prepare(t)}}setUpChunkImportsAndExportsForModule(e){const t=new Set(e.includedImports);if(!this.outputOptions.preserveModules&&this.includedNamespaces.has(e)){const n=e.namespace.getMemberVariables();for(const e of Object.values(n))e.included&&t.add(e)}for(let n of t){n instanceof so&&(n=n.getOriginalVariable()),n instanceof ho&&(n=n.getBaseVariable());const t=this.chunkByModule.get(n.module);t!==this&&(this.imports.add(n),n.module instanceof ra&&(this.checkCircularDependencyImport(n,e),n instanceof uo&&this.outputOptions.preserveModules||t.exports.add(n)))}(this.includedNamespaces.has(e)||e.info.isEntry&&!1!==e.preserveSignature||e.includedDynamicImporters.some((e=>this.chunkByModule.get(e)!==this)))&&this.ensureReexportsAreAvailableForModule(e);for(const{node:t,resolution:n}of e.dynamicImports)t.included&&n instanceof ra&&this.chunkByModule.get(n)===this&&!this.includedNamespaces.has(n)&&(this.includedNamespaces.add(n),this.ensureReexportsAreAvailableForModule(n))}}function el(e){return tl(e)??z(e.id)}function tl(e){return e.chunkNames.find((({isUserDefined:e})=>e))?.name??e.chunkNames[0]?.name}function nl(e,t){const n={};for(const[s,i]of e){const e=new Set;if(i.imports)for(const{imported:t}of i.imports)e.add(t);if(i.reexports)for(const{imported:t}of i.reexports)e.add(t);n[t(s)]=[...e]}return n}const sl=/[#?]/,il=e=>e.getFileName();function*rl(e){for(const t of e)yield*t}function ol(e,t,n,s){const{chunkDefinitions:i,modulesInManualChunks:r}=function(e){const t=[],n=new Set(e.keys()),s=Object.create(null);for(const[t,i]of e)al(t,s[i]||=[],n);for(const[e,n]of Object.entries(s))t.push({alias:e,modules:n});return{chunkDefinitions:t,modulesInManualChunks:n}}(t),{allEntries:o,dependentEntriesByModule:a,dynamicallyDependentEntriesByDynamicEntry:l,dynamicImportsByEntry:c}=function(e){const t=new Set,n=new Map,s=[],i=new Set(e);let r=0;for(const e of i){const o=new Set;s.push(o);const a=new Set([e]);for(const e of a){W(n,e,H).add(r);for(const t of e.getDependenciesToBeIncluded())t instanceof an||a.add(t);for(const{resolution:n}of e.dynamicImports)n instanceof ra&&n.includedDynamicImporters.length>0&&!i.has(n)&&(t.add(n),i.add(n),o.add(n));for(const n of e.implicitlyLoadedBefore)i.has(n)||(t.add(n),i.add(n))}r++}const o=[...i],{dynamicEntries:a,dynamicImportsByEntry:l}=function(e,t,n){const s=new Map,i=new Set;for(const[n,r]of e.entries())s.set(r,n),t.has(r)&&i.add(n);const r=[];for(const e of n){const t=new Set;for(const n of e)t.add(s.get(n));r.push(t)}return{dynamicEntries:i,dynamicImportsByEntry:r}}(o,t,s);return{allEntries:o,dependentEntriesByModule:n,dynamicallyDependentEntriesByDynamicEntry:ll(n,a,o),dynamicImportsByEntry:l}}(e),d=cl(function*(e,t){for(const[n,s]of e)t.has(n)||(yield{dependentEntries:s,modules:[n]})}(a,r));return function(e,t,n,s){const i=s.map((()=>0n)),r=s.map(((e,n)=>t.has(n)?-1n:0n));let o=1n;for(const{dependentEntries:t}of e){for(const e of t)i[e]|=o;o<<=1n}const a=t;for(const[e,t]of a){a.delete(e);const s=r[e];let o=s;for(const e of t)o&=i[e]|r[e];if(o!==s){r[e]=o;for(const t of n[e])W(a,t,H).add(e)}}o=1n;for(const{dependentEntries:t}of e){for(const e of t)(r[e]&o)===o&&t.delete(e);o<<=1n}}(d,l,c,o),i.push(...function(e,t,n,s){Jo("optimize chunks",3);const i=function(e,t,n){const s=[],i=[],r=new Map,o=[];let a=0n,l=1n;for(const{dependentEntries:t,modules:c}of e){const e={containedAtoms:l,correlatedAtoms:0n,dependencies:new Set,dependentChunks:new Set,dependentEntries:t,modules:c,pure:!0,size:0};let d=0,u=!0;for(const t of c)r.set(t,e),t.isIncluded()&&(u&&=!t.hasEffects(),d+=n>1?t.estimateSize():1);e.pure=u,e.size=d,o.push(d),u||(a|=l),(d<n?s:i).push(e),l<<=1n}if(0===s.length)return null;return a|=function(e,t,n,s){const i=new Map;let r=0n;const o=[];for(let e=0;e<n;e++)o.push(0n);for(const n of e){n.sort(hl);for(const e of n){const{dependencies:n,dependentEntries:a,modules:l}=e;for(const o of l)for(const a of o.getDependenciesToBeIncluded())if(a instanceof an)a.info.moduleSideEffects&&(e.containedAtoms|=W(i,a,(()=>{const e=s;return s<<=1n,r|=e,e})));else{const s=t.get(a);s&&s!==e&&(n.add(s),s.dependentChunks.add(e))}const{containedAtoms:c}=e;for(const e of a)o[e]|=c}}for(const t of e)for(const e of t){const{dependentEntries:t}=e;e.correlatedAtoms=-1n;for(const n of t)e.correlatedAtoms&=o[n]}return r}([i,s],r,t,l),{big:new Set(i),sideEffectAtoms:a,sizeByAtom:o,small:new Set(s)}}(e,t,n);if(!i)return Zo("optimize chunks",3),e;return n>1&&s("info",Jt(e.length,i.small.size,"Initially")),function(e,t){const{small:n}=e;for(const s of n){const i=dl(s,e,t<=1?1:1/0);if(i){const{containedAtoms:r,correlatedAtoms:o,modules:a,pure:l,size:c}=s;n.delete(s),ul(i,t,e).delete(i),i.modules.push(...a),i.size+=c,i.pure&&=l;const{dependencies:d,dependentChunks:u,dependentEntries:h}=i;i.correlatedAtoms&=o,i.containedAtoms|=r;for(const e of s.dependentEntries)h.add(e);for(const e of s.dependencies)d.add(e),e.dependentChunks.delete(s),e.dependentChunks.add(i);for(const e of s.dependentChunks)u.add(e),e.dependencies.delete(s),e.dependencies.add(i);d.delete(i),u.delete(i),ul(i,t,e).add(i)}}}(i,n),n>1&&s("info",Jt(i.small.size+i.big.size,i.small.size,"After merging chunks")),Zo("optimize chunks",3),[...i.small,...i.big]}(cl(d),o.length,n,s).map((({modules:e})=>({alias:null,modules:e})))),i}function al(e,t,n){const s=new Set([e]);for(const e of s){n.add(e),t.push(e);for(const t of e.dependencies)t instanceof an||n.has(t)||s.add(t)}}function ll(e,t,n){const s=new Map;for(const i of t){const t=W(s,i,H),r=n[i];for(const n of rl([r.includedDynamicImporters,r.implicitlyLoadedAfter]))for(const s of e.get(n))t.add(s)}return s}function cl(e){const t=Object.create(null);for(const{dependentEntries:n,modules:s}of e){let e=0n;for(const t of n)e|=1n<<BigInt(t);(t[String(e)]||={dependentEntries:new Set(n),modules:[]}).modules.push(...s)}return Object.values(t)}function dl(e,{big:t,sideEffectAtoms:n,sizeByAtom:s,small:i},r){let o=null;for(const a of rl([i,t])){if(e===a)continue;const t=pl(e,a,r,n,s);if(t<r){if(o=a,0===t)break;r=t}}return o}function ul(e,t,n){return e.size<t?n.small:n.big}function hl({size:e},{size:t}){return e-t}function pl(e,t,n,s,i){const r=fl(e,t,n,s,i);return r<n?r+fl(t,e,n-r,s,i):1/0}function fl(e,t,n,s,i){const{correlatedAtoms:r}=t;let o=e.containedAtoms;const a=o&s;if((r&a)!==a)return 1/0;const l=new Set(e.dependencies);for(const{dependencies:e,containedAtoms:n}of l){o|=n;const i=n&s;if((r&i)!==i)return 1/0;for(const n of e){if(n===t)return 1/0;l.add(n)}}return function(e,t,n){let s=0,i=0,r=1n;const{length:o}=n;for(;i<o;i++)if((e&r)===r&&(s+=n[i]),r<<=1n,s>=t)return 1/0;return s}(o&~r,n,i)}const ml=(e,t)=>e.execIndex>t.execIndex?1:-1;function gl(e,t,n){const s=Symbol(e.id),i=[e.id];let r=t;for(e.cycles.add(s);r!==e;)r.cycles.add(s),i.push(r.id),r=n.get(r);return i.push(i[0]),i.reverse(),i}const yl=(e,t)=>t?`(${e})`:e,bl=/^(?!\d)[\w$]+$/;class El{constructor(e,t){this.isOriginal=!0,this.filename=e,this.content=t}traceSegment(e,t,n){return{column:t,line:e,name:n,source:this}}}class xl{constructor(e,t){this.sources=t,this.names=e.names,this.mappings=e.mappings}traceMappings(){const e=[],t=new Map,n=[],s=[],i=new Map,r=[];for(const o of this.mappings){const a=[];for(const r of o){if(1===r.length)continue;const o=this.sources[r[1]];if(!o)continue;const l=o.traceSegment(r[2],r[3],5===r.length?this.names[r[4]]:"");if(l){const{column:o,line:c,name:d,source:{content:u,filename:h}}=l;let p=t.get(h);if(void 0===p)p=e.length,e.push(h),t.set(h,p),n[p]=u;else if(null==n[p])n[p]=u;else if(null!=u&&n[p]!==u)return Qe(tn(h));const f=[r[0],p,c,o];if(d){let e=i.get(d);void 0===e&&(e=s.length,s.push(d),i.set(d,e)),f[4]=e}a.push(f)}}r.push(a)}return{mappings:r,names:s,sources:e,sourcesContent:n}}traceSegment(e,t,n){const s=this.mappings[e];if(!s)return null;let i=0,r=s.length-1;for(;i<=r;){const e=i+r>>1,o=s[e];if(o[0]===t||i===r){if(1==o.length)return null;const e=this.sources[o[1]];return e?e.traceSegment(o[2],o[3],5===o.length?this.names[o[4]]:n):null}o[0]>t?r=e-1:i=e+1}return null}}function $l(e){return function(t,n){return n.missing?(e(Pe,(s=n.plugin,{code:Mt,message:`Sourcemap is likely to be incorrect: a plugin (${s}) was used to transform files, but didn't generate a sourcemap for the transformation. Consult the plugin documentation for help`,plugin:s,url:ze(Fe)})),new xl({mappings:[],names:[]},[t])):new xl(n,[t]);var s}}function Al(e,t,n,s,i){let r;if(n){const t=n.sources,s=n.sourcesContent||[],i=M(e)||".",o=n.sourceRoot||".",a=t.map(((e,t)=>new El(R(i,o,e),s[t])));r=new xl(n,a)}else r=new El(e,t);return s.reduce(i,r)}let Sl;function wl(e){let t;return"string"==typeof e?"undefined"==typeof Buffer?(Sl??=new TextEncoder,t=Sl.encode(e)):t=Buffer.from(e):t=e,function(e){let t,n;try{const r=bo.__wbindgen_add_to_stack_pointer(-16);bo.xxhashBase64Url(r,Po(e));var s=Oo()[r/4+0],i=Oo()[r/4+1];return t=s,n=i,Io(s,i)}finally{bo.__wbindgen_add_to_stack_pointer(16),bo.__wbindgen_free(t,n,1)}}(t)}let vl="sourceMa";async function Il(e,t,n,s,i){Jo("render chunks",2),function(e){for(const t of e)t.facadeModule&&t.facadeModule.isUserDefinedEntryPoint&&t.getPreliminaryFileName()}(e);const r=await Promise.all(e.map((e=>e.render())));Zo("render chunks",2),Jo("transform chunks",2);const o=function(e){return Object.fromEntries(e.map((e=>{const t=e.getRenderedChunkInfo();return[t.fileName,t]})))}(e),{initialHashesByPlaceholder:a,nonHashedChunksWithPlaceholders:l,renderedChunksByPlaceholder:c,hashDependenciesByPlaceholder:d}=await async function(e,t,n,s,i){const r=[],o=new Map,a=new Map,l=new Map,c=new Set;for(const{preliminaryFileName:{hashPlaceholder:t}}of e)t&&c.add(t);return await Promise.all(e.map((async({chunk:e,preliminaryFileName:{fileName:d,hashPlaceholder:u},preliminarySourcemapFileName:h,magicString:p,usedModules:f})=>{const m={chunk:e,fileName:d,sourcemapFileName:h?.fileName??null,...await Pl(p,d,f,t,n,s,i)},{code:g,map:y}=m;if(u){const{containedPlaceholders:t,transformedCode:n}=Ha(g,c);let i=n;const r=s.hookReduceValueSync("augmentChunkHash","",[e.getRenderedChunkInfo()],((e,t)=>(t&&(e+=t),e)));r&&(i+=r),o.set(u,m),a.set(u,{containedPlaceholders:t,contentHash:wl(i)})}else r.push(m);const b=h?.hashPlaceholder;y&&b&&l.set(h.hashPlaceholder,wl(y.toString()).slice(0,h.hashPlaceholder.length))}))),{hashDependenciesByPlaceholder:a,initialHashesByPlaceholder:l,nonHashedChunksWithPlaceholders:r,renderedChunksByPlaceholder:o}}(r,o,s,n,i),u=function(e,t,n,s){const i=new Map(n);for(const[n,{fileName:r}]of e){let e="";const o=new Set([n]);for(const n of o){const{containedPlaceholders:s,contentHash:i}=t.get(n);e+=i;for(const e of s)o.add(e)}let a,l;do{l&&(e=l),l=wl(e).slice(0,n.length),a=Wa(r,n,l)}while(s[qa].has(a.toLowerCase()));s[a]=Ka,i.set(n,l)}return i}(c,d,a,t);!function(e,t,n,s,i,r){for(const{chunk:s,code:o,fileName:a,sourcemapFileName:l,map:c}of e.values()){let e=Ga(o,t);const d=Ga(a,t);let u=null;c&&(u=l?Ga(l,t):`${d}.map`,c.file=Ga(c.file,t),e+=kl(u,c,i,r)),n[d]=s.finalizeChunk(e,c,u,t)}for(const{chunk:e,code:o,fileName:a,sourcemapFileName:l,map:c}of s){let s=t.size>0?Ga(o,t):o,d=null;c&&(d=l?Ga(l,t):`${a}.map`,s+=kl(d,c,i,r)),n[a]=e.finalizeChunk(s,c,d,t)}}(c,u,t,l,n,s),Zo("transform chunks",2)}async function Pl(e,t,n,s,i,r,o){let a=null;const l=[];let c=await r.hookReduceArg0("renderChunk",[e.toString(),s[t],i,{chunks:s}],((e,t,n)=>{if(null==t)return e;if("string"==typeof t&&(t={code:t,map:void 0}),null!==t.map){const e=go(t.map);l.push(e||{missing:!0,plugin:n.name})}return t.code}));const{compact:u,dir:h,file:p,sourcemap:f,sourcemapExcludeSources:m,sourcemapFile:g,sourcemapPathTransform:y,sourcemapIgnoreList:b}=i;if(u||"\n"===c[c.length-1]||(c+="\n"),f){let s;Jo("sourcemaps",3),s=p?R(g||p):h?R(h,t):R(t);a=function(e,t,n,s,i,r){const o=$l(r),a=n.filter((e=>!e.excludeFromSourcemap)).map((e=>Al(e.id,e.originalCode,e.originalSourcemap,e.sourcemapChain,o))),l=new xl(t,a),c=s.reduce(o,l);let{sources:u,sourcesContent:h,names:p,mappings:f}=c.traceMappings();if(e){const t=M(e);u=u.map((e=>D(t,e))),e=C(e)}h=i?null:h;for(const e of n)mo(e.originalSourcemap,e.sourcemapChain);return new d({file:e,mappings:f,names:p,sources:u,sourcesContent:h})}(s,e.generateDecodedMap({}),n,l,m,o);for(let e=0;e<a.sources.length;++e){let t=a.sources[e];const n=`${s}.map`,i=b(t,n);"boolean"!=typeof i&&Qe(rn("sourcemapIgnoreList function must return a boolean.")),i&&(void 0===a.x_google_ignoreList&&(a.x_google_ignoreList=[]),a.x_google_ignoreList.includes(e)||a.x_google_ignoreList.push(e)),y&&(t=y(t,n),"string"!=typeof t&&Qe(rn("sourcemapPathTransform function must return a string."))),a.sources[e]=N(t)}Zo("sourcemaps",3)}return{code:c,map:a}}function kl(e,t,n,{sourcemap:s,sourcemapBaseUrl:i}){let r;if("inline"===s)r=t.toUrl();else{const s=C(e);r=i?new URL(s,i).toString():s,n.emitFile({fileName:e,source:t.toString(),type:"asset"})}return"hidden"===s?"":`//# ${vl}=${r}\n`}vl+="ppingURL";class Nl{constructor(e,t,n,s,i){this.outputOptions=e,this.unsetOptions=t,this.inputOptions=n,this.pluginDriver=s,this.graph=i,this.facadeChunkByModule=new Map,this.includedNamespaces=new Set}async generate(e){Jo("GENERATE",1);const t=Object.create(null),n=(e=>{const t=new Set;return new Proxy(e,{deleteProperty:(e,n)=>("string"==typeof n&&t.delete(n.toLowerCase()),Reflect.deleteProperty(e,n)),get:(e,n)=>n===qa?t:Reflect.get(e,n),set:(e,n,s)=>("string"==typeof n&&t.add(n.toLowerCase()),Reflect.set(e,n,s))})})(t);this.pluginDriver.setOutputBundle(n,this.outputOptions);try{Jo("initialize render",2),await this.pluginDriver.hookParallel("renderStart",[this.outputOptions,this.inputOptions]),Zo("initialize render",2),Jo("generate chunks",2);const e=(()=>{let e=0;return(t,n=8)=>{if(n>22)return Qe(rn(`Hashes cannot be longer than 22 characters, received ${n}. Check the "${t}" option.`));const s=`${Fa}${Ps(++e).padStart(n-5,"0")}${ja}`;return s.length>n?Qe(rn(`To generate hashes for this number of chunks (currently ${e}), you need a minimum hash size of ${s.length}, received ${n}. Check the "${t}" option.`)):s}})(),t=await this.generateChunks(n,e);t.length>1&&function(e,t){if("umd"===e.format||"iife"===e.format)return Qe(Kt("output.format",He,"UMD and IIFE output formats are not supported for code-splitting builds",e.format));if("string"==typeof e.file)return Qe(Kt("output.file",Ue,'when building multiple chunks, the "output.dir" option must be used, not "output.file". To inline dynamic imports, set the "inlineDynamicImports" option'));if(e.sourcemapFile)return Qe(Kt("output.sourcemapFile",Ze,'"output.sourcemapFile" is only supported for single-file builds'));!e.amd.autoId&&e.amd.id&&t(Pe,Kt("output.amd.id",je,'this option is only properly supported for single-file builds. Use "output.amd.autoId" and "output.amd.basePath" instead'))}(this.outputOptions,this.inputOptions.onLog),this.pluginDriver.setChunkInformation(this.facadeChunkByModule);for(const e of t)e.generateExports();Zo("generate chunks",2),await Il(t,n,this.pluginDriver,this.outputOptions,this.inputOptions.onLog)}catch(e){throw await this.pluginDriver.hookParallel("renderError",[e]),e}return(e=>{const t=new Set,n=Object.values(e);for(const e of n)"asset"===e.type&&e.needsCodeReference&&t.add(e.fileName);for(const e of n)if("chunk"===e.type)for(const n of e.referencedFiles)t.has(n)&&t.delete(n);for(const n of t)delete e[n]})(n),Jo("generate bundle",2),await this.pluginDriver.hookSeq("generateBundle",[this.outputOptions,n,e]),this.finaliseAssets(n),Zo("generate bundle",2),Zo("GENERATE",1),t}async addManualChunks(e){const t=new Map,n=await Promise.all(Object.entries(e).map((async([e,t])=>({alias:e,entries:await this.graph.moduleLoader.addAdditionalModules(t,!0)}))));for(const{alias:e,entries:s}of n)for(const n of s)Cl(e,n,t);return t}assignManualChunks(e){const t=[],n={getModuleIds:()=>this.graph.modulesById.keys(),getModuleInfo:this.graph.getModuleInfo};for(const s of this.graph.modulesById.values())if(s instanceof ra){const i=e(s.id,n);"string"==typeof i&&t.push([i,s])}t.sort((([e],[t])=>e>t?1:e<t?-1:0));const s=new Map;for(const[e,n]of t)Cl(e,n,s);return s}finaliseAssets(e){if(this.outputOptions.validate)for(const t of Object.values(e))if("code"in t)try{To(t.code)}catch(e){this.inputOptions.onLog(Pe,zt(t,e))}this.pluginDriver.finaliseAssets()}async generateChunks(e,t){const{experimentalMinChunkSize:n,inlineDynamicImports:s,manualChunks:i,preserveModules:r}=this.outputOptions,o="object"==typeof i?await this.addManualChunks(i):this.assignManualChunks(i),a=function({compact:e,generatedCode:{arrowFunctions:t,constBindings:n,objectShorthand:s,reservedNamesAsProps:i}}){const{_:r,n:o,s:a}=e?{_:"",n:"",s:""}:{_:" ",n:"\n",s:";"},l=n?"const":"var",c=(e,{isAsync:t,name:n})=>`${t?"async ":""}function${n?` ${n}`:""}${r}(${e.join(`,${r}`)})${r}`,d=t?(e,{isAsync:t,name:n})=>{const s=1===e.length;return`${n?`${l} ${n}${r}=${r}`:""}${t?`async${s?" ":r}`:""}${s?e[0]:`(${e.join(`,${r}`)})`}${r}=>${r}`}:c,u=(e,{functionReturn:n,lineBreakIndent:s,name:i})=>[`${d(e,{isAsync:!1,name:i})}${t?s?`${o}${s.base}${s.t}`:"":`{${s?`${o}${s.base}${s.t}`:r}${n?"return ":""}`}`,t?`${i?";":""}${s?`${o}${s.base}`:""}`:`${a}${s?`${o}${s.base}`:r}}`],h=i?e=>bl.test(e):e=>!Se.has(e)&&bl.test(e);return{_:r,cnst:l,getDirectReturnFunction:u,getDirectReturnIifeLeft:(e,n,{needsArrowReturnParens:s,needsWrappedFunction:i})=>{const[r,o]=u(e,{functionReturn:!0,lineBreakIndent:null,name:null});return`${yl(`${r}${yl(n,t&&s)}${o}`,t||i)}(`},getFunctionIntro:d,getNonArrowFunctionIntro:c,getObject(e,{lineBreakIndent:t}){const n=t?`${o}${t.base}${t.t}`:r;return`{${e.map((([e,t])=>{if(null===e)return`${n}${t}`;const i=!h(e);return e===t&&s&&!i?n+e:`${n}${i?`'${e}'`:e}:${r}${t}`})).join(",")}${0===e.length?"":t?`${o}${t.base}`:r}}`},getPropertyAccess:e=>h(e)?`.${e}`:`[${JSON.stringify(e)}]`,n:o,s:a}}(this.outputOptions),l=function(e){const t=[];for(const n of e.values())n instanceof ra&&(n.isIncluded()||n.info.isEntry||n.includedDynamicImporters.length>0)&&t.push(n);return t}(this.graph.modulesById),c=function(e){if(0===e.length)return"/";if(1===e.length)return M(e[0]);const t=e.slice(1).reduce(((e,t)=>{const n=t.split(/\/+|\\+/);let s;for(s=0;e[s]===n[s]&&s<Math.min(e.length,n.length);s++);return e.slice(0,s)}),e[0].split(/\/+|\\+/));return t.length>1?t.join("/"):"/"}(function(e,t){const n=[];for(const s of e)(s.info.isEntry||t)&&P(s.id)&&n.push(s.id);return n}(l,r)),d=function(e,t,n){const s=new Map;for(const i of e.values())i instanceof an&&s.set(i,new G(i,t,n));return s}(this.graph.modulesById,this.outputOptions,c),u=[],h=new Map;for(const{alias:i,modules:p}of s?[{alias:null,modules:l}]:r?l.map((e=>({alias:null,modules:[e]}))):ol(this.graph.entryModules,o,n,this.inputOptions.onLog)){p.sort(ml);const n=new Qa(p,this.inputOptions,this.outputOptions,this.unsetOptions,this.pluginDriver,this.graph.modulesById,h,d,this.facadeChunkByModule,this.includedNamespaces,i,t,e,c,a);u.push(n)}for(const e of u)e.link();const p=[];for(const e of u)p.push(...e.generateFacades());return[...u,...p]}}function Cl(e,t,n){const s=n.get(t);if("string"==typeof s&&s!==e)return Qe((i=t.id,r=e,o=s,{code:ht,message:`Cannot assign "${V(i)}" to the "${r}" chunk as it is already in the "${o}" chunk.`}));var i,r,o;n.set(t,e)}const Ml=e=>()=>Qe(function(e){return{code:"NO_FS_IN_BROWSER",message:`Cannot access the file system (via "${e}") when using the browser build of Rollup. Make sure you supply a plugin with custom resolveId and load hooks to Rollup.`,url:ze("plugin-development/#a-simple-example")}}(e)),Ol=Ml("fs.mkdir"),Dl=Ml("fs.readFile"),Rl=Ml("fs.writeFile");async function Ll(e,t,n,s,i,r,o,a,l){const c=await function(e,t,n,s,i,r,o,a){let l=null,c=null;if(i){l=new Set;for(const n of i)e===n.source&&t===n.importer&&l.add(n.plugin);c=(e,t)=>({...e,resolve:(e,n,{attributes:r,custom:o,isEntry:a,skipSelf:l}=Ee)=>(l??=!0,s(e,n,o,a,r||xe,l?[...i,{importer:n,plugin:t,source:e}]:i))})}return n.hookFirstAndGetPlugin("resolveId",[e,t,{attributes:a,custom:r,isEntry:o}],c,l)}(e,t,s,i,r,o,a,l);return null==c?Ml("path.resolve")():c[0]}const _l="at position ",Bl="at output position ";const Tl={delete:()=>!1,get(){},has:()=>!1,set(){}};function zl(e){return e.startsWith(_l)||e.startsWith(Bl)?Qe({code:st,message:"A plugin is trying to use the Rollup cache but is not declaring a plugin name or cacheKey."}):Qe({code:ct,message:`The plugin name ${e} is being used twice in the same build. Plugin names must be distinct or provide a cacheKey (please post an issue to the plugin if you are a plugin user).`})}const Vl=(e,t,n=Wl)=>{const{onwarn:s,onLog:i}=e,r=Fl(n,s);if(i){const e=Ce[t];return(t,n)=>i(t,jl(n),((t,n)=>{if("error"===t)return Qe(Ul(n));Ce[t]>=e&&r(t,Ul(n))}))}return r},Fl=(e,t)=>t?(n,s)=>{n===Pe?t(jl(s),(t=>e(Pe,Ul(t)))):e(n,s)}:e,jl=e=>(Object.defineProperty(e,"toString",{value:()=>Gl(e),writable:!0}),e),Ul=e=>"string"==typeof e?{message:e}:"function"==typeof e?Ul(e()):e,Gl=e=>{let t="";return e.plugin&&(t+=`(${e.plugin} plugin) `),e.loc&&(t+=`${V(e.loc.file)} (${e.loc.line}:${e.loc.column}) `),t+e.message},Wl=(e,t)=>{const n=Gl(t);switch(e){case Pe:return console.warn(n);case Ne:return console.debug(n);default:return console.info(n)}};function Hl(e,t,n,s,i=/$./){const r=new Set(t),o=Object.keys(e).filter((e=>!(r.has(e)||i.test(e))));o.length>0&&s(Pe,function(e,t,n){return{code:Dt,message:`Unknown ${e}: ${t.join(", ")}. Allowed options: ${n.join(", ")}`}}(n,o,[...r].sort()))}const ql={recommended:{annotations:!0,correctVarValueBeforeDeclaration:!1,manualPureFunctions:$e,moduleSideEffects:()=>!0,propertyReadSideEffects:!0,tryCatchDeoptimization:!0,unknownGlobalSideEffects:!1},safest:{annotations:!0,correctVarValueBeforeDeclaration:!0,manualPureFunctions:$e,moduleSideEffects:()=>!0,propertyReadSideEffects:!0,tryCatchDeoptimization:!0,unknownGlobalSideEffects:!0},smallest:{annotations:!0,correctVarValueBeforeDeclaration:!1,manualPureFunctions:$e,moduleSideEffects:()=>!1,propertyReadSideEffects:!1,tryCatchDeoptimization:!1,unknownGlobalSideEffects:!1}},Kl={es2015:{arrowFunctions:!0,constBindings:!0,objectShorthand:!0,reservedNamesAsProps:!0,symbols:!0},es5:{arrowFunctions:!1,constBindings:!1,objectShorthand:!1,reservedNamesAsProps:!0,symbols:!1}},Yl=(e,t,n,s,i)=>{const r=e?.preset;if(r){const i=t[r];if(i)return{...i,...e};Qe(Kt(`${n}.preset`,s,`valid values are ${Te(Object.keys(t))}`,r))}return((e,t,n,s)=>i=>{if("string"==typeof i){const r=e[i];if(r)return r;Qe(Kt(t,n,`valid values are ${s}${Te(Object.keys(e))}. You can also supply an object for more fine-grained control`,i))}return(e=>e&&"object"==typeof e?e:{})(i)})(t,n,s,i)(e)},Xl=async e=>(await async function(e){do{e=(await Promise.all(e)).flat(1/0)}while(e.some((e=>e?.then)));return e}([e])).filter(Boolean);async function Jl(e,t,n,s){const i=t.id,r=[];let o=null===e.map?null:go(e.map);const a=e.code;let l=e.ast;const c=[],u=[];let h=!1;const p=()=>h=!0;let f="",m=e.code;const g=e=>(t,n)=>{t=Ul(t),n&&et(t,n,m,i),t.id=i,t.hook="transform",e(t)};let y;try{y=await n.hookReduceArg0("transform",[m,i],(function(e,n,i){let o,a;if("string"==typeof n)o=n;else{if(!n||"object"!=typeof n)return e;if(t.updateOptions(n),null==n.code)return(n.map||n.ast)&&s(Pe,function(e){return{code:Pt,message:`The plugin "${e}" returned a "map" or "ast" without returning a "code". This will be ignored.`}}(i.name)),e;({code:o,map:a,ast:l}=n)}return null!==a&&r.push(go("string"==typeof a?JSON.parse(a):a)||{missing:!0,plugin:i.name}),m=o,o}),((e,t)=>{return f=t.name,{...e,addWatchFile(t){c.push(t),e.addWatchFile(t)},cache:h?e.cache:(l=e.cache,y=p,{delete:e=>(y(),l.delete(e)),get:e=>(y(),l.get(e)),has:e=>(y(),l.has(e)),set:(e,t)=>(y(),l.set(e,t))}),debug:g(e.debug),emitFile:e=>(u.push(e),n.emitFile(e)),error:(t,n)=>("string"==typeof t&&(t={message:t}),n&&et(t,n,m,i),t.id=i,t.hook="transform",e.error(t)),getCombinedSourcemap(){const e=function(e,t,n,s,i){return 0===s.length?n:go({version:3,...Al(e,t,n,s,$l(i)).traceMappings()})}(i,a,o,r,s);if(!e){return new E(a).generateMap({hires:!0,includeContent:!0,source:i})}return o!==e&&(o=e,r.length=0),new d({...e,file:null,sourcesContent:e.sourcesContent})},info:g(e.info),setAssetSource(){return this.error({code:Et,message:"setAssetSource cannot be called in transform for caching reasons. Use emitFile with a source, or call setAssetSource in another hook."})},warn:g(e.warn)};var l,y}))}catch(e){return Qe(en(e,f,{hook:"transform",id:i}))}return!h&&u.length>0&&(t.transformFiles=u),{ast:l,code:y,customTransformCache:h,originalCode:a,originalSourcemap:o,sourcemapChain:r,transformDependencies:c}}const Zl="resolveDependencies";class Ql{constructor(e,t,n,s){this.graph=e,this.modulesById=t,this.options=n,this.pluginDriver=s,this.implicitEntryModules=new Set,this.indexedEntryModules=[],this.latestLoadModulesPromise=Promise.resolve(),this.moduleLoadPromises=new Map,this.modulesWithLoadedDependencies=new Set,this.nextChunkNamePriority=0,this.nextEntryModuleIndex=0,this.resolveId=async(e,t,n,s,i,r=null)=>this.getResolvedIdWithDefaults(this.getNormalizedResolvedIdWithoutDefaults(!this.options.external(e,t,!1)&&await Ll(e,t,this.options.preserveSymlinks,this.pluginDriver,this.resolveId,r,n,"boolean"==typeof s?s:!t,i),t,e),i),this.hasModuleSideEffects=n.treeshake?n.treeshake.moduleSideEffects:()=>!0}async addAdditionalModules(e,t){const n=this.extendLoadModulesPromise(Promise.all(e.map((e=>this.loadEntryModule(e,!1,void 0,null,t)))));return await this.awaitLoadModulesPromise(),n}async addEntryModules(e,t){const n=this.nextEntryModuleIndex;this.nextEntryModuleIndex+=e.length;const s=this.nextChunkNamePriority;this.nextChunkNamePriority+=e.length;const i=await this.extendLoadModulesPromise(Promise.all(e.map((({id:e,importer:t})=>this.loadEntryModule(e,!0,t,null)))).then((i=>{for(const[r,o]of i.entries()){o.isUserDefinedEntryPoint=o.isUserDefinedEntryPoint||t,tc(o,e[r],t,s+r);const i=this.indexedEntryModules.find((e=>e.module===o));i?i.index=Math.min(i.index,n+r):this.indexedEntryModules.push({index:n+r,module:o})}return this.indexedEntryModules.sort((({index:e},{index:t})=>e>t?1:-1)),i})));return await this.awaitLoadModulesPromise(),{entryModules:this.indexedEntryModules.map((({module:e})=>e)),implicitEntryModules:[...this.implicitEntryModules],newEntryModules:i}}async emitChunk({fileName:e,id:t,importer:n,name:s,implicitlyLoadedAfterOneOf:i,preserveSignature:r}){const o={fileName:e||null,id:t,importer:n,name:s||null},a=i?await this.addEntryWithImplicitDependants(o,i):(await this.addEntryModules([o],!1)).newEntryModules[0];return null!=r&&(a.preserveSignature=r),a}async preloadModule(e){return(await this.fetchModule(this.getResolvedIdWithDefaults(e,xe),void 0,!1,!e.resolveDependencies||Zl)).info}addEntryWithImplicitDependants(e,t){const n=this.nextChunkNamePriority++;return this.extendLoadModulesPromise(this.loadEntryModule(e.id,!1,e.importer,null).then((async s=>{if(tc(s,e,!1,n),!s.info.isEntry){const n=await Promise.all(t.map((t=>this.loadEntryModule(t,!1,e.importer,s.id))));if(!s.info.isEntry){this.implicitEntryModules.add(s);for(const e of n)s.implicitlyLoadedAfter.add(e);for(const e of s.implicitlyLoadedAfter)e.implicitlyLoadedBefore.add(s)}}return s})))}async addModuleSource(e,t,n){let s;try{s=await this.graph.fileOperationQueue.run((async()=>{const t=await this.pluginDriver.hookFirst("load",[e]);return null!==t?t:(this.graph.watchFiles[e]=!0,await Dl(e,"utf8"))}))}catch(n){let s=`Could not load ${e}`;throw t&&(s+=` (imported by ${V(t)})`),s+=`: ${n.message}`,n.message=s,n}const i="string"==typeof s?{code:s}:null!=s&&"object"==typeof s&&"string"==typeof s.code?s:Qe(function(e){return{code:"BAD_LOADER",message:`Error loading "${V(e)}": plugin load hook should return a string, a { code, map } object, or nothing/null.`}}(e)),r=this.graph.cachedModules.get(e);if(!r||r.customTransformCache||r.originalCode!==i.code||await this.pluginDriver.hookFirst("shouldTransformCachedModule",[{ast:r.ast,code:r.code,id:r.id,meta:r.meta,moduleSideEffects:r.moduleSideEffects,resolvedSources:r.resolvedIds,syntheticNamedExports:r.syntheticNamedExports}]))n.updateOptions(i),await n.setSource(await Jl(i,n,this.pluginDriver,this.options.onLog));else{if(r.transformFiles)for(const e of r.transformFiles)this.pluginDriver.emitFile(e);await n.setSource(r)}}async awaitLoadModulesPromise(){let e;do{e=this.latestLoadModulesPromise,await e}while(e!==this.latestLoadModulesPromise)}extendLoadModulesPromise(e){return this.latestLoadModulesPromise=Promise.all([e,this.latestLoadModulesPromise]),this.latestLoadModulesPromise.catch((()=>{})),e}async fetchDynamicDependencies(e,t){const n=await Promise.all(t.map((t=>t.then((async([t,n])=>null===n?null:"string"==typeof n?(t.resolution=n,null):t.resolution=await this.fetchResolvedDependency(V(n.id),e.id,n))))));for(const t of n)t&&(e.dynamicDependencies.add(t),t.dynamicImporters.push(e.id))}async fetchModule({attributes:e,id:t,meta:n,moduleSideEffects:s,syntheticNamedExports:i},r,o,a){const l=this.modulesById.get(t);if(l instanceof ra)return r&&Uo(e,l.info.attributes)&&this.options.onLog(Pe,Ut(l.info.attributes,e,t,r)),await this.handleExistingModule(l,o,a),l;if(l instanceof an)return Qe({code:"EXTERNAL_MODULES_CANNOT_BE_TRANSFORMED_TO_MODULES",message:`${l.id} is resolved as a module now, but it was an external module before. Please check whether there are conflicts in your Rollup options "external" and "manualChunks", manualChunks cannot include external modules.`});const c=new ra(this.graph,t,this.options,o,s,i,n,e);this.modulesById.set(t,c);const d=this.addModuleSource(t,r,c).then((()=>[this.getResolveStaticDependencyPromises(c),this.getResolveDynamicImportPromises(c),u])),u=sc(d).then((()=>this.pluginDriver.hookParallel("moduleParsed",[c.info])));u.catch((()=>{})),this.moduleLoadPromises.set(c,d);const h=await d;return a?a===Zl&&await u:await this.fetchModuleDependencies(c,...h),c}async fetchModuleDependencies(e,t,n,s){this.modulesWithLoadedDependencies.has(e)||(this.modulesWithLoadedDependencies.add(e),await Promise.all([this.fetchStaticDependencies(e,t),this.fetchDynamicDependencies(e,n)]),e.linkImports(),await s)}fetchResolvedDependency(e,t,n){if(n.external){const{attributes:s,external:i,id:r,moduleSideEffects:o,meta:a}=n;let l=this.modulesById.get(r);if(l){if(!(l instanceof an))return Qe(function(e,t){return{code:"INVALID_EXTERNAL_ID",message:`"${e}" is imported as an external by "${V(t)}", but is already an existing non-external module id.`}}(e,t));Uo(l.info.attributes,s)&&this.options.onLog(Pe,Ut(l.info.attributes,s,e,t))}else l=new an(this.options,r,o,a,"absolute"!==i&&P(r),s),this.modulesById.set(r,l);return Promise.resolve(l)}return this.fetchModule(n,t,!1,!1)}async fetchStaticDependencies(e,t){for(const n of await Promise.all(t.map((t=>t.then((([t,n])=>this.fetchResolvedDependency(t,e.id,n)))))))e.dependencies.add(n),n.importers.push(e.id);if(!this.options.treeshake||"no-treeshake"===e.info.moduleSideEffects)for(const t of e.dependencies)t instanceof ra&&(t.importedFromNotTreeshaken=!0)}getNormalizedResolvedIdWithoutDefaults(e,t,n){const{makeAbsoluteExternalsRelative:s}=this.options;if(e){if("object"==typeof e){const i=e.external||this.options.external(e.id,t,!0);return{...e,external:i&&("relative"===i||!P(e.id)||!0===i&&nc(e.id,n,s)||"absolute")}}const i=this.options.external(e,t,!0);return{external:i&&(nc(e,n,s)||"absolute"),id:i&&s?ec(e,t):e}}const i=s?ec(n,t):n;return!1===e||this.options.external(i,t,!0)?{external:nc(i,n,s)||"absolute",id:i}:null}getResolveDynamicImportPromises(e){return e.dynamicImports.map((async t=>{const n=await this.resolveDynamicImport(e,"string"==typeof t.argument?t.argument:t.argument.esTreeNode,e.id,Fo(t.node));return n&&"object"==typeof n&&(t.id=n.id),[t,n]}))}getResolveStaticDependencyPromises(e){return Array.from(e.sourcesWithAttributes,(async([t,n])=>[t,e.resolvedIds[t]=e.resolvedIds[t]||this.handleInvalidResolvedId(await this.resolveId(t,e.id,xe,!1,n),t,e.id,n)]))}getResolvedIdWithDefaults(e,t){if(!e)return null;const n=e.external||!1;return{attributes:e.attributes||t,external:n,id:e.id,meta:e.meta||{},moduleSideEffects:e.moduleSideEffects??this.hasModuleSideEffects(e.id,!!n),resolvedBy:e.resolvedBy??"rollup",syntheticNamedExports:e.syntheticNamedExports??!1}}async handleExistingModule(e,t,n){const s=this.moduleLoadPromises.get(e);if(n)return n===Zl?sc(s):s;if(t){e.info.isEntry=!0,this.implicitEntryModules.delete(e);for(const t of e.implicitlyLoadedAfter)t.implicitlyLoadedBefore.delete(e);e.implicitlyLoadedAfter.clear()}return this.fetchModuleDependencies(e,...await s)}handleInvalidResolvedId(e,t,n,s){return null===e?k(t)?Qe(function(e,t){return{code:Lt,exporter:e,id:t,message:`Could not resolve "${e}" from "${V(t)}"`}}(t,n)):(this.options.onLog(Pe,function(e,t){return{code:Lt,exporter:e,id:t,message:`"${e}" is imported by "${V(t)}", but could not be resolved – treating it as an external dependency.`,url:ze("troubleshooting/#warning-treating-module-as-external-dependency")}}(t,n)),{attributes:s,external:!0,id:t,meta:{},moduleSideEffects:this.hasModuleSideEffects(t,!0),resolvedBy:"rollup",syntheticNamedExports:!1}):(e.external&&e.syntheticNamedExports&&this.options.onLog(Pe,function(e,t){return{code:"EXTERNAL_SYNTHETIC_EXPORTS",exporter:e,message:`External "${e}" cannot have "syntheticNamedExports" enabled (imported by "${V(t)}").`}}(t,n)),e)}async loadEntryModule(e,t,n,s,i=!1){const r=await Ll(e,n,this.options.preserveSymlinks,this.pluginDriver,this.resolveId,null,xe,!0,xe);if(null==r)return Qe(null===s?function(e){return{code:Rt,message:`Could not resolve entry module "${V(e)}".`}}(e):function(e,t){return{code:At,message:`Module "${V(e)}" that should be implicitly loaded before "${V(t)}" could not be resolved.`}}(e,s));const o="object"==typeof r&&r.external;return!1===r||o?Qe(null===s?o&&i?{code:"EXTERNAL_MODULES_CANNOT_BE_INCLUDED_IN_MANUAL_CHUNKS",message:`"${e}" cannot be included in manualChunks because it is resolved as an external module by the "external" option or plugins.`}:function(e){return{code:Rt,message:`Entry module "${V(e)}" cannot be external.`}}(e):function(e,t){return{code:At,message:`Module "${V(e)}" that should be implicitly loaded before "${V(t)}" cannot be external.`}}(e,s)):this.fetchModule(this.getResolvedIdWithDefaults("object"==typeof r?r:{id:r},xe),void 0,t,!1)}async resolveDynamicImport(e,t,n,s){const i=await this.pluginDriver.hookFirst("resolveDynamicImport",[t,n,{attributes:s}]);if("string"!=typeof t)return"string"==typeof i?i:i?this.getResolvedIdWithDefaults(i,s):null;if(null==i){const i=e.resolvedIds[t];return i?(Uo(i.attributes,s)&&this.options.onLog(Pe,Ut(i.attributes,s,t,n)),i):e.resolvedIds[t]=this.handleInvalidResolvedId(await this.resolveId(t,e.id,xe,!1,s),t,e.id,s)}return this.handleInvalidResolvedId(this.getResolvedIdWithDefaults(this.getNormalizedResolvedIdWithoutDefaults(i,n,t),s),t,n,s)}}function ec(e,t){return k(e)?t?R(t,"..",e):R(e):e}function tc(e,{fileName:t,name:n},s,i){if(null!==t)e.chunkFileNames.add(t);else if(null!==n){let t=0;for(;e.chunkNames[t]?.priority<i;)t++;e.chunkNames.splice(t,0,{isUserDefined:s,name:n,priority:i})}}function nc(e,t,n){return!0===n||"ifRelativeSource"===n&&k(t)||!P(e)}async function sc(e){const[t,n]=await e;return Promise.all([...t,...n])}class ic extends Ns{constructor(){super(),this.parent=null,this.variables.set("undefined",new no)}findVariable(e){let t=this.variables.get(e);return t||(t=new ti(e),this.variables.set(e,t)),t}}function rc(e,t,n,s,i){const r=s.sanitizeFileName(e||"asset");return Xa(Ya("function"==typeof s.assetFileNames?s.assetFileNames({name:e,source:t,type:"asset"}):s.assetFileNames,"output.assetFileNames",{ext:()=>O(r).slice(1),extname:()=>O(r),hash:e=>n.slice(0,Math.max(0,e||8)),name:()=>r.slice(0,Math.max(0,r.length-O(r).length))}),i)}function oc(e,{bundle:t},n){t[qa].has(e.toLowerCase())?n(Pe,function(e){return{code:dt,message:`The emitted file "${e}" overwrites a previously emitted file of the same name.`}}(e)):t[e]=Ka}const ac=new Set(["chunk","asset","prebuilt-chunk"]);function lc(e,t,n){if(!("string"==typeof e||e instanceof Uint8Array)){const e=t.fileName||t.name||n;return Qe(rn(`Could not set source for ${"string"==typeof e?`asset "${e}"`:"unnamed asset"}, asset source needs to be a string, Uint8Array or Buffer.`))}return e}function cc(e,t){return"string"!=typeof e.fileName?Qe((n=e.name||t,{code:it,message:`Plugin error - Unable to get file name for asset "${n}". Ensure that the source is set and that generate is called first. If you reference assets via import.meta.ROLLUP_FILE_URL_<referenceId>, you need to either have set their source after "renderStart" or need to provide an explicit "fileName" when emitting them.`})):e.fileName;var n}function dc(e,t){return e.fileName?e.fileName:t?t.get(e.module).getFileName():Qe((n=e.fileName||e.name,{code:ot,message:`Plugin error - Unable to get file name for emitted chunk "${n}". You can only get file names once chunks have been generated after the "renderStart" hook.`}));var n}class uc{constructor(e,t,n){this.graph=e,this.options=t,this.facadeChunkByModule=null,this.nextIdBase=1,this.output=null,this.outputFileEmitters=[],this.emitFile=e=>function(e){return Boolean(e&&ac.has(e.type))}(e)?"prebuilt-chunk"===e.type?this.emitPrebuiltChunk(e):function(e){const t=e.fileName||e.name;return!t||"string"==typeof t&&!F(t)}(e)?"chunk"===e.type?this.emitChunk(e):this.emitAsset(e):Qe(rn(`The "fileName" or "name" properties of emitted chunks and assets must be strings that are neither absolute nor relative paths, received "${e.fileName||e.name}".`)):Qe(rn(`Emitted files must be of type "asset", "chunk" or "prebuilt-chunk", received "${e&&e.type}".`)),this.finaliseAssets=()=>{for(const[e,t]of this.filesByReferenceId)if("asset"===t.type&&"string"!=typeof t.fileName)return Qe({code:"ASSET_SOURCE_MISSING",message:`Plugin error creating asset "${t.name||e}" - no asset source set.`})},this.getFileName=e=>{const t=this.filesByReferenceId.get(e);return t?"chunk"===t.type?dc(t,this.facadeChunkByModule):"prebuilt-chunk"===t.type?t.fileName:cc(t,e):Qe({code:"FILE_NOT_FOUND",message:`Plugin error - Unable to get file name for unknown file "${e}".`})},this.setAssetSource=(e,t)=>{const n=this.filesByReferenceId.get(e);if(!n)return Qe({code:"ASSET_NOT_FOUND",message:`Plugin error - Unable to set the source for unknown asset "${e}".`});if("asset"!==n.type)return Qe(rn(`Asset sources can only be set for emitted assets but "${e}" is an emitted chunk.`));if(void 0!==n.source)return Qe({code:"ASSET_SOURCE_ALREADY_SET",message:`Unable to set the source for asset "${n.name||e}", source already set.`});const s=lc(t,n,e);if(this.output)this.finalizeAdditionalAsset(n,s,this.output);else{n.source=s;for(const e of this.outputFileEmitters)e.finalizeAdditionalAsset(n,s,e.output)}},this.setChunkInformation=e=>{this.facadeChunkByModule=e},this.setOutputBundle=(e,t)=>{const n=this.output={bundle:e,fileNamesBySource:new Map,outputOptions:t};for(const e of this.filesByReferenceId.values())e.fileName&&oc(e.fileName,n,this.options.onLog);const s=new Map;for(const e of this.filesByReferenceId.values())if("asset"===e.type&&void 0!==e.source)if(e.fileName)this.finalizeAdditionalAsset(e,e.source,n);else{W(s,wl(e.source),(()=>[])).push(e)}else"prebuilt-chunk"===e.type&&(this.output.bundle[e.fileName]=this.createPrebuiltChunk(e));for(const[e,t]of s)this.finalizeAssetsWithSameSource(t,e,n)},this.filesByReferenceId=n?new Map(n.filesByReferenceId):new Map,n?.addOutputFileEmitter(this)}addOutputFileEmitter(e){this.outputFileEmitters.push(e)}assignReferenceId(e,t){let n=t;do{n=wl(n).slice(0,8).replaceAll("-","$")}while(this.filesByReferenceId.has(n)||this.outputFileEmitters.some((({filesByReferenceId:e})=>e.has(n))));e.referenceId=n,this.filesByReferenceId.set(n,e);for(const{filesByReferenceId:t}of this.outputFileEmitters)t.set(n,e);return n}createPrebuiltChunk(e){return{code:e.code,dynamicImports:[],exports:e.exports||[],facadeModuleId:null,fileName:e.fileName,implicitlyLoadedBefore:[],importedBindings:{},imports:[],isDynamicEntry:!1,isEntry:!1,isImplicitEntry:!1,map:e.map||null,moduleIds:[],modules:{},name:e.fileName,preliminaryFileName:e.fileName,referencedFiles:[],sourcemapFileName:e.sourcemapFileName||null,type:"chunk"}}emitAsset(e){const t=void 0===e.source?void 0:lc(e.source,e,null),n={fileName:e.fileName,name:e.name,needsCodeReference:!!e.needsCodeReference,referenceId:"",source:t,type:"asset"},s=this.assignReferenceId(n,e.fileName||e.name||String(this.nextIdBase++));if(this.output)this.emitAssetWithReferenceId(n,this.output);else for(const e of this.outputFileEmitters)e.emitAssetWithReferenceId(n,e.output);return s}emitAssetWithReferenceId(e,t){const{fileName:n,source:s}=e;n&&oc(n,t,this.options.onLog),void 0!==s&&this.finalizeAdditionalAsset(e,s,t)}emitChunk(e){if(this.graph.phase>po.LOAD_AND_PARSE)return Qe({code:bt,message:"Cannot emit chunks after module loading has finished."});if("string"!=typeof e.id)return Qe(rn(`Emitted chunks need to have a valid string id, received "${e.id}"`));const t={fileName:e.fileName,module:null,name:e.name||e.id,referenceId:"",type:"chunk"};return this.graph.moduleLoader.emitChunk(e).then((e=>t.module=e)).catch((()=>{})),this.assignReferenceId(t,e.id)}emitPrebuiltChunk(e){if("string"!=typeof e.code)return Qe(rn(`Emitted prebuilt chunks need to have a valid string code, received "${e.code}".`));if("string"!=typeof e.fileName||F(e.fileName))return Qe(rn(`The "fileName" property of emitted prebuilt chunks must be strings that are neither absolute nor relative paths, received "${e.fileName}".`));const t={code:e.code,exports:e.exports,fileName:e.fileName,map:e.map,referenceId:"",type:"prebuilt-chunk"},n=this.assignReferenceId(t,t.fileName);return this.output&&(this.output.bundle[t.fileName]=this.createPrebuiltChunk(t)),n}finalizeAdditionalAsset(e,t,{bundle:n,fileNamesBySource:s,outputOptions:i}){let{fileName:r,needsCodeReference:o,referenceId:a}=e;if(!r){const o=wl(t);r=s.get(o),r||(r=rc(e.name,t,o,i,n),s.set(o,r))}const l={...e,fileName:r,source:t};this.filesByReferenceId.set(a,l);const c=n[r];"asset"===c?.type?c.needsCodeReference&&=o:n[r]={fileName:r,name:e.name,needsCodeReference:o,source:t,type:"asset"}}finalizeAssetsWithSameSource(e,t,{bundle:n,fileNamesBySource:s,outputOptions:i}){let r,o="",a=!0;for(const s of e){a&&=s.needsCodeReference;const e=rc(s.name,s.source,t,i,n);(!o||e.length<o.length||e.length===o.length&&e<o)&&(o=e,r=s)}s.set(t,o);for(const t of e){const e={...t,fileName:o};this.filesByReferenceId.set(t.referenceId,e)}n[o]={fileName:o,name:r.name,needsCodeReference:a,source:r.source,type:"asset"}}}function hc(e,t,n,s,i){return Ce[e]<Ce[i]?Bs:(i,r)=>{null!=r&&n(Pe,{code:mt,message:`Plugin "${s}" tried to add a file position to a log or warning. This is only supported in the "transform" hook at the moment and will be ignored.`}),(i=Ul(i)).code&&!i.pluginCode&&(i.pluginCode=i.code),i.code=t,i.plugin=s,n(e,i)}}function pc(e,t,s,i,r,o){const{logLevel:a,onLog:l}=i;let c,d=!0;if("string"!=typeof e.cacheKey&&(e.name.startsWith(_l)||e.name.startsWith(Bl)||o.has(e.name)?d=!1:o.add(e.name)),t)if(d){const n=e.cacheKey||e.name;h=t[n]||(t[n]=Object.create(null)),c={delete:e=>delete h[e],get(e){const t=h[e];if(t)return t[0]=0,t[1]},has(e){const t=h[e];return!!t&&(t[0]=0,!0)},set(e,t){h[e]=[0,t]}}}else u=e.name,c={delete:()=>zl(u),get:()=>zl(u),has:()=>zl(u),set:()=>zl(u)};else c=Tl;var u,h;return{addWatchFile(e){if(s.phase>=po.GENERATE)return this.error({code:bt,message:'Cannot call "addWatchFile" after the build has finished.'});s.watchFiles[e]=!0},cache:c,debug:hc(Ne,"PLUGIN_LOG",l,e.name,a),emitFile:r.emitFile.bind(r),error:t=>Qe(en(Ul(t),e.name)),getFileName:r.getFileName,getModuleIds:()=>s.modulesById.keys(),getModuleInfo:s.getModuleInfo,getWatchFiles:()=>Object.keys(s.watchFiles),info:hc(ke,"PLUGIN_LOG",l,e.name,a),load:e=>s.moduleLoader.preloadModule(e),meta:{rollupVersion:n,watchMode:s.watchMode},parse:To,resolve:(t,n,{attributes:i,custom:r,isEntry:o,skipSelf:a}=Ee)=>(a??=!0,s.moduleLoader.resolveId(t,n,r,o,i||xe,a?[{importer:n,plugin:e,source:t}]:null)),setAssetSource:r.setAssetSource,warn:hc(Pe,"PLUGIN_WARNING",l,e.name,a)}}const fc=Object.keys({buildEnd:1,buildStart:1,closeBundle:1,closeWatcher:1,load:1,moduleParsed:1,onLog:1,options:1,resolveDynamicImport:1,resolveId:1,shouldTransformCachedModule:1,transform:1,watchChange:1});class mc{constructor(e,t,n,s,i){this.graph=e,this.options=t,this.pluginCache=s,this.sortedPlugins=new Map,this.unfulfilledActions=new Set,this.fileEmitter=new uc(e,t,i&&i.fileEmitter),this.emitFile=this.fileEmitter.emitFile.bind(this.fileEmitter),this.getFileName=this.fileEmitter.getFileName.bind(this.fileEmitter),this.finaliseAssets=this.fileEmitter.finaliseAssets.bind(this.fileEmitter),this.setChunkInformation=this.fileEmitter.setChunkInformation.bind(this.fileEmitter),this.setOutputBundle=this.fileEmitter.setOutputBundle.bind(this.fileEmitter),this.plugins=[...i?i.plugins:[],...n];const r=new Set;if(this.pluginContexts=new Map(this.plugins.map((n=>[n,pc(n,s,e,t,this.fileEmitter,r)]))),i)for(const e of n)for(const n of fc)n in e&&t.onLog(Pe,(o=e.name,{code:"INPUT_HOOK_IN_OUTPUT_PLUGIN",message:`The "${n}" hook used by the output plugin ${o} is a build time hook and will not be run for that plugin. Either this plugin cannot be used as an output plugin, or it should have an option to configure it as an output plugin.`}));var o}createOutputPluginDriver(e){return new mc(this.graph,this.options,e,this.pluginCache,this)}getUnfulfilledHookActions(){return this.unfulfilledActions}hookFirst(e,t,n,s){return this.hookFirstAndGetPlugin(e,t,n,s).then((e=>e&&e[0]))}async hookFirstAndGetPlugin(e,t,n,s){for(const i of this.getSortedPlugins(e)){if(s?.has(i))continue;const r=await this.runHook(e,t,i,n);if(null!=r)return[r,i]}return null}hookFirstSync(e,t,n){for(const s of this.getSortedPlugins(e)){const i=this.runHookSync(e,t,s,n);if(null!=i)return i}return null}async hookParallel(e,t,n){const s=[];for(const i of this.getSortedPlugins(e))i[e].sequential?(await Promise.all(s),s.length=0,await this.runHook(e,t,i,n)):s.push(this.runHook(e,t,i,n));await Promise.all(s)}hookReduceArg0(e,[t,...n],s,i){let r=Promise.resolve(t);for(const t of this.getSortedPlugins(e))r=r.then((r=>this.runHook(e,[r,...n],t,i).then((e=>s.call(this.pluginContexts.get(t),r,e,t)))));return r}hookReduceArg0Sync(e,[t,...n],s,i){for(const r of this.getSortedPlugins(e)){const o=[t,...n],a=this.runHookSync(e,o,r,i);t=s.call(this.pluginContexts.get(r),t,a,r)}return t}async hookReduceValue(e,t,n,s){const i=[],r=[];for(const t of this.getSortedPlugins(e,bc))t[e].sequential?(i.push(...await Promise.all(r)),r.length=0,i.push(await this.runHook(e,n,t))):r.push(this.runHook(e,n,t));return i.push(...await Promise.all(r)),i.reduce(s,await t)}hookReduceValueSync(e,t,n,s,i){let r=t;for(const t of this.getSortedPlugins(e)){const o=this.runHookSync(e,n,t,i);r=s.call(this.pluginContexts.get(t),r,o,t)}return r}hookSeq(e,t,n){let s=Promise.resolve();for(const i of this.getSortedPlugins(e))s=s.then((()=>this.runHook(e,t,i,n)));return s.then(Ec)}getSortedPlugins(e,t){return W(this.sortedPlugins,e,(()=>gc(e,this.plugins,t)))}runHook(e,t,n,s){const i=n[e],r="object"==typeof i?i.handler:i;let o=this.pluginContexts.get(n);s&&(o=s(o,n));let a=null;return Promise.resolve().then((()=>{if("function"!=typeof r)return r;const s=r.apply(o,t);return s?.then?(a=[n.name,e,t],this.unfulfilledActions.add(a),Promise.resolve(s).then((e=>(this.unfulfilledActions.delete(a),e)))):s})).catch((t=>(null!==a&&this.unfulfilledActions.delete(a),Qe(en(t,n.name,{hook:e})))))}runHookSync(e,t,n,s){const i=n[e],r="object"==typeof i?i.handler:i;let o=this.pluginContexts.get(n);s&&(o=s(o,n));try{return r.apply(o,t)}catch(t){return Qe(en(t,n.name,{hook:e}))}}}function gc(e,t,n=yc){const s=[],i=[],r=[];for(const o of t){const t=o[e];if(t){if("object"==typeof t){if(n(t.handler,e,o),"pre"===t.order){s.push(o);continue}if("post"===t.order){r.push(o);continue}}else n(t,e,o);i.push(o)}}return[...s,...i,...r]}function yc(e,t,n){"function"!=typeof e&&Qe(function(e,t){return{code:yt,hook:e,message:`Error running plugin hook "${e}" for plugin "${t}", expected a function hook or an object with a "handler" function.`,plugin:t}}(t,n.name))}function bc(e,t,n){if("string"!=typeof e&&"function"!=typeof e)return Qe(function(e,t){return{code:yt,hook:e,message:`Error running plugin hook "${e}" for plugin "${t}", expected a string, a function hook or an object with a "handler" string or function.`,plugin:t}}(t,n.name))}function Ec(){}class xc{constructor(e){this.maxParallel=e,this.queue=[],this.workerCount=0}run(e){return new Promise(((t,n)=>{this.queue.push({reject:n,resolve:t,task:e}),this.work()}))}async work(){if(this.workerCount>=this.maxParallel)return;let e;for(this.workerCount++;e=this.queue.shift();){const{reject:t,resolve:n,task:s}=e;try{n(await s())}catch(e){t(e)}}this.workerCount--}}class $c{constructor(e,t){if(this.options=e,this.astLru=function(e){var t,n,s,i=e||1;function r(e,r){++t>i&&(s=n,o(1),++t),n[e]=r}function o(e){t=0,n=Object.create(null),e||(s=Object.create(null))}return o(),{clear:o,has:function(e){return void 0!==n[e]||void 0!==s[e]},get:function(e){var t=n[e];return void 0!==t?t:void 0!==(t=s[e])?(r(e,t),t):void 0},set:function(e,t){void 0!==n[e]?n[e]=t:r(e,t)}}}(5),this.cachedModules=new Map,this.deoptimizationTracker=new se,this.entryModules=[],this.modulesById=new Map,this.needsTreeshakingPass=!1,this.phase=po.LOAD_AND_PARSE,this.scope=new ic,this.watchFiles=Object.create(null),this.watchMode=!1,this.externalModules=[],this.implicitEntryModules=[],this.modules=[],this.getModuleInfo=e=>{const t=this.modulesById.get(e);return t?t.info:null},!1!==e.cache){if(e.cache?.modules)for(const t of e.cache.modules)this.cachedModules.set(t.id,t);this.pluginCache=e.cache?.plugins||Object.create(null);for(const e in this.pluginCache){const t=this.pluginCache[e];for(const e of Object.values(t))e[0]++}}if(t){this.watchMode=!0;const e=(...e)=>this.pluginDriver.hookParallel("watchChange",e),n=()=>this.pluginDriver.hookParallel("closeWatcher",[]);t.onCurrentRun("change",e),t.onCurrentRun("close",n)}this.pluginDriver=new mc(this,e,e.plugins,this.pluginCache),this.moduleLoader=new Ql(this,this.modulesById,this.options,this.pluginDriver),this.fileOperationQueue=new xc(e.maxParallelFileOps),this.pureFunctions=(({treeshake:e})=>{const t=Object.create(null);for(const n of e?e.manualPureFunctions:[]){let e=t;for(const t of n.split("."))e=e[t]||=Object.create(null);e[_s]=!0}return t})(e)}async build(){Jo("generate module graph",2),await this.generateModuleGraph(),Zo("generate module graph",2),Jo("sort and bind modules",2),this.phase=po.ANALYSE,this.sortModules(),Zo("sort and bind modules",2),Jo("mark included statements",2),this.includeStatements(),Zo("mark included statements",2),this.phase=po.GENERATE}getCache(){for(const e in this.pluginCache){const t=this.pluginCache[e];let n=!0;for(const[e,s]of Object.entries(t))s[0]>=this.options.experimentalCacheExpiry?delete t[e]:n=!1;n&&delete this.pluginCache[e]}return{modules:this.modules.map((e=>e.toJSON())),plugins:this.pluginCache}}async generateModuleGraph(){var e;if(({entryModules:this.entryModules,implicitEntryModules:this.implicitEntryModules}=await this.moduleLoader.addEntryModules((e=this.options.input,Array.isArray(e)?e.map((e=>({fileName:null,id:e,implicitlyLoadedAfter:[],importer:void 0,name:null}))):Object.entries(e).map((([e,t])=>({fileName:null,id:t,implicitlyLoadedAfter:[],importer:void 0,name:e})))),!0)),0===this.entryModules.length)throw new Error("You must supply options.input to rollup");for(const e of this.modulesById.values())e instanceof ra?this.modules.push(e):this.externalModules.push(e)}includeStatements(){const e=[...this.entryModules,...this.implicitEntryModules];for(const t of e)ta(t);if(this.options.treeshake){let t=1;do{Jo(`treeshaking pass ${t}`,3),this.needsTreeshakingPass=!1;for(const e of this.modules)e.isExecuted&&("no-treeshake"===e.info.moduleSideEffects?e.includeAllInBundle():e.include());if(1===t)for(const t of e)!1!==t.preserveSignature&&(t.includeAllExports(!1),this.needsTreeshakingPass=!0);Zo("treeshaking pass "+t++,3)}while(this.needsTreeshakingPass)}else for(const e of this.modules)e.includeAllInBundle();for(const e of this.externalModules)e.warnUnusedImports();for(const e of this.implicitEntryModules)for(const t of e.implicitlyLoadedAfter)t.info.isEntry||t.isIncluded()||Qe(Xt(t))}sortModules(){const{orderedModules:e,cyclePaths:t}=function(e){let t=0;const n=[],s=new Set,i=new Set,r=new Map,o=[],a=e=>{if(e instanceof ra){for(const t of e.dependencies)r.has(t)?s.has(t)||n.push(gl(t,e,r)):(r.set(t,e),a(t));for(const t of e.implicitlyLoadedBefore)i.add(t);for(const{resolution:t}of e.dynamicImports)t instanceof ra&&i.add(t);o.push(e)}e.execIndex=t++,s.add(e)};for(const t of e)r.has(t)||(r.set(t,null),a(t));for(const e of i)r.has(e)||(r.set(e,null),a(e));return{cyclePaths:n,orderedModules:o}}(this.entryModules);for(const e of t)this.options.onLog(Pe,Vt(e));this.modules=e;for(const e of this.modules)e.bindReferences();this.warnForMissingExports()}warnForMissingExports(){for(const e of this.modules)for(const t of e.importDescriptions.values())"*"===t.name||t.module.getVariableForExportName(t.name)[0]||e.log(Pe,Yt(t.name,e.id,t.module.id),t.start)}}function Ac(e,t){return t()}function Sc(e,t,s,i){e=gc("onLog",e);const r=Ce[i],o=(i,a,l=Ae)=>{if(!(Ce[i]<r)){for(const t of e){if(l.has(t))continue;const{onLog:e}=t,c=e=>Ce[e]<r?Bs:n=>o(e,Ul(n),new Set(l).add(t));if(!1===("handler"in e?e.handler:e).call({debug:c(Ne),error:e=>Qe(Ul(e)),info:c(ke),meta:{rollupVersion:n,watchMode:s},warn:c(Pe)},i,a))return}t(i,a)}};return o}const wc=e=>!0===e.cache?void 0:e.cache?.cache||e.cache,vc=e=>{if(!0===e)return()=>!0;if("function"==typeof e)return(t,...n)=>!t.startsWith("\0")&&e(t,...n)||!1;if(e){const n=new Set,s=[];for(const i of(t=e,Array.isArray(t)?t.filter(Boolean):t?[t]:[]))i instanceof RegExp?s.push(i):n.add(i);return(e,...t)=>n.has(e)||s.some((t=>t.test(e)))}var t;return()=>!1},Ic=e=>{const t=e.input;return null==t?[]:"string"==typeof t?[t]:t},Pc=e=>{const t=e.maxParallelFileOps;return"number"==typeof t?t<=0?1/0:t:20},kc=(e,t)=>{const n=e.moduleContext;if("function"==typeof n)return e=>n(e)??t;if(n){const e=Object.create(null);for(const[t,s]of Object.entries(n))e[R(t)]=s;return n=>e[n]??t}return()=>t},Nc=e=>{if(!1===e.treeshake)return!1;const t=Yl(e.treeshake,ql,"treeshake","configuration-options/#treeshake","false, true, ");return{annotations:!1!==t.annotations,correctVarValueBeforeDeclaration:!0===t.correctVarValueBeforeDeclaration,manualPureFunctions:t.manualPureFunctions??$e,moduleSideEffects:Cc(t.moduleSideEffects),propertyReadSideEffects:"always"===t.propertyReadSideEffects?"always":!1!==t.propertyReadSideEffects,tryCatchDeoptimization:!1!==t.tryCatchDeoptimization,unknownGlobalSideEffects:!1!==t.unknownGlobalSideEffects}},Cc=e=>{if("boolean"==typeof e)return()=>e;if("no-external"===e)return(e,t)=>!t;if("function"==typeof e)return(t,n)=>!!t.startsWith("\0")||!1!==e(t,n);if(Array.isArray(e)){const t=new Set(e);return e=>t.has(e)}return e&&Qe(Kt("treeshake.moduleSideEffects","configuration-options/#treeshake-modulesideeffects",'please use one of false, "no-external", a function or an array')),()=>!0},Mc=/[\u0000-\u001F"#$&*+,:;<=>?[\]^`{|}\u007F]/g,Oc=/^[a-z]:/i;function Dc(e){const t=Oc.exec(e),n=t?t[0]:"";return n+e.slice(n.length).replace(Mc,"_")}const Rc=(e,t,n)=>{const{file:s}=e;if("string"==typeof s){if(t)return Qe(Kt("output.file",Ue,'you must set "output.dir" instead of "output.file" when using the "output.preserveModules" option'));if(!Array.isArray(n.input))return Qe(Kt("output.file",Ue,'you must set "output.dir" instead of "output.file" when providing named inputs'))}return s},Lc=e=>{const t=e.format;switch(t){case void 0:case"es":case"esm":case"module":return"es";case"cjs":case"commonjs":return"cjs";case"system":case"systemjs":return"system";case"amd":case"iife":case"umd":return t;default:return Qe(Kt("output.format",He,'Valid values are "amd", "cjs", "system", "es", "iife" or "umd"',t))}},_c=(e,t)=>{const n=e.inlineDynamicImports||!1,{input:s}=t;return n&&(Array.isArray(s)?s:Object.keys(s)).length>1?Qe(Kt("output.inlineDynamicImports",Ke,'multiple inputs are not supported when "output.inlineDynamicImports" is true')):n},Bc=(e,t,n)=>{const s=e.preserveModules||!1;if(s){if(t)return Qe(Kt("output.inlineDynamicImports",Ke,'this option is not supported for "output.preserveModules"'));if(!1===n.preserveEntrySignatures)return Qe(Kt("preserveEntrySignatures","configuration-options/#preserveentrysignatures",'setting this option to false is not supported for "output.preserveModules"'))}return s},Tc=e=>{const{preserveModulesRoot:t}=e;if(null!=t)return R(t)},zc=e=>{const t={autoId:!1,basePath:"",define:"define",forceJsExtensionForImports:!1,...e.amd};return(t.autoId||t.basePath)&&t.id?Qe(Kt("output.amd.id",je,'this option cannot be used together with "output.amd.autoId"/"output.amd.basePath"')):t.basePath&&!t.autoId?Qe(Kt("output.amd.basePath","configuration-options/#output-amd-basepath",'this option only works with "output.amd.autoId"')):t.autoId?{autoId:!0,basePath:t.basePath,define:t.define,forceJsExtensionForImports:t.forceJsExtensionForImports}:{autoId:!1,define:t.define,forceJsExtensionForImports:t.forceJsExtensionForImports,id:t.id}},Vc=(e,t)=>{const n=e[t];return"function"==typeof n?n:()=>n||""},Fc=(e,t)=>{const{dir:n}=e;return"string"==typeof n&&"string"==typeof t?Qe(Kt("output.dir",Ue,'you must set either "output.file" for a single-file build or "output.dir" when generating multiple chunks')):n},jc=(e,t)=>{const n=e.entryFileNames;return null==n&&t.add("entryFileNames"),n??"[name].js"};function Uc(e,t){const n=e.exports;if(null==n)t.add("exports");else if(!["default","named","none","auto"].includes(n))return Qe({code:pt,message:`"output.exports" must be "default", "named", "none", "auto", or left unspecified (defaults to "auto"), received "${n}".`,url:ze(Ge)});return n||"auto"}const Gc=(e,t)=>(null!=e.externalImportAssertions&&on('The "output.externalImportAssertions" option is deprecated. Use the "output.externalImportAttributes" option instead.',"configuration-options/#output-externalimportattributes",!0,t),e.externalImportAttributes??e.externalImportAssertions??!0),Wc=e=>{const t=Yl(e.generatedCode,Kl,"output.generatedCode","configuration-options/#output-generatedcode","");return{arrowFunctions:!0===t.arrowFunctions,constBindings:!0===t.constBindings,objectShorthand:!0===t.objectShorthand,reservedNamesAsProps:!1!==t.reservedNamesAsProps,symbols:!0===t.symbols}},Hc=(e,t)=>{if(t)return"";const n=e.indent;return!1===n?"":n??!0},qc=new Set(["compat","auto","esModule","default","defaultOnly"]),Kc=e=>{const t=e.interop;if("function"==typeof t){const e=Object.create(null);let n=null;return s=>null===s?n||Yc(n=t(s)):s in e?e[s]:Yc(e[s]=t(s))}return void 0===t?()=>"default":()=>Yc(t)},Yc=e=>qc.has(e)?e:Qe(Kt("output.interop",Ye,`use one of ${Array.from(qc,(e=>JSON.stringify(e))).join(", ")}`,e)),Xc=(e,t,n)=>{const s=e.manualChunks;if(s){if(t)return Qe(Kt("output.manualChunks",Xe,'this option is not supported for "output.inlineDynamicImports"'));if(n)return Qe(Kt("output.manualChunks",Xe,'this option is not supported for "output.preserveModules"'))}return s||{}},Jc=(e,t,n)=>e.minifyInternalExports??(n||"es"===t||"system"===t),Zc=(e,t)=>{const n=e.sourcemapFileNames;return null==n&&t.add("sourcemapFileNames"),n},Qc=e=>{const{sourcemapBaseUrl:t}=e;if(t)return function(e){try{new URL(e)}catch{return!1}return!0}(t)?(n=t).endsWith("/")?n:n+"/":Qe(Kt("output.sourcemapBaseUrl","configuration-options/#output-sourcemapbaseurl",`must be a valid URL, received ${JSON.stringify(t)}`));var n};function ed(e,t){for(const[n,s]of e.entries())s.name||(s.name=`${t}${n+1}`)}async function td(e,t,n,s,i){const{options:r,outputPluginDriver:o,unsetOptions:a}=await async function(e,t,n,s){if(!e)throw new Error("You must supply an options object");const i=await Xl(e.plugins);ed(i,Bl);const r=t.createOutputPluginDriver(i);return{...await nd(n,s,e,r),outputPluginDriver:r}}(s,i.pluginDriver,t,n);return Ac(0,(async()=>{const n=new Nl(r,a,t,o,i),s=await n.generate(e);if(e){if(Jo("WRITE",1),!r.dir&&!r.file)return Qe({code:vt,message:'You must specify "output.file" or "output.dir" for the build.',url:ze(Ue)});await Promise.all(Object.values(s).map((e=>i.fileOperationQueue.run((()=>async function(e,t){const n=R(t.dir||M(t.file),e.fileName);return await Ol(M(n),{recursive:!0}),Rl(n,"asset"===e.type?e.source:e.code)}(e,r)))))),await o.hookParallel("writeBundle",[r,s]),Zo("WRITE",1)}return l=s,{output:Object.values(l).filter((e=>Object.keys(e).length>0)).sort(((e,t)=>id(e)-id(t)))};var l}))}function nd(e,t,n,s){return async function(e,t,n){const s=new Set(n),i=e.compact||!1,r=Lc(e),o=_c(e,t),a=Bc(e,o,t),l=Rc(e,a,t),c=Wc(e),d=Gc(e,t),u={amd:zc(e),assetFileNames:e.assetFileNames??"assets/[name]-[hash][extname]",banner:Vc(e,"banner"),chunkFileNames:e.chunkFileNames??"[name]-[hash].js",compact:i,dir:Fc(e,l),dynamicImportInCjs:e.dynamicImportInCjs??!0,entryFileNames:jc(e,s),esModule:e.esModule??"if-default-prop",experimentalMinChunkSize:e.experimentalMinChunkSize??1,exports:Uc(e,s),extend:e.extend||!1,externalImportAssertions:d,externalImportAttributes:d,externalLiveBindings:e.externalLiveBindings??!0,file:l,footer:Vc(e,"footer"),format:r,freeze:e.freeze??!0,generatedCode:c,globals:e.globals||{},hoistTransitiveImports:e.hoistTransitiveImports??!0,indent:Hc(e,i),inlineDynamicImports:o,interop:Kc(e),intro:Vc(e,"intro"),manualChunks:Xc(e,o,a),minifyInternalExports:Jc(e,r,i),name:e.name,noConflict:e.noConflict||!1,outro:Vc(e,"outro"),paths:e.paths||{},plugins:await Xl(e.plugins),preserveModules:a,preserveModulesRoot:Tc(e),sanitizeFileName:"function"==typeof e.sanitizeFileName?e.sanitizeFileName:!1===e.sanitizeFileName?e=>e:Dc,sourcemap:e.sourcemap||!1,sourcemapBaseUrl:Qc(e),sourcemapExcludeSources:e.sourcemapExcludeSources||!1,sourcemapFile:e.sourcemapFile,sourcemapFileNames:Zc(e,s),sourcemapIgnoreList:"function"==typeof e.sourcemapIgnoreList?e.sourcemapIgnoreList:!1===e.sourcemapIgnoreList?()=>!1:e=>e.includes("node_modules"),sourcemapPathTransform:e.sourcemapPathTransform,strict:e.strict??!0,systemNullSetters:e.systemNullSetters??!0,validate:e.validate||!1};return Hl(e,Object.keys(u),"output options",t.onLog),{options:u,unsetOptions:s}}(s.hookReduceArg0Sync("outputOptions",[n],((e,t)=>t||e),(e=>{const t=()=>e.error({code:rt,message:'Cannot emit files or set asset sources in the "outputOptions" hook, use the "renderStart" hook instead.'});return{...e,emitFile:t,setAssetSource:t}})),e,t)}var sd;function id(e){return"asset"===e.type?sd.ASSET:e.isEntry?sd.ENTRY_CHUNK:sd.SECONDARY_CHUNK}!function(e){e[e.ENTRY_CHUNK=0]="ENTRY_CHUNK",e[e.SECONDARY_CHUNK=1]="SECONDARY_CHUNK",e[e.ASSET=2]="ASSET"}(sd||(sd={})),e.VERSION=n,e.defineConfig=function(e){return e},e.rollup=function(e){return async function(e,t){const{options:s,unsetOptions:i}=await async function(e,t){if(!e)throw new Error("You must supply an options object to rollup");const s=await async function(e,t){const s=gc("options",await Xl(e.plugins)),i=e.logLevel||ke,r=Sc(s,Vl(e,i),t,i);for(const o of s){const{name:s,options:a}=o,l="handler"in a?a.handler:a,c=await l.call({debug:hc(Ne,"PLUGIN_LOG",r,s,i),error:e=>Qe(en(Ul(e),s,{hook:"onLog"})),info:hc(ke,"PLUGIN_LOG",r,s,i),meta:{rollupVersion:n,watchMode:t},warn:hc(Pe,"PLUGIN_WARNING",r,s,i)},e);c&&(e=c)}return e}(e,t),{options:i,unsetOptions:r}=await async function(e,t){const n=new Set,s=e.context??"undefined",i=await Xl(e.plugins),r=e.logLevel||ke,o=Sc(i,Vl(e,r),t,r),a=e.strictDeprecations||!1,l=Pc(e),c={cache:wc(e),context:s,experimentalCacheExpiry:e.experimentalCacheExpiry??10,experimentalLogSideEffects:e.experimentalLogSideEffects||!1,external:vc(e.external),input:Ic(e),logLevel:r,makeAbsoluteExternalsRelative:e.makeAbsoluteExternalsRelative??"ifRelativeSource",maxParallelFileOps:l,moduleContext:kc(e,s),onLog:o,perf:e.perf||!1,plugins:i,preserveEntrySignatures:e.preserveEntrySignatures??"exports-only",preserveSymlinks:e.preserveSymlinks||!1,shimMissingExports:e.shimMissingExports||!1,strictDeprecations:a,treeshake:Nc(e)};return Hl(e,[...Object.keys(c),"onwarn","watch"],"input options",o,/^(output)$/),{options:c,unsetOptions:n}}(s,t);return ed(i.plugins,_l),{options:i,unsetOptions:r}}(e,null!==t);(function(e){e.perf?(Ho=new Map,Jo=Ko,Zo=Yo,e.plugins=e.plugins.map(ea)):(Jo=Bs,Zo=Bs)})(s),await async function(){await _o()}();const r=new $c(s,t),o=!1!==e.cache;e.cache&&(s.cache=void 0,e.cache=void 0);Jo("BUILD",1),await Ac(r.pluginDriver,(async()=>{try{Jo("initialize",2),await r.pluginDriver.hookParallel("buildStart",[s]),Zo("initialize",2),await r.build()}catch(e){const t=Object.keys(r.watchFiles);throw t.length>0&&(e.watchFiles=t),await r.pluginDriver.hookParallel("buildEnd",[e]),await r.pluginDriver.hookParallel("closeBundle",[]),e}await r.pluginDriver.hookParallel("buildEnd",[])})),Zo("BUILD",1);const a={cache:o?r.getCache():void 0,async close(){a.closed||(a.closed=!0,await r.pluginDriver.hookParallel("closeBundle",[]))},closed:!1,generate:async e=>a.closed?Qe(Bt()):td(!1,s,i,e,r),watchFiles:Object.keys(r.watchFiles),write:async e=>a.closed?Qe(Bt()):td(!0,s,i,e,r)};s.perf&&(a.getTimings=Xo);return a}(e,null)}}));
//# sourceMappingURL=rollup.browser.js.map
```
